<head><script type="module">import{createPinia as e,defineStore as t}from'https://testingcf.jsdelivr.net/npm/pinia/+esm';import{waitUntil as a}from'https://testingcf.jsdelivr.net/npm/async-wait-until/+esm';import{klona as l}from'https://testingcf.jsdelivr.net/npm/klona/+esm';const n=Vue,o='sex-world-status-theme',i='sex-world-status-collapsed',c='sex-world-status-active-tab';let r=null;const s=t('sex-world-status',()=>{const e=(0,n.ref)('night'),t=(0,n.ref)(!1),a=(0,n.ref)('home'),l=(0,n.ref)('N/A'),s=(0,n.ref)('N/A'),d=(0,n.ref)('N/A'),u=(0,n.ref)('N/A'),m=(0,n.ref)({å§“å:'N/A',æ€§åˆ«:'N/A',å¹´é¾„:'N/A',èŒä¸š:'N/A'}),v=(0,n.ref)([]),p=(0,n.computed)(()=>v.value.find(e=>e.key===a.value)??null);return(0,n.watch)(e,e=>{'undefined'!=typeof localStorage&&localStorage.setItem(o,e)}),(0,n.watch)(t,e=>{'undefined'!=typeof localStorage&&localStorage.setItem(i,e?'true':'false')}),(0,n.watch)(a,e=>{'undefined'!=typeof localStorage&&(e?localStorage.setItem(c,e):localStorage.removeItem(c))}),{theme:e,collapsed:t,activeTabKey:a,time:l,date:s,worldType:d,kink:u,player:m,partners:v,activePartner:p,toggleTheme:function(){e.value='night'===e.value?'day':'night',r&&r.postMessage({theme:e.value})},toggleCollapse:function(){t.value=!t.value},setActiveTab:function(e){a.value=e},loadSettings:function(){if('undefined'==typeof localStorage)return;const l=localStorage.getItem(o),n=localStorage.getItem(i),s=localStorage.getItem(c);'day'!==l&&'night'!==l||(e.value=l),'true'===n&&(t.value=!0),s&&(a.value=s),function(){try{r=new BroadcastChannel('sex-world-theme-sync'),r.onmessage=t=>{t.data&&t.data.theme&&('night'===t.data.theme||'day'===t.data.theme)&&t.data.theme!==e.value&&(e.value=t.data.theme)}}catch(e){}}()},ensureActiveTab:function(){if(!a.value)return void(a.value='home');if('home'===a.value||'kink'===a.value)return;if(!v.value.length)return void(a.value='home');v.value.some(e=>e.key===a.value)||(a.value=v.value[0].key)}}}),d=['data-theme'],u={class:'status-card'},m={class:'header-title'},v={class:'header-meta'},p={class:'meta-chip'},f={class:'meta-chip'},k={class:'meta-chip'},N={class:'header-actions'},E={class:'tabs','aria-label':'çŠ¶æ€æ åˆ†é¡µ'},g=['onClick'],y={class:'status-body'},V={key:0,class:'status-msg'},b={key:1,class:'status-msg'},h={key:'home'},C={class:'info-grid'},B={class:'info-card'},w={class:'info-value'},S={class:'info-card'},A={class:'info-value'},D={class:'info-card'},T={class:'info-value'},M={class:'info-card'},I={class:'info-value'},x={class:'info-card'},P={class:'info-value'},j={key:'kink'},K={class:'kink-panel'},U={class:'kink-scroll'},O={class:'kink-value'},L={key:0,class:'kink-editor'},F={key:0,class:'kink-error'},W={key:'partner'},G={key:0,class:'partner-panel'},R={class:'partner-header'},q={class:'partner-name'},H={class:'partner-tags'},J={class:'partner-chip'},Q={class:'partner-chip'},X={class:'partner-chip'},Y={class:'partner-details'},Z={class:'detail-item'},ee={class:'detail-value'},te={class:'detail-item'},ae={class:'detail-value'},le={class:'detail-item'},ne={class:'detail-value'},oe={key:0,class:'jung-grid'},ie={key:1,class:'secret-box'},ce={key:1,class:'status-msg'},re={key:2,class:'partner-ai'},se={class:'modal-body'},de={class:'modal-value'},ue={class:'modal-body'},me={class:'modal-value'},ve={class:'modal-body'},pe={key:0,class:'kink-error'},fe=(0,n.defineComponent)({__name:'App',setup(e){const t=s(),a=(0,n.ref)(!0),o=(0,n.ref)(!1),i=(0,n.ref)(''),c=(0,n.ref)(!1),r=(0,n.ref)(''),fe=(0,n.ref)(!1),ke=(0,n.ref)(''),Ne=(0,n.ref)(''),Ee=(0,n.ref)(''),ye=(0,n.ref)(!1),Ve=(0,n.ref)(''),be=(0,n.ref)(!1),he=(0,n.ref)(''),Ce=(0,n.ref)(!1);function Be(e){if('function'!=typeof triggerSlash)return;const t=window.parent?.$??window.$,a=t?.('#send_textarea')?.val?.()??'',l=String(a||'');triggerSlash(`/setinput ${l?`${l}\n${e}`:e}`)}function we(){const e=Mvu.getMvuData({type:'message',message_id:getCurrentMessageId()}),l=_.get(e,'stat_data');if(!l)return o.value=!0,void(a.value=!1);ge(l,t),o.value=!1,a.value=!1}function Se(){i.value=t.kink,c.value=!1,r.value=''}function Ae(){const e=t.activePartner;e&&(he.value=`ç”¨æˆ·å·²ç§»é™¤äº’åŠ¨å¯¹è±¡ï¼š${e.å§“å}ï¼Œç›¸å…³å˜é‡å·²è¢«ç”¨æˆ·ç§»é™¤ã€‚`,be.value=!0)}function De(){be.value=!1}function Te(){const e=t.activePartner;e&&(updateVariablesWith(t=>{const a=l(_.get(t,'stat_data',{})),n=_.get(a,'äº’åŠ¨å¯¹è±¡',{});return n&&'object'==typeof n&&delete n[e.key],_.set(a,'äº’åŠ¨å¯¹è±¡',n),_.set(t,'stat_data',a),t},{type:'message',message_id:getCurrentMessageId()}),Be(he.value),we(),be.value=!1)}function _e(){Ne.value='',Ce.value=!0}function Me(){Ce.value=!1}function Ie(){const e=ke.value.trim(),t=Ee.value.trim();if(!e)return void(Ne.value='è¯·è¾“å…¥è¦æ–°å¢žçš„è§’è‰²å');if(!t)return void(Ne.value='è¯·è¡¥å……è§’è‰²ä¿¡æ¯');Ne.value='';Be(`è¯·æ–°å¢žäº’åŠ¨å¯¹è±¡ï¼š${e}ã€‚è§’è‰²ä¿¡æ¯ï¼š${t}ã€‚è¯·æŒ‰å½“å‰ä¸–ç•Œè§‚è¡¥å…¨å…¶å§“åã€æ€§åˆ«ã€å¹´é¾„ã€èŒä¸šã€æ ¸å¿ƒç‰¹å¾ã€éšè—çš„ç§˜å¯†ã€æ˜¯å¦å¤„å­ä¸Žè£æ ¼å…«ç»´ï¼Œå¹¶å†™å…¥äº’åŠ¨å¯¹è±¡å˜é‡ã€‚`),ke.value='',Ee.value='',Ce.value=!1}function xe(){const e=i.value.trim();e?(r.value='',Ve.value=e,ye.value=!0):r.value='è¯·å…ˆè¾“å…¥æ€§ç™–å†…å®¹'}function Pe(){ye.value=!1}function je(){const e=Ve.value.trim();ye.value=!1,e&&(updateVariablesWith(t=>{const a=l(_.get(t,'stat_data',{}));return _.set(a,'æ€§ç™–',e),_.set(t,'stat_data',a),t},{type:'message',message_id:getCurrentMessageId()}),t.kink=e,i.value=e,c.value=!1)}return(0,n.watch)(()=>t.kink,e=>{c.value||(i.value=e)},{immediate:!0}),(0,n.watch)(()=>t.activeTabKey,e=>{'kink'!==e&&(fe.value=!1,c.value=!1,r.value='')}),(0,n.onMounted)(()=>{t.loadSettings();try{we(),eventOn(Mvu.events.VARIABLE_UPDATE_ENDED,()=>{we()})}catch(e){console.error('çŠ¶æ€æ æ¸²æŸ“å¤±è´¥:',e),a.value=!1,o.value=!0}}),(e,l)=>((0,n.openBlock)(),(0,n.createElementBlock)('div',{class:(0,n.normalizeClass)(['status-shell',{collapsed:(0,n.unref)(t).collapsed}]),'data-theme':(0,n.unref)(t).theme},[(0,n.createElementVNode)('div',u,[(0,n.createElementVNode)('header',{class:'status-header',onClick:l[5]||(l[5]=(...e)=>(0,n.unref)(t).toggleCollapse&&(0,n.unref)(t).toggleCollapse(...e))},[(0,n.createElementVNode)('div',m,[l[16]||(l[16]=(0,n.createElementVNode)('div',{class:'header-kicker'},'åå¥½è¿½è¸ª Â· MVU',-1)),l[17]||(l[17]=(0,n.createElementVNode)('div',{class:'header-name'},'æ€§ç™–å¤§ä¸–ç•Œ Â· çŠ¶æ€æ ',-1)),(0,n.createElementVNode)('div',v,[(0,n.createElementVNode)('span',p,(0,n.toDisplayString)((0,n.unref)(t).date||'æ—¥æœŸæœªçŸ¥'),1),(0,n.createElementVNode)('span',f,(0,n.toDisplayString)((0,n.unref)(t).time||'æ—¶é—´æœªçŸ¥'),1),(0,n.createElementVNode)('span',k,(0,n.toDisplayString)((0,n.unref)(t).worldType||'ä¸–ç•Œæœªå®š'),1)])]),(0,n.createElementVNode)('div',{class:'header-right',onClick:l[4]||(l[4]=(0,n.withModifiers)(()=>{},['stop']))},[(0,n.createElementVNode)('div',N,[(0,n.createElementVNode)('button',{type:'button',title:'åˆ‡æ¢ä¸»é¢˜',onClick:l[0]||(l[0]=(0,n.withModifiers)((...e)=>(0,n.unref)(t).toggleTheme&&(0,n.unref)(t).toggleTheme(...e),['stop']))},(0,n.toDisplayString)('night'===(0,n.unref)(t).theme?'â˜€ï¸':'ðŸŒ™'),1),(0,n.createElementVNode)('button',{type:'button',title:'å±•å¼€/æ”¶èµ·',onClick:l[1]||(l[1]=(0,n.withModifiers)((...e)=>(0,n.unref)(t).toggleCollapse&&(0,n.unref)(t).toggleCollapse(...e),['stop']))},[...l[18]||(l[18]=[(0,n.createElementVNode)('span',{class:'collapse-icon'},'â–²',-1)])])]),(0,n.createElementVNode)('nav',E,[(0,n.createElementVNode)('button',{type:'button',class:(0,n.normalizeClass)(['tab-button',{active:'home'===(0,n.unref)(t).activeTabKey}]),onClick:l[2]||(l[2]=(0,n.withModifiers)(e=>(0,n.unref)(t).setActiveTab('home'),['stop']))},' ä¸»é¡µ ',2),((0,n.openBlock)(!0),(0,n.createElementBlock)(n.Fragment,null,(0,n.renderList)((0,n.unref)(t).partners,e=>((0,n.openBlock)(),(0,n.createElementBlock)('button',{key:e.key,type:'button',class:(0,n.normalizeClass)(['tab-button',{active:e.key===(0,n.unref)(t).activeTabKey}]),onClick:(0,n.withModifiers)(a=>(0,n.unref)(t).setActiveTab(e.key),['stop'])},(0,n.toDisplayString)(e.displayName),11,g))),128)),(0,n.createElementVNode)('button',{type:'button',class:(0,n.normalizeClass)(['tab-button',{active:'kink'===(0,n.unref)(t).activeTabKey}]),onClick:l[3]||(l[3]=(0,n.withModifiers)(e=>(0,n.unref)(t).setActiveTab('kink'),['stop']))},' å½“å‰æ€§ç™– ',2)])])]),(0,n.createElementVNode)('section',y,[a.value?((0,n.openBlock)(),(0,n.createElementBlock)('div',V,'æ­£åœ¨åŒæ­¥ MVU çŠ¶æ€æ•°æ®...')):o.value?((0,n.openBlock)(),(0,n.createElementBlock)('div',b,'æš‚æ— å¯ç”¨çš„çŠ¶æ€æ•°æ®ï¼Œè¯·ç­‰å¾…å˜é‡åˆå§‹åŒ–ã€‚')):((0,n.openBlock)(),(0,n.createBlock)(n.Transition,{key:2,name:'page',mode:'out-in'},{default:(0,n.withCtx)(()=>['home'===(0,n.unref)(t).activeTabKey?((0,n.openBlock)(),(0,n.createElementBlock)('div',h,[(0,n.createElementVNode)('div',C,[(0,n.createElementVNode)('div',B,[l[19]||(l[19]=(0,n.createElementVNode)('div',{class:'info-label'},'çŽ©å®¶å§“å',-1)),(0,n.createElementVNode)('div',w,(0,n.toDisplayString)((0,n.unref)(t).player.å§“å),1)]),(0,n.createElementVNode)('div',S,[l[20]||(l[20]=(0,n.createElementVNode)('div',{class:'info-label'},'çŽ©å®¶æ€§åˆ«',-1)),(0,n.createElementVNode)('div',A,(0,n.toDisplayString)((0,n.unref)(t).player.æ€§åˆ«),1)]),(0,n.createElementVNode)('div',D,[l[21]||(l[21]=(0,n.createElementVNode)('div',{class:'info-label'},'çŽ©å®¶å¹´é¾„',-1)),(0,n.createElementVNode)('div',T,(0,n.toDisplayString)((0,n.unref)(t).player.å¹´é¾„),1)]),(0,n.createElementVNode)('div',M,[l[22]||(l[22]=(0,n.createElementVNode)('div',{class:'info-label'},'çŽ©å®¶èŒä¸š',-1)),(0,n.createElementVNode)('div',I,(0,n.toDisplayString)((0,n.unref)(t).player.èŒä¸š),1)]),(0,n.createElementVNode)('div',x,[l[23]||(l[23]=(0,n.createElementVNode)('div',{class:'info-label'},'ä¸–ç•Œè§‚ç±»åž‹',-1)),(0,n.createElementVNode)('div',P,(0,n.toDisplayString)((0,n.unref)(t).worldType),1)])])])):'kink'===(0,n.unref)(t).activeTabKey?((0,n.openBlock)(),(0,n.createElementBlock)('div',j,[(0,n.createElementVNode)('div',K,[l[26]||(l[26]=(0,n.createElementVNode)('div',{class:'info-label'},'å½“å‰æ€§ç™–',-1)),(0,n.createElementVNode)('div',U,[(0,n.createElementVNode)('div',O,(0,n.toDisplayString)((0,n.unref)(t).kink),1)]),l[27]||(l[27]=(0,n.createElementVNode)('div',{class:'kink-note'},'å°†åå¥½ä½œä¸ºå‰§æƒ…é©±åŠ¨ï¼Œç»†èŠ‚ä¼šåœ¨äº’åŠ¨ä¸­é€æ­¥æ˜¾å½±ã€‚',-1)),(0,n.createElementVNode)('button',{type:'button',class:'action-button ghost kink-toggle',onClick:l[6]||(l[6]=e=>fe.value=!fe.value)},' æ‰‹åŠ¨ä¿®æ”¹æ€§ç™– '),fe.value?((0,n.openBlock)(),(0,n.createElementBlock)('div',L,[l[24]||(l[24]=(0,n.createElementVNode)('div',{class:'kink-help'},'ä¿®æ”¹è¯´æ˜Žï¼šåœ¨ä¸–ç•Œä¹¦é‡ŒæŸ¥çœ‹ç›¸å…³æ¡ç›®çš„åå­—å¡«å…¥å³å¯',-1)),l[25]||(l[25]=(0,n.createElementVNode)('label',{class:'detail-label',for:'kink-input'},'è¾“å…¥æ€§ç™–',-1)),(0,n.withDirectives)((0,n.createElementVNode)('textarea',{id:'kink-input','onUpdate:modelValue':l[7]||(l[7]=e=>i.value=e),class:'kink-input',rows:'3',placeholder:'è¾“å…¥æ–°çš„æ€§ç™–å†…å®¹',onInput:l[8]||(l[8]=e=>c.value=!0)},null,544),[[n.vModelText,i.value]]),(0,n.createElementVNode)('div',{class:'kink-actions'},[(0,n.createElementVNode)('button',{type:'button',class:'action-button',onClick:xe},' ä¿å­˜ä¿®æ”¹ '),(0,n.createElementVNode)('button',{type:'button',class:'action-button ghost',onClick:Se},' è¿˜åŽŸ ')]),r.value?((0,n.openBlock)(),(0,n.createElementBlock)('div',F,(0,n.toDisplayString)(r.value),1)):(0,n.createCommentVNode)('v-if',!0)])):(0,n.createCommentVNode)('v-if',!0)])])):((0,n.openBlock)(),(0,n.createElementBlock)('div',W,[(0,n.unref)(t).activePartner?((0,n.openBlock)(),(0,n.createElementBlock)('div',G,[(0,n.createElementVNode)('div',R,[(0,n.createElementVNode)('div',q,(0,n.toDisplayString)((0,n.unref)(t).activePartner.å§“å),1),(0,n.createElementVNode)('div',H,[(0,n.createElementVNode)('span',J,'æ€§åˆ«ï¼š'+(0,n.toDisplayString)((0,n.unref)(t).activePartner.æ€§åˆ«),1),(0,n.createElementVNode)('span',Q,'å¹´é¾„ï¼š'+(0,n.toDisplayString)((0,n.unref)(t).activePartner.å¹´é¾„),1),(0,n.createElementVNode)('span',X,'èŒä¸šï¼š'+(0,n.toDisplayString)((0,n.unref)(t).activePartner.èŒä¸š),1)])]),(0,n.createElementVNode)('div',Y,[(0,n.createElementVNode)('div',Z,[l[28]||(l[28]=(0,n.createElementVNode)('div',{class:'detail-label'},'æ ¸å¿ƒç‰¹å¾',-1)),(0,n.createElementVNode)('div',ee,(0,n.toDisplayString)((0,n.unref)(t).activePartner.æ ¸å¿ƒç‰¹å¾),1)]),(0,n.createElementVNode)('div',te,[l[29]||(l[29]=(0,n.createElementVNode)('div',{class:'detail-label'},'æ˜¯å¦å¤„å­',-1)),(0,n.createElementVNode)('div',ae,(0,n.toDisplayString)((0,n.unref)(t).activePartner.æ˜¯å¦å¤„å­),1)]),(0,n.createElementVNode)('div',le,[l[30]||(l[30]=(0,n.createElementVNode)('div',{class:'detail-label'},'éšè—çš„ç§˜å¯†',-1)),(0,n.createElementVNode)('div',ne,(0,n.toDisplayString)((0,n.unref)(t).activePartner.éšè—çš„ç§˜å¯†),1)])]),Object.keys((0,n.unref)(t).activePartner.è£æ ¼å…«ç»´).length?((0,n.openBlock)(),(0,n.createElementBlock)('div',oe,[((0,n.openBlock)(!0),(0,n.createElementBlock)(n.Fragment,null,(0,n.renderList)((0,n.unref)(t).activePartner.è£æ ¼å…«ç»´,(e,t)=>((0,n.openBlock)(),(0,n.createElementBlock)('div',{key:t,class:'jung-item'},(0,n.toDisplayString)(t)+'ï¼š'+(0,n.toDisplayString)(e),1))),128))])):((0,n.openBlock)(),(0,n.createElementBlock)('div',ie,'æš‚æ— è£æ ¼å…«ç»´ä¿¡æ¯')),(0,n.createElementVNode)('div',{class:'partner-actions'},[(0,n.createElementVNode)('button',{type:'button',class:'action-button ghost',onClick:Ae},' å¿«æ·ç§»é™¤å½“å‰è§’è‰² ')]),(0,n.createElementVNode)('div',{class:'partner-ai'},[l[31]||(l[31]=(0,n.createElementVNode)('div',{class:'detail-label'},'è®©AIå¢žåŠ æŒ‡å®šè§’è‰²',-1)),(0,n.createElementVNode)('button',{type:'button',class:'action-button',onClick:_e},' è®©AIå¢žåŠ  ')])])):((0,n.openBlock)(),(0,n.createElementBlock)('div',ce,'äº’åŠ¨å¯¹è±¡æœªè®°å½•æˆ–æœªæ»¡åä½ã€‚')),(0,n.unref)(t).activePartner?(0,n.createCommentVNode)('v-if',!0):((0,n.openBlock)(),(0,n.createElementBlock)('div',re,[l[32]||(l[32]=(0,n.createElementVNode)('div',{class:'detail-label'},'è®©AIå¢žåŠ æŒ‡å®šè§’è‰²',-1)),(0,n.createElementVNode)('button',{type:'button',class:'action-button',onClick:_e},' è®©AIå¢žåŠ  ')]))]))]),_:1}))])]),(0,n.createVNode)(n.Transition,{name:'page'},{default:(0,n.withCtx)(()=>[ye.value?((0,n.openBlock)(),(0,n.createElementBlock)('div',{key:0,class:'modal-backdrop',onClick:Pe},[(0,n.createElementVNode)('div',{class:'modal-card',onClick:l[9]||(l[9]=(0,n.withModifiers)(()=>{},['stop']))},[l[35]||(l[35]=(0,n.createElementVNode)('div',{class:'modal-title'},'ç¡®è®¤ä¿®æ”¹æ€§ç™–ï¼Ÿ',-1)),(0,n.createElementVNode)('div',se,[l[33]||(l[33]=(0,n.createElementVNode)('div',{class:'modal-label'},'å°†æ›´æ–°ä¸ºï¼š',-1)),(0,n.createElementVNode)('div',de,(0,n.toDisplayString)(Ve.value),1),l[34]||(l[34]=(0,n.createElementVNode)('div',{class:'modal-tip'},'æç¤ºï¼šä¿®æ”¹å®ŒæˆåŽè¯·åˆ·æ–°ç½‘é¡µä»¥ç¡®ä¿åŒæ­¥ã€‚',-1))]),(0,n.createElementVNode)('div',{class:'modal-actions'},[(0,n.createElementVNode)('button',{type:'button',class:'action-button',onClick:je},' ç¡®è®¤ä¿®æ”¹ '),(0,n.createElementVNode)('button',{type:'button',class:'action-button ghost',onClick:Pe},' å–æ¶ˆ ')])])])):(0,n.createCommentVNode)('v-if',!0)]),_:1}),(0,n.createVNode)(n.Transition,{name:'page'},{default:(0,n.withCtx)(()=>[be.value?((0,n.openBlock)(),(0,n.createElementBlock)('div',{key:0,class:'modal-backdrop',onClick:De},[(0,n.createElementVNode)('div',{class:'modal-card',onClick:l[10]||(l[10]=(0,n.withModifiers)(()=>{},['stop']))},[l[38]||(l[38]=(0,n.createElementVNode)('div',{class:'modal-title'},'ç¡®è®¤ç§»é™¤å½“å‰è§’è‰²ï¼Ÿ',-1)),(0,n.createElementVNode)('div',ue,[l[36]||(l[36]=(0,n.createElementVNode)('div',{class:'modal-label'},'å°†ç§»é™¤è§’è‰²å¹¶å‘ŠçŸ¥ AIï¼š',-1)),(0,n.createElementVNode)('div',me,(0,n.toDisplayString)(he.value),1),l[37]||(l[37]=(0,n.createElementVNode)('div',{class:'modal-tip'},'ç¡®è®¤åŽä¼šä»Žå˜é‡ä¸­åˆ é™¤è¯¥è§’è‰²ã€‚',-1))]),(0,n.createElementVNode)('div',{class:'modal-actions'},[(0,n.createElementVNode)('button',{type:'button',class:'action-button',onClick:Te},' ç¡®è®¤ç§»é™¤ '),(0,n.createElementVNode)('button',{type:'button',class:'action-button ghost',onClick:De},' å–æ¶ˆ ')])])])):(0,n.createCommentVNode)('v-if',!0)]),_:1}),(0,n.createVNode)(n.Transition,{name:'page'},{default:(0,n.withCtx)(()=>[Ce.value?((0,n.openBlock)(),(0,n.createElementBlock)('div',{key:0,class:'modal-backdrop',onClick:Me},[(0,n.createElementVNode)('div',{class:'modal-card',onClick:l[15]||(l[15]=(0,n.withModifiers)(()=>{},['stop']))},[l[41]||(l[41]=(0,n.createElementVNode)('div',{class:'modal-title'},'è®©AIå¢žåŠ æŒ‡å®šè§’è‰²',-1)),(0,n.createElementVNode)('div',ve,[l[39]||(l[39]=(0,n.createElementVNode)('label',{class:'detail-label',for:'ai-role-name'},'è§’è‰²åå­—',-1)),(0,n.withDirectives)((0,n.createElementVNode)('input',{id:'ai-role-name','onUpdate:modelValue':l[11]||(l[11]=e=>ke.value=e),type:'text',class:'partner-ai-input',placeholder:'è¾“å…¥è§’è‰²åå­—',onInput:l[12]||(l[12]=e=>Ne.value='')},null,544),[[n.vModelText,ke.value]]),l[40]||(l[40]=(0,n.createElementVNode)('label',{class:'detail-label',for:'ai-role-info'},'è§’è‰²ä¿¡æ¯',-1)),(0,n.withDirectives)((0,n.createElementVNode)('textarea',{id:'ai-role-info','onUpdate:modelValue':l[13]||(l[13]=e=>Ee.value=e),class:'kink-input',rows:'4',placeholder:'è¯·è¾“å…¥å…³ç³»ã€æ€§æ ¼ã€å¹´é¾„ã€èŒä¸šç­‰ä¿¡æ¯',onInput:l[14]||(l[14]=e=>Ne.value='')},null,544),[[n.vModelText,Ee.value]]),Ne.value?((0,n.openBlock)(),(0,n.createElementBlock)('div',pe,(0,n.toDisplayString)(Ne.value),1)):(0,n.createCommentVNode)('v-if',!0)]),(0,n.createElementVNode)('div',{class:'modal-actions'},[(0,n.createElementVNode)('button',{type:'button',class:'action-button',onClick:Ie},' ç¡®è®¤ '),(0,n.createElementVNode)('button',{type:'button',class:'action-button ghost',onClick:Me},' å–æ¶ˆ ')])])])):(0,n.createCommentVNode)('v-if',!0)]),_:1})],10,d))}});function ke(e,t,a='N/A'){if(!e||'object'!=typeof e)return a;const l=t.split('.');let n=e;for(const e of l){if(null==n||'object'!=typeof n||!Object.prototype.hasOwnProperty.call(n,e))return a;n=n[e]}return null==n||''===n?a:Array.isArray(n)?n.length>0?n[0]:a:n}function Ne(e,t='N/A'){return null==e||''===e?t:String(e)}function Ee(e){return!0===e?'æ˜¯':!1===e?'å¦':'æœªçŸ¥'}function ge(e,t){t.time=Ne(ke(e,'æ—¶é—´','N/A')),t.date=Ne(ke(e,'æ—¥æœŸ','N/A')),t.worldType=Ne(ke(e,'ä¸–ç•Œè®¾å®š.å½“å‰ä¸–ç•Œè§‚ç±»åž‹','N/A')),t.kink=Ne(ke(e,'æ€§ç™–','N/A'));const a=ke(e,'çŽ©å®¶',{});t.player={å§“å:Ne(ke(a,'å§“å','N/A')),æ€§åˆ«:Ne(ke(a,'æ€§åˆ«','N/A')),å¹´é¾„:Ne(ke(a,'å¹´é¾„','N/A')),èŒä¸š:Ne(ke(a,'èŒä¸š','N/A'))};const l=ke(e,'äº’åŠ¨å¯¹è±¡',{}),n=Object.entries(l??{}).slice(0,10);t.partners=n.map(([e,t])=>{const a=Ne(ke(t,'å§“å',''),e||'æœªå‘½å'),l=ke(t,'æ€§æ ¼.è£æ ¼å…«ç»´',{}),n=Object.entries(l??{}).reduce((e,[t,a])=>(a&&(e[t]=String(a)),e),{});return{key:e,displayName:a,å§“å:a,æ€§åˆ«:Ne(ke(t,'æ€§åˆ«','N/A')),å¹´é¾„:Ne(ke(t,'å¹´é¾„','N/A')),èŒä¸š:Ne(ke(t,'èŒä¸š','N/A')),è£æ ¼å…«ç»´:n,æ ¸å¿ƒç‰¹å¾:Ne(ke(t,'æ€§æ ¼.æ ¸å¿ƒç‰¹å¾','N/A')),éšè—çš„ç§˜å¯†:Ne(ke(t,'éšè—çš„ç§˜å¯†','æš‚æ— ')),æ˜¯å¦å¤„å­:Ee(ke(t,'æ˜¯å¦å¤„å­',null))}}),t.ensureActiveTab()}$(async()=>{await waitGlobalInitialized('Mvu'),await a(()=>_.has(getVariables({type:'message'}),'stat_data'));const t=(0,n.createApp)(fe),l=e();t.use(l),t.mount('#app')});export{ge as parseStatusData};
//# sourceMappingURL=index.js.map</script><style>@import url(https://fonts.googleapis.com/css2?family=ZCOOL+XiaoWei&family=LXGW+WenKai&display=swap);
/*! tailwindcss v4.1.18 | MIT License | https://tailwindcss.com */:root{--font-display:'ZCOOL XiaoWei','STKaiti',serif;--font-body:'LXGW WenKai','Noto Serif SC',serif;--color-night-ink:#0c0b10;--color-night-surface:#14131b;--color-night-line:#2f2d3b;--color-night-soft:#3a3947;--color-night-text:#f7f3ee;--color-night-muted:#b3ac9f;--color-day-ink:#f4efe7;--color-day-surface:#fff8ef;--color-day-line:#e5d9c8;--color-day-soft:#f2e5d4;--color-day-text:#2a261f;--color-day-muted:#6b6256;--color-ember:#ff7a33;--color-ember-deep:#d14d17;--color-amber:#f5b65b;--color-jade:#41c7a3;--radius-sm:8px;--radius-md:14px;--radius-lg:18px;--radius-xl:24px;--radius-full:999px;--shadow-soft:0 10px 24px rgba(7,6,14,0.45);--shadow-glow:0 0 24px rgba(255,122,51,0.25)}*{box-sizing:border-box;margin:0;padding:0}body{background:rgba(0,0,0,0);color:var(--color-night-text);font-family:var(--font-body);line-height:1.6;padding:16px}#app{max-width:920px;margin:0 auto}.status-shell{position:relative;border-radius:calc(var(--radius-xl) + 6px);overflow:hidden;background:rgba(0,0,0,0)}.status-shell::before{content:"";position:absolute;inset:0;border-radius:inherit;background-image:radial-gradient(720px 420px at 12% -10%,rgba(255,122,51,0.16),transparent 60%),radial-gradient(620px 380px at 88% -12%,rgba(65,199,163,0.12),transparent 65%),linear-gradient(140deg,rgba(255,255,255,0.03),rgba(255,255,255,0));pointer-events:none;z-index:0}.status-shell[data-theme=night]{--panel-ink:var(--color-night-ink);--panel-surface:var(--color-night-surface);--panel-line:var(--color-night-line);--panel-soft:var(--color-night-soft);--panel-text:var(--color-night-text);--panel-muted:var(--color-night-muted)}.status-shell[data-theme=day]{--panel-ink:var(--color-day-ink);--panel-surface:var(--color-day-surface);--panel-line:var(--color-day-line);--panel-soft:var(--color-day-soft);--panel-text:var(--color-day-text);--panel-muted:var(--color-day-muted)}.status-card{position:relative;z-index:1;padding:18px;border-radius:calc(var(--radius-xl) + 4px);background:var(--panel-ink);@supports (color:color-mix(in lab,red,red)){background:color-mix(in srgb,var(--panel-ink) 85%,transparent)}box-shadow:var(--shadow-soft),inset 0 0 0 1px var(--panel-line)}.status-header{display:flex;align-items:flex-start;justify-content:space-between;gap:16px;flex-wrap:wrap;padding:12px 16px;border-radius:var(--radius-lg);background:linear-gradient(135deg,rgba(255,122,51,0.22),rgba(255,122,51,0.02));border:1px solid var(--panel-line);@supports (color:color-mix(in lab,red,red)){border:1px solid color-mix(in srgb,var(--panel-line) 55%,transparent)}cursor:pointer}.header-title{display:grid;gap:4px}.header-kicker{font-size:.7rem;letter-spacing:.25em;text-transform:uppercase;color:var(--panel-muted)}.header-name{font-family:var(--font-display);font-size:clamp(1.3rem,2.6vw,1.9rem);letter-spacing:.12em;color:var(--panel-text)}.header-meta{display:flex;flex-wrap:wrap;gap:8px;font-size:.8rem;color:var(--panel-muted)}.meta-chip{padding:4px 10px;border-radius:var(--radius-full);background:var(--panel-surface);@supports (color:color-mix(in lab,red,red)){background:color-mix(in srgb,var(--panel-surface) 80%,transparent)}border:1px solid var(--panel-line);@supports (color:color-mix(in lab,red,red)){border:1px solid color-mix(in srgb,var(--panel-line) 50%,transparent)}}.header-actions{display:flex;align-items:center;gap:8px;justify-content:flex-end}.header-actions button{width:34px;height:34px;border:none;border-radius:var(--radius-sm);background:var(--panel-surface);@supports (color:color-mix(in lab,red,red)){background:color-mix(in srgb,var(--panel-surface) 75%,transparent)}color:var(--panel-text);cursor:pointer;transition:transform .2s ease,background .2s ease}.header-right{display:grid;gap:10px;min-width:0;max-width:100%;width:100%}.header-actions button:hover{transform:translateY(-1px);background:var(--panel-surface);@supports (color:color-mix(in lab,red,red)){background:color-mix(in srgb,var(--panel-surface) 60%,transparent)}}.collapse-icon{display:inline-block;transition:transform .3s ease}.status-shell.collapsed .collapse-icon{transform:rotate(180deg)}.status-body{padding:18px 6px 6px;display:grid;gap:16px;position:relative;opacity:1;max-height:2000px;transition:max-height .35s cubic-bezier(0.4,0,0.2,1),opacity .25s ease,padding .25s ease}.status-shell.collapsed .status-body{max-height:0;opacity:0;padding-top:0;padding-bottom:0}.info-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(160px,1fr));gap:10px}.info-card{padding:12px 14px;border-radius:var(--radius-md);background:var(--panel-surface);@supports (color:color-mix(in lab,red,red)){background:color-mix(in srgb,var(--panel-surface) 85%,transparent)}border:1px solid var(--panel-line);@supports (color:color-mix(in lab,red,red)){border:1px solid color-mix(in srgb,var(--panel-line) 55%,transparent)}display:grid;gap:4px}.info-label{font-size:.7rem;letter-spacing:.12em;text-transform:uppercase;color:var(--panel-muted)}.info-value{font-size:.95rem;color:var(--panel-text);font-weight:600}.tabs{display:grid;grid-template-columns:repeat(auto-fit,minmax(90px,1fr));gap:6px;padding:0;border-radius:0;border:none;background:rgba(0,0,0,0);max-width:100%;width:100%}.tab-button{padding:6px 8px;border-radius:var(--radius-full);border:1px solid var(--panel-line);@supports (color:color-mix(in lab,red,red)){border:1px solid color-mix(in srgb,var(--panel-line) 60%,transparent)}background:var(--panel-surface);@supports (color:color-mix(in lab,red,red)){background:color-mix(in srgb,var(--panel-surface) 78%,transparent)}color:var(--panel-muted);font-size:.78rem;text-align:center;cursor:pointer;transition:all .2s ease;font-family:var(--font-body);white-space:nowrap;overflow:hidden;text-overflow:ellipsis;max-width:100%}.tab-button:hover{border-color:var(--color-amber);color:var(--color-amber)}.tab-button.active{color:var(--panel-text);border-color:var(--color-ember);background:var(--color-ember);@supports (color:color-mix(in lab,red,red)){background:color-mix(in srgb,var(--color-ember) 22%,transparent)}box-shadow:inset 0 0 0 1px rgba(255,122,51,.3)}.page-enter-active,.page-leave-active{transition:opacity .2s ease,transform .2s ease}.page-enter-from,.page-leave-to{opacity:0;transform:translateY(6px)}.page-leave-active{position:absolute;left:0;right:0}.kink-panel{padding:16px 18px;border-radius:var(--radius-lg);background:linear-gradient(150deg,var(--panel-surface),var(--panel-ink));@supports (color:color-mix(in lab,red,red)){background:linear-gradient(150deg,color-mix(in srgb,var(--panel-surface) 90%,transparent),color-mix(in srgb,var(--panel-ink) 86%,transparent))}border:1px solid var(--panel-line);@supports (color:color-mix(in lab,red,red)){border:1px solid color-mix(in srgb,var(--panel-line) 55%,transparent)}display:grid;gap:10px}.kink-value{font-size:1.1rem;color:var(--panel-text);font-weight:600}.kink-note{font-size:.85rem;color:var(--panel-muted)}.kink-scroll{max-height:180px;overflow-y:auto;padding-right:4px}.kink-scroll::-webkit-scrollbar{width:8px}.kink-scroll::-webkit-scrollbar-track{background:var(--panel-soft);@supports (color:color-mix(in lab,red,red)){background:color-mix(in srgb,var(--panel-soft) 40%,transparent)}border-radius:var(--radius-full)}.kink-scroll::-webkit-scrollbar-thumb{background:linear-gradient(180deg,rgba(255,161,90,0.95),rgba(255,122,51,0.85));border-radius:var(--radius-full);border:2px solid rgba(0,0,0,0);background-clip:padding-box}.kink-editor{display:grid;gap:8px}.kink-toggle{justify-self:start}.kink-help{font-size:.82rem;color:var(--panel-muted)}.kink-input{width:100%;border-radius:var(--radius-md);border:1px solid var(--panel-line);@supports (color:color-mix(in lab,red,red)){border:1px solid color-mix(in srgb,var(--panel-line) 60%,transparent)}padding:10px 12px;font-family:var(--font-body);font-size:.95rem;color:var(--panel-text);background:var(--panel-surface);@supports (color:color-mix(in lab,red,red)){background:color-mix(in srgb,var(--panel-surface) 75%,transparent)}resize:vertical;min-height:90px}.kink-input:focus{outline:none;border-color:var(--color-ember);box-shadow:0 0 0 2px rgba(255,122,51,.18)}.kink-actions{display:flex;gap:10px;flex-wrap:wrap}.action-button{padding:8px 16px;border-radius:var(--radius-full);border:none;cursor:pointer;font-size:.9rem;font-weight:600;color:#1b0f06;background:linear-gradient(135deg,var(--color-ember),var(--color-ember-deep));box-shadow:var(--shadow-glow);transition:transform .2s ease,box-shadow .2s ease}.action-button:hover{transform:translateY(-1px);box-shadow:0 10px 24px rgba(255,122,51,.35)}.action-button.ghost{background:rgba(0,0,0,0);border:1px solid var(--panel-line);@supports (color:color-mix(in lab,red,red)){border:1px solid color-mix(in srgb,var(--panel-line) 70%,transparent)}color:var(--panel-text);box-shadow:none}.kink-error{color:#f57c6f;font-size:.82rem}.modal-backdrop{position:fixed;inset:0;background:rgba(6,5,9,.9);backdrop-filter:blur(4px);display:flex;align-items:center;justify-content:center;padding:20px;z-index:50}.modal-card{width:min(420px,100%);border-radius:var(--radius-lg);background:var(--panel-ink);border:1px solid var(--panel-line);@supports (color:color-mix(in lab,red,red)){border:1px solid color-mix(in srgb,var(--panel-line) 70%,transparent)}padding:18px;display:grid;gap:12px;color:var(--panel-text);box-shadow:0 18px 36px rgba(5,4,9,.55)}.modal-title{font-family:var(--font-display);font-size:1.05rem;letter-spacing:.08em}.modal-label{font-size:.8rem;color:var(--panel-muted);letter-spacing:.12em;text-transform:uppercase}.modal-value{font-size:.95rem;color:var(--panel-text);background:var(--panel-surface);@supports (color:color-mix(in lab,red,red)){background:color-mix(in srgb,var(--panel-surface) 75%,transparent)}border-radius:var(--radius-md);padding:10px 12px;border:1px solid var(--panel-line);@supports (color:color-mix(in lab,red,red)){border:1px solid color-mix(in srgb,var(--panel-line) 60%,transparent)}}.modal-tip{font-size:.82rem;color:var(--panel-muted)}.modal-actions{display:flex;gap:10px;justify-content:flex-end;flex-wrap:wrap}.partner-panel{padding:14px 16px;border-radius:var(--radius-lg);background:linear-gradient(150deg,var(--panel-surface),var(--panel-ink));@supports (color:color-mix(in lab,red,red)){background:linear-gradient(150deg,color-mix(in srgb,var(--panel-surface) 90%,transparent),color-mix(in srgb,var(--panel-ink) 88%,transparent))}border:1px solid var(--panel-line);@supports (color:color-mix(in lab,red,red)){border:1px solid color-mix(in srgb,var(--panel-line) 55%,transparent)}display:grid;gap:12px}.partner-header{display:flex;align-items:baseline;justify-content:space-between;gap:10px}.partner-name{font-family:var(--font-display);font-size:1.2rem;letter-spacing:.08em;color:var(--panel-text)}.partner-tags{display:flex;flex-wrap:wrap;gap:6px;color:var(--panel-muted);font-size:.78rem}.partner-chip{padding:4px 10px;border-radius:var(--radius-full);border:1px solid var(--panel-line);@supports (color:color-mix(in lab,red,red)){border:1px solid color-mix(in srgb,var(--panel-line) 60%,transparent)}background:var(--panel-soft);@supports (color:color-mix(in lab,red,red)){background:color-mix(in srgb,var(--panel-soft) 60%,transparent)}}.partner-details{display:grid;grid-template-columns:repeat(auto-fit,minmax(180px,1fr));gap:10px}.detail-item{display:grid;gap:4px;padding:10px 12px;border-radius:var(--radius-md);background:var(--panel-surface);@supports (color:color-mix(in lab,red,red)){background:color-mix(in srgb,var(--panel-surface) 75%,transparent)}border:1px solid var(--panel-line);@supports (color:color-mix(in lab,red,red)){border:1px solid color-mix(in srgb,var(--panel-line) 50%,transparent)}}.detail-label{font-size:.7rem;text-transform:uppercase;letter-spacing:.12em;color:var(--panel-muted)}.detail-value{color:var(--panel-text);font-size:.95rem}.jung-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(120px,1fr));gap:6px}.jung-item{padding:6px 8px;border-radius:var(--radius-sm);border:1px solid var(--panel-line);@supports (color:color-mix(in lab,red,red)){border:1px solid color-mix(in srgb,var(--panel-line) 50%,transparent)}color:var(--panel-muted);font-size:.78rem;text-align:center}.secret-box{padding:10px 12px;border-radius:var(--radius-md);border:1px dashed var(--panel-line);@supports (color:color-mix(in lab,red,red)){border:1px dashed color-mix(in srgb,var(--panel-line) 70%,transparent)}color:var(--panel-muted);font-size:.88rem}.partner-actions{display:flex;justify-content:flex-start}.partner-ai{display:grid;gap:8px}.partner-ai-row{display:grid;grid-template-columns:minmax(0,1fr) auto;gap:10px;align-items:center}.partner-ai-input{width:100%;border-radius:var(--radius-md);border:1px solid var(--panel-line);@supports (color:color-mix(in lab,red,red)){border:1px solid color-mix(in srgb,var(--panel-line) 60%,transparent)}padding:8px 10px;font-family:var(--font-body);font-size:.9rem;color:var(--panel-text);background:var(--panel-surface);@supports (color:color-mix(in lab,red,red)){background:color-mix(in srgb,var(--panel-surface) 75%,transparent)}}.partner-ai-input:focus{outline:none;border-color:var(--color-ember);box-shadow:0 0 0 2px rgba(255,122,51,.18)}.status-msg{padding:12px 14px;border-radius:var(--radius-md);background:var(--panel-soft);@supports (color:color-mix(in lab,red,red)){background:color-mix(in srgb,var(--panel-soft) 60%,transparent)}border:1px solid var(--panel-line);@supports (color:color-mix(in lab,red,red)){border:1px solid color-mix(in srgb,var(--panel-line) 60%,transparent)}color:var(--panel-text)}.reveal{animation:rise .6s ease both;animation-delay:var(--delay,0s)}@keyframes rise{from{opacity:0;transform:translateY(10px)}to{opacity:1;transform:translateY(0)}}@media (max-width:720px){body{padding:12px}.status-card{padding:14px}.status-header{flex-direction:column;align-items:flex-start}.header-right{width:100%}.tabs{flex-wrap:wrap}.tab-button{flex:1 1 120px}}@media (prefers-reduced-motion:reduce){*{animation-duration:.01ms !important;animation-iteration-count:1 !important;transition-duration:.01ms !important}}

/*# sourceMappingURL=main.css.map*/</style></head><body><div id="app"></div></body>
