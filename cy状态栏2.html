<head><script type="module">import{createPinia as e,defineStore as t}from'https://testingcf.jsdelivr.net/npm/pinia/+esm';var a={889(e,t){t.A=(e,t)=>{const a=e.__vccOpts||e;for(const[e,l]of t)a[e]=l;return a}}},l={};function n(e){var t=l[e];if(void 0!==t)return t.exports;var r=l[e]={exports:{}};return a[e](r,r.exports,n),r.exports}n.d=(e,t)=>{for(var a in t)n.o(t,a)&&!n.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);const r=Vue,s=t('status',()=>{const e=(0,r.ref)('N/A'),t=(0,r.ref)('N/A'),a=(0,r.ref)(0),l=(0,r.reactive)({名称:'N/A',等级:'N/A',工作人员数量:0,声望:0}),n=(0,r.reactive)({白诗涵信任度:0,奈奈亲近度:0}),s=(0,r.reactive)({已发布总数:0,殿堂级:0,现象级:0,爆款:0,热门:0,普通:0}),o=(0,r.ref)([]),c=(0,r.ref)([]),i=(0,r.reactive)({账户余额:0,公司声望:0,白诗涵信任度:0,奈奈亲近度:0,歌曲统计:{已发布总数:0,殿堂级:0,现象级:0,爆款:0,热门:0,普通:0},艺人粉丝:{},总粉丝:0}),d=(0,r.ref)(!1),u=(0,r.ref)('light'),v=(0,r.ref)(!1),m=(0,r.computed)(()=>c.value.length),p=(0,r.computed)(()=>c.value.reduce((e,t)=>e+(t.粉丝数||0),0)),N=(0,r.computed)(()=>0===c.value.length?null:[...c.value].sort((e,t)=>(t.粉丝数||0)-(e.粉丝数||0))[0]),V=(0,r.computed)(()=>0===c.value.length?[]:[...c.value].sort((e,t)=>(t.粉丝数||0)-(e.粉丝数||0)).slice(0,3));return{日期:e,时间:t,账户余额:a,公司:l,家庭:n,歌曲统计:s,曲库:o,艺人:c,prev:i,hasPrevData:d,theme:u,collapsed:v,艺人数:m,总粉丝:p,头部艺人:N,前三艺人:V,toggleTheme:function(){u.value='dark'===u.value?'light':'dark',localStorage.setItem('cyzd-theme',u.value),localStorage.setItem('theme',u.value)},toggleCollapse:function(){v.value=!v.value,localStorage.setItem('cyzd-collapsed',v.value?'true':'false')},loadSettings:function(){const e=localStorage.getItem('cyzd-theme')||localStorage.getItem('theme'),t=localStorage.getItem('cyzd-collapsed');'dark'!==e&&'light'!==e||(u.value=e),'true'===t&&(v.value=!0)}}}),o={class:'info-row'},c={class:'info-label'},i={class:'info-value'},d=(0,r.defineComponent)({__name:'InfoRow',props:{label:{}},setup:e=>(t,a)=>((0,r.openBlock)(),(0,r.createElementBlock)('div',o,[(0,r.createElementVNode)('span',c,(0,r.toDisplayString)(e.label),1),(0,r.createElementVNode)('span',i,[(0,r.renderSlot)(t.$slots,'default')])]))}),u={class:'artist-main'},v={class:'artist-name'},m={class:'artist-sub'},p={class:'artist-tags'},N={class:'artist-chip'},V=['data-gender'],E=(0,r.defineComponent)({__name:'ArtistCard',props:{artist:{},active:{type:Boolean}},emits:['select'],setup:e=>(t,a)=>{return(0,r.openBlock)(),(0,r.createElementBlock)('button',{type:'button',class:(0,r.normalizeClass)(['artist-card artist-strip',{active:e.active}]),onClick:a[0]||(a[0]=e=>t.$emit('select'))},[(0,r.createElementVNode)('div',u,[(0,r.createElementVNode)('span',v,(0,r.toDisplayString)(e.artist.姓名),1),(0,r.createElementVNode)('span',m,(0,r.toDisplayString)(e.artist.等级)+' · '+(0,r.toDisplayString)(e.artist.年龄)+'岁',1)]),(0,r.createElementVNode)('div',p,[(0,r.createElementVNode)('span',N,'粉丝 '+(0,r.toDisplayString)((l=e.artist.粉丝数,Number.isFinite(l)?l>=1e8?`${(l/1e8).toFixed(2)}亿`:l>=1e4?`${(l/1e4).toFixed(2)}万`:l.toLocaleString('zh-CN'):'0')),1),(0,r.createElementVNode)('span',{class:'artist-chip gender','data-gender':e.artist.性别},(0,r.toDisplayString)(e.artist.性别),9,V)])],2);var l}}),g={class:'value-main'},f={class:'delta-arrow'},h={class:'delta-num'},y=(0,r.defineComponent)({__name:'ValueBadge',props:{value:{},prev:{default:0},format:{default:'number'},showZero:{type:Boolean,default:!1},hasPrev:{type:Boolean,default:!1}},setup(e){const t=e,a=(0,r.ref)(!1);let l=null;const n=(0,r.computed)(()=>{if(!t.hasPrev)return 0;const e=t.value-t.prev;return Number.isFinite(e)?e:0}),s=(0,r.computed)(()=>t.hasPrev?n.value>0?'delta-up':n.value<0?'delta-down':'delta-zero':''),o=(0,r.computed)(()=>n.value>0?'↑':n.value<0?'↓':''),c=(0,r.computed)(()=>!!t.hasPrev&&(!!t.showZero||0!==n.value));function i(e,t){return Number.isFinite(e)?'currency'===t?e>=1e8?`${(e/1e8).toFixed(2)}亿`:e>=1e4?`${(e/1e4).toFixed(2)}万`:e.toLocaleString('zh-CN'):'percent'===t?`${e}%`:e.toLocaleString('zh-CN'):'0'}const d=(0,r.computed)(()=>i(t.value,t.format)),u=(0,r.computed)(()=>i(Math.abs(n.value),t.format));return(0,r.watch)(()=>t.value,(e,n)=>{e!==n&&t.hasPrev&&(a.value=!0,l&&clearTimeout(l),l=setTimeout(()=>{a.value=!1},600))}),(e,t)=>((0,r.openBlock)(),(0,r.createElementBlock)('span',{class:(0,r.normalizeClass)(['value-badge',s.value])},[(0,r.createElementVNode)('span',g,(0,r.toDisplayString)(d.value),1),c.value?((0,r.openBlock)(),(0,r.createElementBlock)('span',{key:0,class:(0,r.normalizeClass)(['value-delta',{highlight:a.value}])},[(0,r.createElementVNode)('span',f,(0,r.toDisplayString)(o.value),1),(0,r.createElementVNode)('span',h,(0,r.toDisplayString)(u.value),1)],2)):(0,r.createCommentVNode)('v-if',!0)],2))}});const b=(0,n(889).A)(y,[['__scopeId','data-v-b984c04a']]),k={key:0,class:'artist-detail'},w={class:'detail-header'},B={class:'detail-title'},S={class:'detail-name'},D={class:'detail-sub'},C=['data-status'],A={class:'detail-grid'},x={class:'detail-card'},P={class:'detail-value'},T={class:'detail-card'},I={class:'detail-value'},j={class:'detail-card'},L={class:'detail-value'},M={class:'detail-section'},O={class:'jung-grid'},F={class:'jung-item'},U={class:'jung-value'},R={class:'jung-item'},J={class:'jung-value'},W={class:'jung-item'},Y={class:'jung-value'},K={class:'jung-item'},Z={class:'jung-value'},G={class:'detail-section'},q={class:'detail-row'},H={class:'detail-value'},Q={class:'detail-row'},X={class:'detail-value'},ee={class:'detail-row'},te={class:'detail-value'},ae=(0,r.defineComponent)({__name:'ArtistDetail',props:{artist:{},prevFans:{},hasPrev:{type:Boolean}},setup:e=>(t,a)=>e.artist?((0,r.openBlock)(),(0,r.createElementBlock)('section',k,[(0,r.createElementVNode)('div',w,[(0,r.createElementVNode)('div',B,[(0,r.createElementVNode)('span',S,(0,r.toDisplayString)(e.artist.姓名),1),(0,r.createElementVNode)('span',D,(0,r.toDisplayString)(e.artist.等级)+' · '+(0,r.toDisplayString)(e.artist.性别)+' · '+(0,r.toDisplayString)(e.artist.年龄)+'岁',1)]),(0,r.createElementVNode)('span',{class:'detail-status','data-status':e.artist.合约状态},(0,r.toDisplayString)(e.artist.合约状态),9,C)]),(0,r.createElementVNode)('div',A,[(0,r.createElementVNode)('div',x,[a[0]||(a[0]=(0,r.createElementVNode)('div',{class:'detail-label'},'粉丝数',-1)),(0,r.createElementVNode)('div',P,[(0,r.createVNode)(b,{value:e.artist.粉丝数,prev:e.prevFans??0,'has-prev':e.hasPrev,format:'currency'},null,8,['value','prev','has-prev'])])]),(0,r.createElementVNode)('div',T,[a[1]||(a[1]=(0,r.createElementVNode)('div',{class:'detail-label'},'最新发行',-1)),(0,r.createElementVNode)('div',I,(0,r.toDisplayString)(e.artist.最新发行日期),1)]),(0,r.createElementVNode)('div',j,[a[2]||(a[2]=(0,r.createElementVNode)('div',{class:'detail-label'},'合约到期',-1)),(0,r.createElementVNode)('div',L,(0,r.toDisplayString)(e.artist.合约到期日期),1)])]),(0,r.createElementVNode)('div',M,[a[7]||(a[7]=(0,r.createElementVNode)('div',{class:'section-title'},'荣格八维',-1)),(0,r.createElementVNode)('div',O,[(0,r.createElementVNode)('div',F,[a[3]||(a[3]=(0,r.createElementVNode)('span',{class:'jung-label'},'主导',-1)),(0,r.createElementVNode)('span',U,(0,r.toDisplayString)(e.artist.荣格八维.主导),1)]),(0,r.createElementVNode)('div',R,[a[4]||(a[4]=(0,r.createElementVNode)('span',{class:'jung-label'},'辅助',-1)),(0,r.createElementVNode)('span',J,(0,r.toDisplayString)(e.artist.荣格八维.辅助),1)]),(0,r.createElementVNode)('div',W,[a[5]||(a[5]=(0,r.createElementVNode)('span',{class:'jung-label'},'第三',-1)),(0,r.createElementVNode)('span',Y,(0,r.toDisplayString)(e.artist.荣格八维.第三),1)]),(0,r.createElementVNode)('div',K,[a[6]||(a[6]=(0,r.createElementVNode)('span',{class:'jung-label'},'劣势',-1)),(0,r.createElementVNode)('span',Z,(0,r.toDisplayString)(e.artist.荣格八维.劣势),1)])])]),(0,r.createElementVNode)('div',G,[a[11]||(a[11]=(0,r.createElementVNode)('div',{class:'section-title'},'音乐画像',-1)),(0,r.createElementVNode)('div',q,[a[8]||(a[8]=(0,r.createElementVNode)('span',{class:'detail-label'},'音色特点',-1)),(0,r.createElementVNode)('span',H,(0,r.toDisplayString)(e.artist.音色特点),1)]),(0,r.createElementVNode)('div',Q,[a[9]||(a[9]=(0,r.createElementVNode)('span',{class:'detail-label'},'核心特征',-1)),(0,r.createElementVNode)('span',X,(0,r.toDisplayString)(e.artist.核心特征),1)]),(0,r.createElementVNode)('div',ee,[a[10]||(a[10]=(0,r.createElementVNode)('span',{class:'detail-label'},'代表作',-1)),(0,r.createElementVNode)('span',te,(0,r.toDisplayString)(e.artist.代表作.join(' · ')||'N/A'),1)])])])):(0,r.createCommentVNode)('v-if',!0)}),le=['data-theme'],ne={class:'status-card'},re={class:'status-header'},se={class:'brand'},oe={class:'brand-kicker'},ce={class:'brand-date'},ie={class:'header-stats'},de={class:'stat-chip'},ue={class:'stat-value'},ve={class:'stat-chip'},me={class:'stat-value'},pe={class:'stat-chip'},Ne={class:'stat-value'},Ve={class:'stat-chip'},Ee={class:'stat-value'},ge={class:'stat-chip'},fe={class:'stat-value'},he={class:'header-actions'},ye=['aria-label'],be={class:'ghost-icon'},ke={class:'tab-rail','aria-label':'状态栏导航'},we=['onClick'],Be={class:'tab-label'},Se={class:'panel-body'},De={key:0,class:'empty-state'},Ce={key:0,class:'overview-layout'},Ae={class:'panel-card ledger-card'},xe={class:'ledger-rows'},Pe={class:'ledger-row'},ze={class:'ledger-row'},$e={class:'ledger-row'},_e={class:'ledger-row'},Te={class:'ledger-row'},Ie={class:'ledger-row'},je={class:'panel-card polaroid-card'},Le={class:'polaroid-stage'},Me={key:0,class:'top3-grid'},Oe={class:'rank-num'},Fe={key:0,class:'rank-crown'},Ue={class:'top3-name'},Re={class:'top3-level'},Je={class:'top3-fans'},We={key:1,class:'polaroid-empty'},Ye={key:1,class:'company-grid'},Ke={class:'panel-card wide company-ledger'},Ze={key:2,class:'artists-page'},Ge={class:'artists-viewport'},qe={class:'artist-list'},He={class:'list-header'},Qe={class:'list-count'},Xe={class:'list-body'},et={class:'artist-detail-wrap'},tt={key:0,class:'empty-mini'},at={key:3,class:'songs-grid'},lt={class:'panel-card wide'},nt={class:'song-total-banner'},rt={class:'song-total-value'},st={class:'song-grid'},ot={class:'song-value'},ct={class:'song-value'},it={class:'song-value'},dt={class:'song-value'},ut={class:'song-value'},vt={key:4,class:'archive-page'},mt={class:'archive-viewport'},pt={class:'panel-card wide archive-card'},Nt={class:'card-title row-between'},Vt={class:'connection-row'},Et={class:'field'},gt={class:'action-row'},ft=['disabled'],ht={key:0,class:'error-text'},yt={class:'result-card debug-card'},bt={class:'result-body'},kt={key:0,class:'modal-mask'},wt={class:'modal-card'},Bt={class:'card-title row-between'},St={class:'modal-body'},Dt={class:'field'},Ct={class:'field'},At={class:'action-row'},xt=['disabled'],Pt={key:0,class:'error-text'},zt={key:0,class:'field'},$t={class:'field'},_t={class:'field'},Tt={key:1,class:'modal-mask'},It={key:2,class:'modal-mask'},jt={class:'modal-card result-modal'},Lt={class:'card-title row-between'},Mt={class:'modal-actions'},Ot={class:'modal-body'},Ft={key:0,class:'error-text'},Ut={class:'action-row'},Rt=['disabled','aria-disabled'],Jt={key:1,class:'success-text'},Wt={key:2,class:'helper'},Yt={class:'edit-grid'},Kt={class:'field'},Zt={class:'field'},Gt={class:'field'},qt={key:3,class:'modal-mask'},Ht={class:'modal-card model-picker-modal'},Qt={class:'card-title row-between'},Xt={class:'modal-body'},ea={class:'field'},ta={class:'model-picker-list'},aa=['onClick'],la={key:0,class:'empty-mini'},na={key:4,class:'modal-mask'},ra={class:'modal-card song-modal'},sa={class:'card-title row-between'},oa={class:'modal-body'},ca={class:'song-modal-list'},ia={key:0,class:'empty-mini'},da={key:1,class:'song-tags'},ua={class:'song-tag-main'},va={class:'song-tag-name'},ma={class:'song-tag-artist'},pa='你是歌曲信息检索助手。使用网络搜索查询用户提供的歌曲信息或根据用户描述的特征搜索符合条件的歌曲，确保歌曲信息和歌词准确。\n\n输出要求：\n1. 使用 <歌曲名> 与 </歌曲名> 标签包裹 YAML 内容\n2. YAML 必须包含 song_title 和 lyrics 字段\n3. 若搜索不到歌曲，返回 <未找到>song_title: "未找到"</未找到>\n4. 禁止输出无关内容\n\n返回格式示例：\n<夜曲>\nsong_title: "夜曲"\nartist: "周杰伦"\ncomposer: "周杰伦"\nlyricist: "方文山"\nalbum: "十一月的肖邦"\nrelease_date: "2005-11"\ngenre: "R&B / Pop"\ndescription: "周杰伦经典情歌，以钢琴为主旋律，讲述深夜思念的情感。"\nlyrics: |\n  (完整歌词内容)\n</夜曲>',Na=(0,r.defineComponent)({__name:'App',setup(e){const t=s(),a=(0,r.ref)(!0),l=(0,r.ref)('overview'),n=(0,r.ref)(null),o=[{key:'overview',label:'我的小窝'},{key:'company',label:'公司经营'},{key:'artists',label:'艺人管理'},{key:'songs',label:'金曲库'},{key:'archive',label:'档案柜'}],c=(0,r.ref)(!1),i=(0,r.ref)(localStorage.getItem('cyzd-ai-base-url')??''),u=(0,r.ref)(localStorage.getItem('cyzd-ai-model')??''),v=(0,r.ref)(localStorage.getItem('cyzd-ai-key')??''),m=(0,r.ref)(localStorage.getItem('cyzd-ai-prompt')??pa),p=(0,r.ref)(''),N=(0,r.ref)(''),V=(0,r.ref)(''),g=(0,r.ref)(''),f=(0,r.ref)(''),h=(0,r.ref)(''),y=(0,r.ref)(!1),k=(0,r.ref)(!1),w=(0,r.ref)(''),B=(0,r.ref)(!1),S=(0,r.ref)([]),D=(0,r.ref)(''),C=(0,r.ref)([]),A=(0,r.ref)(!1),x=(0,r.ref)(!1),P=(0,r.ref)(''),T=(0,r.computed)(()=>{const e=P.value.trim().toLowerCase();return e?S.value.filter(t=>t.toLowerCase().includes(e)):S.value}),I=(0,r.ref)(!1),j=(0,r.ref)(''),L=(0,r.computed)(()=>j.value?t.曲库.filter(e=>e.等级===j.value):[]),M=(0,r.ref)('idle'),O=(0,r.computed)(()=>{switch(M.value){case'checking':return'检测中…';case'ok':return'连接正常';case'fail':return'连接失败';default:return'未检测'}}),F=(0,r.ref)(!1),U=(0,r.ref)(null),R=(0,r.ref)(!1),J=(0,r.computed)(()=>n.value?t.艺人.find(e=>e.id===n.value)??t.艺人[0]??null:t.艺人[0]??null),W=(0,r.computed)(()=>Boolean(g.value.trim()&&f.value.trim()&&h.value.trim()));function Y(){m.value=pa,localStorage.removeItem('cyzd-ai-prompt')}function K(e){const t=e.trim();return t?t.includes('/chat/completions')?t:t.replace(/\/+$/,'')+'/chat/completions':''}function Z(e){const t=e.trim();return t?t.includes('/chat/completions')?t.replace(/\/chat\/completions.*/,'/models'):t.endsWith('/models')?t:t.replace(/\/+$/,'')+'/models':''}function G(e){const t=(new Date).toLocaleTimeString('zh-CN');C.value=[...C.value,`[${t}] ${e}`].slice(-50)}function q(){C.value=[]}function H(e){e.preventDefault(),e.stopPropagation(),async function(){if(V.value='',g.value='',f.value='',h.value='',N.value='',A.value=!1,!i.value||!u.value||!v.value)return void(V.value='请先填写 Base URL、模型与 API Key。');if(!p.value.trim())return void(V.value='请填写检索内容。');y.value=!0,U.value=new AbortController;const e=5;let t=null;for(let a=1;a<=e;a++)try{const e=K(i.value);if(!e)throw new Error('API URL 无效');G(`请求 (第${a}次): ${e}`);const t=await fetch(e,{method:'POST',headers:{'Content-Type':'application/json',Authorization:`Bearer ${v.value.trim()}`},signal:U.value?.signal,body:JSON.stringify({model:u.value.trim(),messages:[{role:'system',content:m.value},{role:'user',content:p.value}],temperature:.2})}),l=await t.text();G(`响应状态: ${t.status}`);let n=null;try{n=JSON.parse(l)}catch{return N.value=l,V.value=`接口返回非 JSON（状态 ${t.status}）。请检查 Base URL/反代配置。`,void(y.value=!1)}const r=n?.choices?.[0]?.message?.content??'';return N.value=r||JSON.stringify(n,null,2),h.value=r||'',A.value=!0,y.value=!1,void(U.value=null)}catch(l){if(t=l,'AbortError'===l?.name)return V.value='已停止搜索。',G('搜索已被用户终止'),y.value=!1,void(U.value=null);const n=l?.message||'';if((n.includes('Failed to fetch')||n.includes('NetworkError'))&&a<e){G(`第${a}次请求失败，1秒后重试...`),await new Promise(e=>setTimeout(e,1e3));continue}V.value='网络请求失败，请检查 API 地址是否正确，或重试。',G(`错误: ${V.value}`),console.error('AI 调用失败:',l)}y.value=!1,U.value=null}()}function Q(e){e.preventDefault(),e.stopPropagation(),W.value?async function(){V.value='',w.value='';const e=g.value.trim(),t=h.value.trim();if(!e||!t)return void(V.value='歌曲名或内容为空。');k.value=!0;try{if('function'!=typeof getWorldbookNames)throw new Error('世界书接口不可用，请检查酒馆助手版本。');const a=getCharWorldbookNames('current').primary;if(!a)throw new Error('当前角色卡未绑定主世界书，请先在角色卡中设置主世界书。');G(`保存到角色主世界书: ${a}`);const l=e,n=f.value.split(',').map(e=>e.trim()).filter(Boolean),r={name:l,content:t,enabled:!0,probability:100,strategy:{type:'selective',keys:n.length?n:[l],keys_secondary:{logic:'and_any',keys:[]},scan_depth:'same_as_global'},position:{type:'after_character_definition',role:'system',depth:1,order:100},recursion:{prevent_incoming:!0,prevent_outgoing:!0,delay_until:null},effect:{sticky:null,cooldown:null,delay:null}};await updateWorldbookWith(a,e=>[...e.filter(e=>e.name!==l),r],{render:'immediate'}),G(`写入条目: ${l}`),w.value=`已成功保存「${l}」到世界书「${a}」`}catch(e){V.value=e?.message||'保存失败，请检查世界书。',G(`保存失败: ${V.value}`)}finally{k.value=!1}}():V.value='请填写世界书条目名、世界书关键词与内容。'}function X(){const e=h.value.match(/<([^>/\s]+)>/);if(e&&e[1]){const t=e[1];g.value=t,f.value=t,G(`提取歌曲名: ${t}`)}else V.value='未能从内容中提取歌曲名，请手动填写。'}function ee(){U.value&&(U.value.abort(),U.value=null),y.value=!1,V.value='已停止搜索。',G('用户停止搜索')}async function te(){if(D.value='',i.value){B.value=!0;try{const e=Z(i.value);if(!e)throw new Error('模型地址无效');G(`加载模型: ${e}`);const t=await fetch(e,{headers:{Authorization:`Bearer ${v.value.trim()}`}}),a=await t.text();let l=null;try{l=JSON.parse(a)}catch{return D.value=`模型列表返回非 JSON（状态 ${t.status}）。`,void G(D.value)}const n=Array.isArray(l?.data)?l.data.map(e=>String(e.id)).filter(Boolean):[];S.value=n,n.length&&!n.includes(u.value)&&(u.value=n[0])}catch(e){D.value=e?.message||'模型列表加载失败。',G(`模型加载错误: ${D.value}`),console.error('模型列表加载失败:',e)}finally{B.value=!1}}else D.value='请先填写 Base URL。'}const Na=e=>{'cyzd-theme'!==e.key&&'theme'!==e.key||'dark'!==e.newValue&&'light'!==e.newValue||(t.theme=e.newValue,localStorage.setItem('cyzd-theme',e.newValue))},Va=e=>{'cyzd-collapsed'===e.key&&(t.collapsed='true'===e.newValue)};return(0,r.watch)(()=>t.艺人,e=>{e.length?n.value&&e.find(e=>e.id===n.value)||(n.value=e[0].id):n.value=null},{deep:!0}),(0,r.watch)([i,u,v,m],()=>{localStorage.setItem('cyzd-ai-base-url',i.value.trim()),localStorage.setItem('cyzd-ai-model',u.value.trim()),localStorage.setItem('cyzd-ai-key',v.value),localStorage.setItem('cyzd-ai-prompt',m.value)},{deep:!1}),(0,r.watch)(()=>t.theme,()=>{R.value=!0,window.setTimeout(()=>{R.value=!1},200)}),(0,r.watch)(()=>l.value,e=>{'archive'===e&&async function(){if(F.value)return;if(!i.value||!v.value)return void(M.value='fail');const e=Z(i.value);if(!e)return void(M.value='fail');F.value=!0,M.value='checking';for(let t=1;t<=5;t++)try{G(`静默检测 (第${t}次): ${e}`);const a=await fetch(e,{method:'GET',headers:{Authorization:`Bearer ${v.value.trim()}`}});if(a.ok)return M.value='ok',G(`静默检测成功 (状态 ${a.status})`),void(F.value=!1);throw new Error(`状态 ${a.status}`)}catch(e){if(t<5){await new Promise(e=>setTimeout(e,1e3));continue}M.value='fail',G(`静默检测失败: ${e?.message||'未知错误'}`)}F.value=!1}()}),(0,r.onMounted)(async()=>{t.loadSettings(),localStorage.removeItem('cyzd-debug-log'),window.addEventListener('storage',Na),window.addEventListener('storage',Va);try{const e=getCurrentMessageId(),l=await getChatMessages(e),n=l?.[0]?.data?.stat_data;if(!n)return void(a.value=!0);if(ga(n,t),e>0)try{const a=await getChatMessages(e-1),l=a?.[0]?.data?.stat_data;fa(l,t)}catch{t.hasPrevData=!1}a.value=!1}catch(e){console.error('状态栏渲染失败:',e),a.value=!0}}),(0,r.onBeforeUnmount)(()=>{window.removeEventListener('storage',Na),window.removeEventListener('storage',Va)}),(e,s)=>((0,r.openBlock)(),(0,r.createElementBlock)('div',{class:(0,r.normalizeClass)(['status-shell',{collapsed:(0,r.unref)(t).collapsed,'theme-switching':R.value}]),'data-theme':(0,r.unref)(t).theme},[(0,r.createElementVNode)('div',ne,[(0,r.createElementVNode)('header',re,[(0,r.createElementVNode)('div',se,[(0,r.createElementVNode)('span',oe,'Today / '+(0,r.toDisplayString)((0,r.unref)(t).日期),1),(0,r.createElementVNode)('button',{type:'button',class:'brand-title',onClick:s[0]||(s[0]=(...e)=>(0,r.unref)(t).toggleCollapse&&(0,r.unref)(t).toggleCollapse(...e))},[(0,r.createElementVNode)('span',ce,[(0,r.createTextVNode)((0,r.toDisplayString)((0,r.unref)(t).日期)+' · '+(0,r.toDisplayString)((0,r.unref)(t).时间)+' ',1),s[23]||(s[23]=(0,r.createElementVNode)('span',{class:'brand-sun','aria-hidden':'true'},null,-1))]),s[24]||(s[24]=(0,r.createElementVNode)('span',{class:'brand-sub'},'今天也是充满希望的一天~',-1))])]),(0,r.createElementVNode)('div',ie,[(0,r.createElementVNode)('div',de,[s[26]||(s[26]=(0,r.createElementVNode)('span',{class:'stat-label'},[(0,r.createElementVNode)('span',{class:'stat-icon wallet'}),(0,r.createTextVNode)('余额')],-1)),(0,r.createElementVNode)('span',ue,[s[25]||(s[25]=(0,r.createTextVNode)('￥',-1)),(0,r.createVNode)(b,{value:(0,r.unref)(t).账户余额,prev:(0,r.unref)(t).prev.账户余额,'has-prev':(0,r.unref)(t).hasPrevData,format:'currency'},null,8,['value','prev','has-prev'])])]),(0,r.createElementVNode)('div',ve,[s[27]||(s[27]=(0,r.createElementVNode)('span',{class:'stat-label'},[(0,r.createElementVNode)('span',{class:'stat-icon mic'}),(0,r.createTextVNode)('艺人')],-1)),(0,r.createElementVNode)('span',me,(0,r.toDisplayString)((0,r.unref)(t).艺人数),1)]),(0,r.createElementVNode)('div',pe,[s[28]||(s[28]=(0,r.createElementVNode)('span',{class:'stat-label'},[(0,r.createElementVNode)('span',{class:'stat-icon heart'}),(0,r.createTextVNode)('声望')],-1)),(0,r.createElementVNode)('span',Ne,[(0,r.createVNode)(b,{value:(0,r.unref)(t).公司.声望,prev:(0,r.unref)(t).prev.公司声望,'has-prev':(0,r.unref)(t).hasPrevData},null,8,['value','prev','has-prev'])])]),(0,r.createElementVNode)('div',Ve,[s[29]||(s[29]=(0,r.createElementVNode)('span',{class:'stat-label'},[(0,r.createElementVNode)('span',{class:'stat-icon trust'}),(0,r.createTextVNode)('诗涵')],-1)),(0,r.createElementVNode)('span',Ee,[(0,r.createVNode)(b,{value:(0,r.unref)(t).家庭.白诗涵信任度,prev:(0,r.unref)(t).prev.白诗涵信任度,'has-prev':(0,r.unref)(t).hasPrevData},null,8,['value','prev','has-prev'])])]),(0,r.createElementVNode)('div',ge,[s[30]||(s[30]=(0,r.createElementVNode)('span',{class:'stat-label'},[(0,r.createElementVNode)('span',{class:'stat-icon nana'}),(0,r.createTextVNode)('奈奈')],-1)),(0,r.createElementVNode)('span',fe,[(0,r.createVNode)(b,{value:(0,r.unref)(t).家庭.奈奈亲近度,prev:(0,r.unref)(t).prev.奈奈亲近度,'has-prev':(0,r.unref)(t).hasPrevData},null,8,['value','prev','has-prev'])])])]),(0,r.createElementVNode)('div',he,[(0,r.createElementVNode)('button',{type:'button',class:'ghost-btn',onClick:s[1]||(s[1]=(...e)=>(0,r.unref)(t).toggleTheme&&(0,r.unref)(t).toggleTheme(...e)),'aria-label':'dark'===(0,r.unref)(t).theme?'切换到日间主题':'切换到夜间主题'},[(0,r.createElementVNode)('span',be,(0,r.toDisplayString)('dark'===(0,r.unref)(t).theme?'昼':'夜'),1)],8,ye),(0,r.createElementVNode)('button',{type:'button',class:'ghost-btn',onClick:s[2]||(s[2]=(...e)=>(0,r.unref)(t).toggleCollapse&&(0,r.unref)(t).toggleCollapse(...e)),'aria-label':'展开或收起状态栏'},[(0,r.createElementVNode)('span',{class:(0,r.normalizeClass)(['ghost-icon',{flipped:(0,r.unref)(t).collapsed}])},'▲',2)])])]),s[60]||(s[60]=(0,r.createElementVNode)('div',{class:'scroll-hint'},'手机端可左右滑动查看更多标签 →',-1)),(0,r.createElementVNode)('nav',ke,[((0,r.openBlock)(),(0,r.createElementBlock)(r.Fragment,null,(0,r.renderList)(o,e=>(0,r.createElementVNode)('button',{key:e.key,type:'button',class:(0,r.normalizeClass)(['tab-btn',{active:l.value===e.key}]),onClick:t=>l.value=e.key},[(0,r.createElementVNode)('span',Be,(0,r.toDisplayString)(e.label),1),s[31]||(s[31]=(0,r.createElementVNode)('span',{class:'tab-bar'},null,-1))],10,we)),64))]),(0,r.createElementVNode)('main',Se,[a.value?((0,r.openBlock)(),(0,r.createElementBlock)('div',De,[...s[32]||(s[32]=[(0,r.createElementVNode)('span',null,'数据加载失败，请重roll聊天试试。',-1)])])):((0,r.openBlock)(),(0,r.createBlock)(r.Transition,{key:1,name:'tab-swap',mode:'out-in'},{default:(0,r.withCtx)(()=>[((0,r.openBlock)(),(0,r.createElementBlock)('section',{key:l.value,class:'panel-page'},['overview'===l.value?((0,r.openBlock)(),(0,r.createElementBlock)('div',Ce,[(0,r.createElementVNode)('div',Ae,[s[40]||(s[40]=(0,r.createElementVNode)('div',{class:'ledger-header'},[(0,r.createElementVNode)('span',{class:'ledger-dot'}),(0,r.createElementVNode)('span',{class:'ledger-title'},'我的工作室手账')],-1)),(0,r.createElementVNode)('div',xe,[(0,r.createElementVNode)('div',Pe,[s[33]||(s[33]=(0,r.createElementVNode)('span',null,'名称',-1)),(0,r.createElementVNode)('span',{class:(0,r.normalizeClass)({'ledger-empty':!(0,r.unref)(t).公司.名称})},(0,r.toDisplayString)((0,r.unref)(t).公司.名称||'还没起名字呢…'),3)]),(0,r.createElementVNode)('div',ze,[s[34]||(s[34]=(0,r.createElementVNode)('span',null,'等级',-1)),(0,r.createElementVNode)('span',null,(0,r.toDisplayString)((0,r.unref)(t).公司.等级),1)]),(0,r.createElementVNode)('div',$e,[s[35]||(s[35]=(0,r.createElementVNode)('span',null,'员工',-1)),(0,r.createElementVNode)('span',null,(0,r.toDisplayString)((0,r.unref)(t).公司.工作人员数量)+' 人',1)]),(0,r.createElementVNode)('div',_e,[s[36]||(s[36]=(0,r.createElementVNode)('span',null,'声望',-1)),(0,r.createElementVNode)('span',null,[(0,r.createVNode)(b,{value:(0,r.unref)(t).公司.声望,prev:(0,r.unref)(t).prev.公司声望,'has-prev':(0,r.unref)(t).hasPrevData},null,8,['value','prev','has-prev'])])]),s[39]||(s[39]=(0,r.createElementVNode)('div',{class:'ledger-divider'},null,-1)),(0,r.createElementVNode)('div',Te,[s[37]||(s[37]=(0,r.createElementVNode)('span',null,'艺人总数',-1)),(0,r.createElementVNode)('span',null,(0,r.toDisplayString)((0,r.unref)(t).艺人数),1)]),(0,r.createElementVNode)('div',Ie,[s[38]||(s[38]=(0,r.createElementVNode)('span',null,'全网粉丝',-1)),(0,r.createElementVNode)('span',null,[(0,r.createVNode)(b,{value:(0,r.unref)(t).总粉丝,prev:(0,r.unref)(t).prev.总粉丝,'has-prev':(0,r.unref)(t).hasPrevData,format:'currency'},null,8,['value','prev','has-prev'])])])])]),(0,r.createElementVNode)('div',je,[s[43]||(s[43]=(0,r.createElementVNode)('div',{class:'polaroid-header'},[(0,r.createElementVNode)('span',{class:'ledger-dot mint'}),(0,r.createElementVNode)('span',{class:'polaroid-title'},'闪耀之星'),(0,r.createElementVNode)('span',{class:'polaroid-tag'},'TOP 3')],-1)),(0,r.createElementVNode)('div',Le,[(0,r.unref)(t).前三艺人.length?((0,r.openBlock)(),(0,r.createElementBlock)('div',Me,[((0,r.openBlock)(!0),(0,r.createElementBlock)(r.Fragment,null,(0,r.renderList)((0,r.unref)(t).前三艺人,(e,a)=>((0,r.openBlock)(),(0,r.createElementBlock)('div',{key:e.id,class:(0,r.normalizeClass)(['top3-card',{champion:0===a,silver:1===a,bronze:2===a}])},[(0,r.createElementVNode)('div',{class:(0,r.normalizeClass)(['top3-rank',['rank-'+(a+1)]])},[(0,r.createElementVNode)('span',Oe,(0,r.toDisplayString)(a+1),1),0===a?((0,r.openBlock)(),(0,r.createElementBlock)('span',Fe,'♕')):(0,r.createCommentVNode)('v-if',!0)],2),(0,r.createElementVNode)('div',Ue,(0,r.toDisplayString)(e.姓名),1),(0,r.createElementVNode)('div',Re,(0,r.toDisplayString)(e.等级),1),(0,r.createElementVNode)('div',Je,[s[41]||(s[41]=(0,r.createElementVNode)('span',{class:'fans-icon'},'♥',-1)),(0,r.createVNode)(b,{value:e.粉丝数,prev:(0,r.unref)(t).prev.艺人粉丝[e.id]??0,'has-prev':(0,r.unref)(t).hasPrevData,format:'currency'},null,8,['value','prev','has-prev'])])],2))),128))])):((0,r.openBlock)(),(0,r.createElementBlock)('div',We,[...s[42]||(s[42]=[(0,r.createElementVNode)('div',{class:'polaroid-frame'},[(0,r.createElementVNode)('div',{class:'polaroid-photo'},[(0,r.createElementVNode)('span',{class:'polaroid-icon'})]),(0,r.createElementVNode)('div',{class:'polaroid-caption'},'这里还空空荡荡的~'),(0,r.createElementVNode)('div',{class:'polaroid-hint'},'快去发现有潜力的艺人吧！')],-1)])]))])])])):'company'===l.value?((0,r.openBlock)(),(0,r.createElementBlock)('div',Ye,[(0,r.createElementVNode)('div',Ke,[s[45]||(s[45]=(0,r.createElementVNode)('div',{class:'company-ledger-header'},[(0,r.createElementVNode)('div',{class:'card-title'},'公司信息'),(0,r.createElementVNode)('span',{class:'company-ledger-stamp'},'账本')],-1)),(0,r.createVNode)(d,{label:'公司名称'},{default:(0,r.withCtx)(()=>[(0,r.createTextVNode)((0,r.toDisplayString)((0,r.unref)(t).公司.名称||'看什么？直接告诉AI名字就可以'),1)]),_:1}),(0,r.createVNode)(d,{label:'公司等级'},{default:(0,r.withCtx)(()=>[(0,r.createTextVNode)((0,r.toDisplayString)((0,r.unref)(t).公司.等级),1)]),_:1}),(0,r.createVNode)(d,{label:'工作人员'},{default:(0,r.withCtx)(()=>[(0,r.createTextVNode)((0,r.toDisplayString)((0,r.unref)(t).公司.工作人员数量),1)]),_:1}),(0,r.createVNode)(d,{label:'声望'},{default:(0,r.withCtx)(()=>[(0,r.createVNode)(b,{value:(0,r.unref)(t).公司.声望,prev:(0,r.unref)(t).prev.公司声望,'has-prev':(0,r.unref)(t).hasPrevData},null,8,['value','prev','has-prev'])]),_:1}),s[46]||(s[46]=(0,r.createElementVNode)('div',{class:'divider'},null,-1)),(0,r.createVNode)(d,{label:'账户余额'},{default:(0,r.withCtx)(()=>[s[44]||(s[44]=(0,r.createTextVNode)('￥',-1)),(0,r.createVNode)(b,{value:(0,r.unref)(t).账户余额,prev:(0,r.unref)(t).prev.账户余额,'has-prev':(0,r.unref)(t).hasPrevData,format:'number'},null,8,['value','prev','has-prev'])]),_:1})])])):'artists'===l.value?((0,r.openBlock)(),(0,r.createElementBlock)('div',Ze,[(0,r.createElementVNode)('div',Ge,[(0,r.createElementVNode)('div',qe,[(0,r.createElementVNode)('div',He,[s[47]||(s[47]=(0,r.createElementVNode)('div',null,[(0,r.createElementVNode)('div',{class:'list-title'},'艺人名册'),(0,r.createElementVNode)('div',{class:'list-sub'},'最多展示 15 位')],-1)),(0,r.createElementVNode)('div',Qe,(0,r.toDisplayString)((0,r.unref)(t).艺人数)+' / 15',1)]),(0,r.createElementVNode)('div',Xe,[((0,r.openBlock)(!0),(0,r.createElementBlock)(r.Fragment,null,(0,r.renderList)((0,r.unref)(t).艺人,e=>((0,r.openBlock)(),(0,r.createBlock)(E,{key:e.id,artist:e,active:n.value===e.id,onSelect:t=>n.value=e.id},null,8,['artist','active','onSelect']))),128))])]),(0,r.createElementVNode)('div',et,[J.value?((0,r.openBlock)(),(0,r.createBlock)(ae,{key:1,artist:J.value,'prev-fans':(0,r.unref)(t).prev.艺人粉丝[J.value.id]??0,'has-prev':(0,r.unref)(t).hasPrevData},null,8,['artist','prev-fans','has-prev'])):((0,r.openBlock)(),(0,r.createElementBlock)('div',tt,'请选择艺人查看详情'))])])])):'songs'===l.value?((0,r.openBlock)(),(0,r.createElementBlock)('div',at,[(0,r.createElementVNode)('div',lt,[s[54]||(s[54]=(0,r.createElementVNode)('div',{class:'card-title'},'曲库分布',-1)),(0,r.createElementVNode)('div',nt,[s[48]||(s[48]=(0,r.createElementVNode)('div',{class:'song-total-title'},'已发布总数',-1)),(0,r.createElementVNode)('div',rt,[(0,r.createVNode)(b,{value:(0,r.unref)(t).歌曲统计.已发布总数,prev:(0,r.unref)(t).prev.歌曲统计.已发布总数,'has-prev':(0,r.unref)(t).hasPrevData},null,8,['value','prev','has-prev'])])]),(0,r.createElementVNode)('div',st,[(0,r.createElementVNode)('div',{class:'song-card song-normal clickable',onClick:s[3]||(s[3]=e=>{j.value='普通',I.value=!0})},[s[49]||(s[49]=(0,r.createElementVNode)('span',{class:'song-label'},'普通',-1)),(0,r.createElementVNode)('span',ot,[(0,r.createVNode)(b,{value:(0,r.unref)(t).歌曲统计.普通,prev:(0,r.unref)(t).prev.歌曲统计.普通,'has-prev':(0,r.unref)(t).hasPrevData},null,8,['value','prev','has-prev'])])]),(0,r.createElementVNode)('div',{class:'song-card song-hot clickable',onClick:s[4]||(s[4]=e=>{j.value='热门',I.value=!0})},[s[50]||(s[50]=(0,r.createElementVNode)('span',{class:'song-label'},'热门',-1)),(0,r.createElementVNode)('span',ct,[(0,r.createVNode)(b,{value:(0,r.unref)(t).歌曲统计.热门,prev:(0,r.unref)(t).prev.歌曲统计.热门,'has-prev':(0,r.unref)(t).hasPrevData},null,8,['value','prev','has-prev'])])]),(0,r.createElementVNode)('div',{class:'song-card song-burst clickable',onClick:s[5]||(s[5]=e=>{j.value='爆款',I.value=!0})},[s[51]||(s[51]=(0,r.createElementVNode)('span',{class:'song-label'},'爆款',-1)),(0,r.createElementVNode)('span',it,[(0,r.createVNode)(b,{value:(0,r.unref)(t).歌曲统计.爆款,prev:(0,r.unref)(t).prev.歌曲统计.爆款,'has-prev':(0,r.unref)(t).hasPrevData},null,8,['value','prev','has-prev'])])]),(0,r.createElementVNode)('div',{class:'song-card song-phenom clickable',onClick:s[6]||(s[6]=e=>{j.value='现象级',I.value=!0})},[s[52]||(s[52]=(0,r.createElementVNode)('span',{class:'song-label'},'现象级',-1)),(0,r.createElementVNode)('span',dt,[(0,r.createVNode)(b,{value:(0,r.unref)(t).歌曲统计.现象级,prev:(0,r.unref)(t).prev.歌曲统计.现象级,'has-prev':(0,r.unref)(t).hasPrevData},null,8,['value','prev','has-prev'])])]),(0,r.createElementVNode)('div',{class:'song-card song-hall clickable',onClick:s[7]||(s[7]=e=>{j.value='殿堂级',I.value=!0})},[s[53]||(s[53]=(0,r.createElementVNode)('span',{class:'song-label'},'殿堂级',-1)),(0,r.createElementVNode)('span',ut,[(0,r.createVNode)(b,{value:(0,r.unref)(t).歌曲统计.殿堂级,prev:(0,r.unref)(t).prev.歌曲统计.殿堂级,'has-prev':(0,r.unref)(t).hasPrevData},null,8,['value','prev','has-prev'])])])])])])):((0,r.openBlock)(),(0,r.createElementBlock)('div',vt,[(0,r.createElementVNode)('div',mt,[(0,r.createElementVNode)('div',pt,[(0,r.createElementVNode)('div',Nt,[s[55]||(s[55]=(0,r.createElementVNode)('span',null,'歌曲档案终端',-1)),(0,r.createElementVNode)('button',{type:'button',class:'ghost-btn wide',onClick:s[8]||(s[8]=e=>c.value=!0)},'AI 接入配置')]),s[59]||(s[59]=(0,r.createElementVNode)('div',{class:'notice-box'},[(0,r.createElementVNode)('span',{class:'notice-icon'},'!'),(0,r.createElementVNode)('span',{class:'notice-text'},[(0,r.createTextVNode)('本页面功能非必要。如需使用，建议选择带网络搜索功能的模型（如公益站带 '),(0,r.createElementVNode)('code',null,'search'),(0,r.createTextVNode)(' 字样的模型），虽然但是，建议使用 flash-high 模型而不是 flash-low，当然你要用 pro-high 也可以。')])],-1)),(0,r.createElementVNode)('div',Vt,[s[56]||(s[56]=(0,r.createElementVNode)('span',{class:'connection-label'},'连接状态',-1)),(0,r.createElementVNode)('span',{class:(0,r.normalizeClass)(['connection-pill',`is-${M.value}`])},(0,r.toDisplayString)(O.value),3)]),(0,r.createElementVNode)('label',Et,[s[57]||(s[57]=(0,r.createElementVNode)('span',null,'检索内容',-1)),(0,r.withDirectives)((0,r.createElementVNode)('textarea',{'onUpdate:modelValue':s[9]||(s[9]=e=>p.value=e),rows:'3',placeholder:'建议输入完整的歌手+歌曲名；也可使用自然语言搜索，例如：2005年的中文歌曲，曲风忧伤'},null,512),[[r.vModelText,p.value]])]),(0,r.createElementVNode)('div',gt,[(0,r.createElementVNode)('button',{type:'button',class:'primary-btn',disabled:y.value,onClick:H},(0,r.toDisplayString)(y.value?'搜索中...':'搜索歌曲'),9,ft)]),V.value&&!A.value?((0,r.openBlock)(),(0,r.createElementBlock)('div',ht,(0,r.toDisplayString)(V.value),1)):(0,r.createCommentVNode)('v-if',!0),(0,r.createElementVNode)('div',yt,[(0,r.createElementVNode)('div',{class:'result-title row-between'},[s[58]||(s[58]=(0,r.createElementVNode)('span',null,'连接信息',-1)),(0,r.createElementVNode)('button',{type:'button',class:'ghost-btn wide',onClick:q},'清空')]),(0,r.createElementVNode)('pre',bt,(0,r.toDisplayString)(C.value.length?C.value.join('\n'):'暂无'),1)])])])]))]))]),_:1}))])]),c.value?((0,r.openBlock)(),(0,r.createElementBlock)('div',kt,[(0,r.createElementVNode)('div',wt,[(0,r.createElementVNode)('div',Bt,[s[61]||(s[61]=(0,r.createElementVNode)('span',null,'AI 接入配置',-1)),(0,r.createElementVNode)('button',{type:'button',class:'ghost-btn wide',onClick:s[10]||(s[10]=e=>c.value=!1)},'关闭')]),(0,r.createElementVNode)('div',St,[(0,r.createElementVNode)('label',Dt,[s[62]||(s[62]=(0,r.createElementVNode)('span',null,'Base URL',-1)),(0,r.withDirectives)((0,r.createElementVNode)('input',{'onUpdate:modelValue':s[11]||(s[11]=e=>i.value=e),type:'text',placeholder:'https://api.openai.com/v1'},null,512),[[r.vModelText,i.value]])]),(0,r.createElementVNode)('label',Ct,[s[63]||(s[63]=(0,r.createElementVNode)('span',null,'模型',-1)),(0,r.withDirectives)((0,r.createElementVNode)('input',{'onUpdate:modelValue':s[12]||(s[12]=e=>u.value=e),type:'text',placeholder:'gpt-4o-mini'},null,512),[[r.vModelText,u.value]])]),(0,r.createElementVNode)('div',At,[(0,r.createElementVNode)('button',{type:'button',class:'ghost-btn wide',disabled:B.value,onClick:te},(0,r.toDisplayString)(B.value?'加载中...':'加载模型列表'),9,xt),D.value?((0,r.openBlock)(),(0,r.createElementBlock)('span',Pt,(0,r.toDisplayString)(D.value),1)):(0,r.createCommentVNode)('v-if',!0)]),S.value.length?((0,r.openBlock)(),(0,r.createElementBlock)('label',zt,[s[64]||(s[64]=(0,r.createElementVNode)('span',null,'选择模型',-1)),(0,r.createElementVNode)('button',{type:'button',class:'ghost-btn wide model-picker-btn',onClick:s[13]||(s[13]=e=>x.value=!0)},(0,r.toDisplayString)(u.value||'点击选择模型'),1)])):(0,r.createCommentVNode)('v-if',!0),(0,r.createElementVNode)('label',$t,[s[65]||(s[65]=(0,r.createElementVNode)('span',null,'API Key',-1)),(0,r.withDirectives)((0,r.createElementVNode)('input',{'onUpdate:modelValue':s[14]||(s[14]=e=>v.value=e),type:'password',placeholder:'sk-...'},null,512),[[r.vModelText,v.value]])]),(0,r.createElementVNode)('label',_t,[s[66]||(s[66]=(0,r.createElementVNode)('span',null,'前置提示词',-1)),(0,r.withDirectives)((0,r.createElementVNode)('textarea',{'onUpdate:modelValue':s[15]||(s[15]=e=>m.value=e),rows:'6',placeholder:'请按 <song_archive>...</song_archive> 返回 YAML'},null,512),[[r.vModelText,m.value]])]),(0,r.createElementVNode)('div',{class:'action-row'},[(0,r.createElementVNode)('button',{type:'button',class:'ghost-btn wide',onClick:Y},'清除前置提示词缓存')]),s[67]||(s[67]=(0,r.createElementVNode)('div',{class:'helper'},'API 配置仅保存在本地浏览器。',-1))])])])):(0,r.createCommentVNode)('v-if',!0),y.value?((0,r.openBlock)(),(0,r.createElementBlock)('div',Tt,[(0,r.createElementVNode)('div',{class:'modal-card loading-card'},[s[68]||(s[68]=(0,r.createElementVNode)('div',{class:'loading-spinner','aria-hidden':'true'},null,-1)),s[69]||(s[69]=(0,r.createElementVNode)('div',{class:'card-title'},'正在搜索歌曲信息…',-1)),s[70]||(s[70]=(0,r.createElementVNode)('div',{class:'helper'},'等待 AI 返回，请勿关闭窗口。',-1)),(0,r.createElementVNode)('button',{type:'button',class:'ghost-btn wide stop-btn',onClick:ee},'停止')])])):(0,r.createCommentVNode)('v-if',!0),A.value?((0,r.openBlock)(),(0,r.createElementBlock)('div',It,[(0,r.createElementVNode)('div',jt,[(0,r.createElementVNode)('div',Lt,[s[71]||(s[71]=(0,r.createElementVNode)('span',null,'搜索结果',-1)),(0,r.createElementVNode)('div',Mt,[(0,r.createElementVNode)('button',{type:'button',class:'ghost-btn wide',onClick:X},'提取歌曲名'),(0,r.createElementVNode)('button',{type:'button',class:'ghost-btn wide',onClick:s[16]||(s[16]=e=>A.value=!1)},'关闭')])]),(0,r.createElementVNode)('div',Ot,[V.value?((0,r.openBlock)(),(0,r.createElementBlock)('div',Ft,(0,r.toDisplayString)(V.value),1)):(0,r.createCommentVNode)('v-if',!0),(0,r.createElementVNode)('div',Ut,[(0,r.createElementVNode)('button',{type:'button',class:(0,r.normalizeClass)(['ghost-btn wide',{disabled:!W.value||k.value}]),disabled:!W.value||k.value,'aria-disabled':!W.value||k.value?'true':'false',onClick:Q},(0,r.toDisplayString)(k.value?'保存中...':'确认保存到世界书'),11,Rt)]),w.value?((0,r.openBlock)(),(0,r.createElementBlock)('div',Jt,(0,r.toDisplayString)(w.value),1)):(0,r.createCommentVNode)('v-if',!0),W.value?(0,r.createCommentVNode)('v-if',!0):((0,r.openBlock)(),(0,r.createElementBlock)('div',Wt,'请填写世界书条目名与世界书关键词后再保存。')),(0,r.createElementVNode)('div',Yt,[(0,r.createElementVNode)('label',Kt,[s[72]||(s[72]=(0,r.createElementVNode)('span',null,'世界书条目名',-1)),(0,r.withDirectives)((0,r.createElementVNode)('input',{'onUpdate:modelValue':s[17]||(s[17]=e=>g.value=e),type:'text',placeholder:'示例：夜曲'},null,512),[[r.vModelText,g.value]])]),(0,r.createElementVNode)('label',Zt,[s[73]||(s[73]=(0,r.createElementVNode)('span',null,'世界书关键词',-1)),(0,r.withDirectives)((0,r.createElementVNode)('input',{'onUpdate:modelValue':s[18]||(s[18]=e=>f.value=e),type:'text',placeholder:'示例：夜曲'},null,512),[[r.vModelText,f.value]])]),(0,r.createElementVNode)('label',Gt,[s[74]||(s[74]=(0,r.createElementVNode)('span',null,'内容',-1)),(0,r.withDirectives)((0,r.createElementVNode)('textarea',{'onUpdate:modelValue':s[19]||(s[19]=e=>h.value=e),rows:'10',class:'result-content'},null,512),[[r.vModelText,h.value]])])])])])])):(0,r.createCommentVNode)('v-if',!0),x.value?((0,r.openBlock)(),(0,r.createElementBlock)('div',qt,[(0,r.createElementVNode)('div',Ht,[(0,r.createElementVNode)('div',Qt,[s[75]||(s[75]=(0,r.createElementVNode)('span',null,'选择模型',-1)),(0,r.createElementVNode)('button',{type:'button',class:'ghost-btn wide',onClick:s[20]||(s[20]=e=>x.value=!1)},'关闭')]),(0,r.createElementVNode)('div',Xt,[(0,r.createElementVNode)('label',ea,[s[76]||(s[76]=(0,r.createElementVNode)('span',null,'筛选',-1)),(0,r.withDirectives)((0,r.createElementVNode)('input',{'onUpdate:modelValue':s[21]||(s[21]=e=>P.value=e),type:'text',placeholder:'输入关键词筛选模型'},null,512),[[r.vModelText,P.value]])]),(0,r.createElementVNode)('div',ta,[((0,r.openBlock)(!0),(0,r.createElementBlock)(r.Fragment,null,(0,r.renderList)(T.value,e=>((0,r.openBlock)(),(0,r.createElementBlock)('button',{key:e,type:'button',class:(0,r.normalizeClass)(['model-picker-item',{active:e===u.value}]),onClick:()=>{u.value=e,x.value=!1}},(0,r.toDisplayString)(e),11,aa))),128)),T.value.length?(0,r.createCommentVNode)('v-if',!0):((0,r.openBlock)(),(0,r.createElementBlock)('div',la,'暂无匹配模型'))])])])])):(0,r.createCommentVNode)('v-if',!0),I.value?((0,r.openBlock)(),(0,r.createElementBlock)('div',na,[(0,r.createElementVNode)('div',ra,[(0,r.createElementVNode)('div',sa,[(0,r.createElementVNode)('span',null,'曲目明细 · '+(0,r.toDisplayString)(j.value),1),(0,r.createElementVNode)('button',{type:'button',class:'ghost-btn wide',onClick:s[22]||(s[22]=e=>I.value=!1)},'关闭')]),(0,r.createElementVNode)('div',oa,[(0,r.createElementVNode)('div',ca,[L.value.length?((0,r.openBlock)(),(0,r.createElementBlock)('div',da,[((0,r.openBlock)(!0),(0,r.createElementBlock)(r.Fragment,null,(0,r.renderList)(L.value,(e,t)=>((0,r.openBlock)(),(0,r.createElementBlock)('div',{key:`${e.名称}-${t}`,class:'song-tag'},[(0,r.createElementVNode)('div',ua,[(0,r.createElementVNode)('span',va,(0,r.toDisplayString)(e.名称),1),(0,r.createElementVNode)('span',ma,(0,r.toDisplayString)(e.艺人),1)]),(0,r.createElementVNode)('span',{class:(0,r.normalizeClass)(['song-tag-level',`level-${e.等级}`])},(0,r.toDisplayString)(e.等级),3)]))),128))])):((0,r.openBlock)(),(0,r.createElementBlock)('div',ia,'暂无该等级歌曲'))])])])])):(0,r.createCommentVNode)('v-if',!0)],10,le))}});function Va(e,t,a='N/A'){const l=t.split('.');let n=e;for(const e of l){if(null==n||'object'!=typeof n||!Object.prototype.hasOwnProperty.call(n,e))return a;n=n[e]}return null==n?a:Array.isArray(n)?n.length>0?n:a:n}function Ea(e,t){const a=function(e){if(e&&'object'==typeof e)return{主导:Va(e,'主导','N/A'),辅助:Va(e,'辅助','N/A'),第三:Va(e,'第三','N/A'),劣势:Va(e,'劣势','N/A')};if('string'==typeof e){const t=e.split('-').map(e=>e.trim());if(4===t.length)return{主导:t[0]||'N/A',辅助:t[1]||'N/A',第三:t[2]||'N/A',劣势:t[3]||'N/A'}}return{主导:'N/A',辅助:'N/A',第三:'N/A',劣势:'N/A'}}(Va(t,'荣格八维',{}));return{id:e,姓名:Va(t,'姓名','N/A'),性别:Va(t,'性别','N/A'),年龄:Number(Va(t,'年龄',0)),荣格八维:{主导:Va(a,'主导','N/A'),辅助:Va(a,'辅助','N/A'),第三:Va(a,'第三','N/A'),劣势:Va(a,'劣势','N/A')},粉丝数:Number(Va(t,'粉丝数',0)),等级:Va(t,'等级','N/A'),音色特点:Va(t,'音色特点','N/A'),核心特征:Va(t,'核心特征','N/A'),代表作:Va(t,'代表作',[])??[],最新发行日期:Va(t,'最新发行日期','N/A'),合约状态:Va(t,'合约状态','N/A'),合约到期日期:Va(t,'合约到期日期','N/A')}}function ga(e,t){t.日期=Va(e,'日期','N/A'),t.时间=Va(e,'时间','N/A'),t.账户余额=Number(Va(e,'账户余额',0)),t.公司.名称=Va(e,'公司.名称','N/A'),t.公司.等级=Va(e,'公司.等级','N/A'),t.公司.工作人员数量=Number(Va(e,'公司.工作人员数量',0)),t.公司.声望=Number(Va(e,'公司.声望',0)),t.家庭.白诗涵信任度=Number(Va(e,'家庭.白诗涵信任度',0)),t.家庭.奈奈亲近度=Number(Va(e,'家庭.奈奈亲近度',0)),t.歌曲统计.已发布总数=Number(Va(e,'歌曲统计.已发布总数',0)),t.歌曲统计.殿堂级=Number(Va(e,'歌曲统计.殿堂级',0)),t.歌曲统计.现象级=Number(Va(e,'歌曲统计.现象级',0)),t.歌曲统计.爆款=Number(Va(e,'歌曲统计.爆款',0)),t.歌曲统计.热门=Number(Va(e,'歌曲统计.热门',0)),t.歌曲统计.普通=Number(Va(e,'歌曲统计.普通',0));const a=Va(e,'曲库',[]);Array.isArray(a)?t.曲库=a.map(e=>({名称:Va(e,'名称','N/A'),艺人:Va(e,'艺人','N/A'),等级:Va(e,'等级','普通')})):t.曲库=[];const l=Va(e,'艺人',{});if(l&&'object'==typeof l){const e=Object.entries(l).map(([e,t])=>Ea(e,t));t.艺人=e.slice(0,15)}else t.艺人=[]}function fa(e,t){if(!e)return void(t.hasPrevData=!1);t.hasPrevData=!0,t.prev.账户余额=Number(Va(e,'账户余额',0)),t.prev.公司声望=Number(Va(e,'公司.声望',0)),t.prev.白诗涵信任度=Number(Va(e,'家庭.白诗涵信任度',0)),t.prev.奈奈亲近度=Number(Va(e,'家庭.奈奈亲近度',0)),t.prev.歌曲统计.已发布总数=Number(Va(e,'歌曲统计.已发布总数',0)),t.prev.歌曲统计.殿堂级=Number(Va(e,'歌曲统计.殿堂级',0)),t.prev.歌曲统计.现象级=Number(Va(e,'歌曲统计.现象级',0)),t.prev.歌曲统计.爆款=Number(Va(e,'歌曲统计.爆款',0)),t.prev.歌曲统计.热门=Number(Va(e,'歌曲统计.热门',0)),t.prev.歌曲统计.普通=Number(Va(e,'歌曲统计.普通',0));const a=Va(e,'艺人',{});if(a&&'object'==typeof a){const e={};let l=0;for(const[t,n]of Object.entries(a)){const a=Number(Va(n,'粉丝数',0));e[t]=a,l+=a}t.prev.艺人粉丝=e,t.prev.总粉丝=l}}$(()=>{const t=(0,r.createApp)(Na),a=e();t.use(a),t.mount('#app')});export{fa as parsePrevData,ga as parseStatusData};
//# sourceMappingURL=index.js.map</script><style>@import url(https://fonts.googleapis.com/css2?family=Varela+Round&family=Nunito+Sans:wght@300;400;600;700&family=ZCOOL+XiaoWei&family=Space+Mono:wght@400;700&display=swap);
.value-badge[data-v-b984c04a]{display:inline-flex;flex-direction:column;align-items:flex-start;gap:2px}.value-main[data-v-b984c04a]{font-weight:600;color:var(--text)}.value-delta[data-v-b984c04a]{display:inline-flex;align-items:center;gap:2px;font-size:11px;font-weight:500;padding:1px 4px;border-radius:4px;transition:all .3s ease}.delta-arrow[data-v-b984c04a]{font-size:10px}.delta-num[data-v-b984c04a]{font-variant-numeric:tabular-nums}.delta-up .value-delta[data-v-b984c04a]{color:#16a34a;background:rgba(22,163,74,.12)}.delta-down .value-delta[data-v-b984c04a]{color:#dc2626;background:rgba(220,38,38,.12)}.delta-zero .value-delta[data-v-b984c04a]{color:var(--text-muted);background:rgba(100,116,139,.1)}.value-delta.highlight[data-v-b984c04a]{animation:deltaFlash-b984c04a .6s ease}@keyframes deltaFlash-b984c04a{0%,100%{transform:scale(1)}50%{transform:scale(1.1)}}[data-theme=dark] .delta-up .value-delta[data-v-b984c04a]{color:#4ade80;background:rgba(74,222,128,.15)}[data-theme=dark] .delta-down .value-delta[data-v-b984c04a]{color:#f87171;background:rgba(248,113,113,.15)}
/*! tailwindcss v4.1.18 | MIT License | https://tailwindcss.com */:root{color-scheme:light;font-family:"Nunito Sans","Varela Round","PingFang SC","Hiragino Sans GB",sans-serif;--bg:#f7f1e8;--bg-soft:#f3ede5;--surface:#fff9f1;--surface-strong:#fff4e7;--border:rgba(140,120,100,0.16);--text:#4b3c2d;--text-muted:#7b6c5f;--primary:#cfa5b8;--primary-strong:#b28598;--mint:#a8c7b4;--accent:#e4b86a;--accent-soft:rgba(228,184,106,0.18);--shadow:0 24px 60px rgba(112,85,60,0.18)}[data-theme=dark]{color-scheme:dark;--bg:#000000;--bg-soft:#0a0a0a;--surface:#1c1c1e;--surface-strong:#2c2c2e;--border:rgba(212,175,55,0.25);--text:#f5f5f5;--text-muted:#c0c0c0;--primary:#d4af37;--primary-strong:#e6c453;--mint:#d4af37;--accent:#d4af37;--accent-soft:rgba(212,175,55,0.18);--shadow:0 30px 80px rgba(0,0,0,0.8),0 0 40px rgba(212,175,55,0.08)}*{box-sizing:border-box}::-webkit-scrollbar{width:6px;height:6px}::-webkit-scrollbar-track{background:rgba(0,0,0,0)}::-webkit-scrollbar-thumb{background:var(--primary);border-radius:999px;opacity:.6}::-webkit-scrollbar-thumb:hover{background:var(--primary-strong)}[data-theme=dark] ::-webkit-scrollbar-thumb{background:rgba(212,175,55,.5)}[data-theme=dark] ::-webkit-scrollbar-thumb:hover{background:var(--primary)}body{margin:0;padding:0;background:rgba(0,0,0,0)}.status-shell{width:100%;padding:16px;display:flex;justify-content:center;position:relative;border-radius:34px;overflow:hidden;background:rgba(0,0,0,0);--theme-transition:background-color 0.35s ease,color 0.35s ease,border-color 0.35s ease,box-shadow 0.35s ease}.status-shell.theme-switching .tab-rail,.status-shell.theme-switching .tab-rail *{transition:none !important;animation:none !important}.status-shell::before{content:"";position:absolute;inset:0;border-radius:inherit;background:var(--bg);z-index:0;pointer-events:none;transition:background-color .35s ease}.status-card{width:100%;max-width:980px;background:linear-gradient(140deg,var(--bg),var(--bg-soft));border-radius:30px;border:1px solid var(--border);box-shadow:var(--shadow);overflow:hidden;position:relative;z-index:1;transition:transform .3s ease,opacity .3s ease,background .35s ease,border-color .35s ease,box-shadow .35s ease}[data-theme=dark] .status-card{border:1px solid rgba(212,175,55,.15);background:var(--bg);box-shadow:0 30px 80px rgba(0,0,0,.7),0 0 30px rgba(212,175,55,.06)}[data-theme=dark] .status-shell{background:rgba(0,0,0,0)}.status-shell.collapsed .panel-body{max-height:0;opacity:0;pointer-events:none;transform:translateY(-12px);padding-top:0;padding-bottom:0}.status-shell.collapsed .scroll-hint,.status-shell.collapsed .tab-rail{max-height:0;opacity:0;padding-top:0;padding-bottom:0;border-bottom-color:rgba(0,0,0,0);overflow:hidden}.status-header{display:grid;grid-template-columns:1.2fr 1fr auto;gap:16px;align-items:center;padding:20px 24px;background:var(--surface);border-bottom:1px solid var(--border);transition:background-color .35s ease,border-color .35s ease}.brand{display:flex;flex-direction:column;gap:6px}.brand-kicker{font-size:12px;letter-spacing:.24em;text-transform:uppercase;color:var(--text-muted)}.brand-title{display:flex;flex-direction:column;gap:4px;border:none;padding:0;background:rgba(0,0,0,0);text-align:left;font-size:20px;font-weight:700;color:var(--text);cursor:pointer;font-family:"ZCOOL XiaoWei","Noto Serif SC",serif}.brand-sub{font-size:13px;color:var(--text-muted);font-family:"Varela Round","Nunito Sans",sans-serif}.brand-date{font-size:18px;font-weight:600;color:var(--text);font-family:"Space Mono","Nunito Sans",monospace}.brand-sun{display:inline-block;width:14px;height:14px;margin-left:6px;border-radius:50%;background:#f5c24f;box-shadow:0 -8px 0 -6px rgba(245,194,79,.9),0 8px 0 -6px rgba(245,194,79,.9),8px 0 0 -6px rgba(245,194,79,.9),-8px 0 0 -6px rgba(245,194,79,.9);position:relative}.brand-sun::after{content:"";position:absolute;inset:-4px;border-radius:50%;border:1px solid rgba(245,194,79,.45)}.header-stats{display:grid;grid-template-columns:repeat(5,minmax(0,1fr));gap:6px}.stat-chip{display:grid;gap:2px;padding:8px 10px;border-radius:14px;background:var(--surface-strong);border:1px solid var(--border);box-shadow:0 8px 16px rgba(191,159,125,.1);transition:background-color .35s ease,border-color .35s ease,box-shadow .35s ease}[data-theme=dark] .stat-chip{background:rgba(28,28,30,.5);border-color:rgba(212,175,55,.15)}.stat-chip .value-badge{width:100%;max-width:100%;overflow:visible}.stat-chip .value-main{font-size:11px;white-space:normal;word-break:break-all;line-height:1.3}.stat-chip .value-delta{font-size:9px;padding:1px 3px;white-space:nowrap}.stat-chip.solid{background:var(--accent-soft);border-color:rgba(0,0,0,0)}.stat-label{font-size:11px;color:var(--text-muted);display:flex;align-items:center;gap:4px}.stat-value{display:inline-flex;flex-direction:column;align-items:flex-start;gap:2px;font-size:12px;font-weight:600;color:var(--text);font-family:"Space Mono","Nunito Sans",monospace}[data-theme=dark] .stat-value{font-size:13px;font-weight:700;color:var(--primary)}.stat-icon{width:16px;height:16px;display:inline-block;background:var(--accent-soft);border-radius:50%;position:relative;transition:box-shadow .3s ease}[data-theme=dark] .stat-icon{background:rgba(212,175,55,.2);box-shadow:0 0 8px rgba(212,175,55,.4)}.stat-icon.wallet::before{content:"";position:absolute;inset:4px 3px 5px 3px;border:2px solid var(--primary-strong);border-top-left-radius:6px;border-top-right-radius:6px;border-bottom-left-radius:4px;border-bottom-right-radius:4px}.stat-icon.mic::before{content:"";position:absolute;width:6px;height:8px;top:3px;left:5px;border-radius:6px;background:var(--primary-strong)}.stat-icon.heart::before{content:"";position:absolute;width:8px;height:8px;top:4px;left:4px;background:var(--primary-strong);transform:rotate(45deg);border-radius:2px;box-shadow:-3px 2px 0 var(--primary-strong)}.stat-icon.trust::before{content:"♡";position:absolute;inset:0;display:flex;align-items:center;justify-content:center;font-size:10px;color:var(--primary-strong)}.stat-icon.nana::before{content:"★";position:absolute;inset:0;display:flex;align-items:center;justify-content:center;font-size:9px;color:var(--mint)}.header-actions{display:flex;gap:8px;justify-content:flex-end}.ghost-btn{width:40px;height:40px;border-radius:16px;border:1px solid var(--border);background:var(--surface);color:var(--text);cursor:pointer;transition:all .2s ease,background-color .35s ease,border-color .35s ease}.ghost-btn.disabled{opacity:.45;cursor:not-allowed;pointer-events:none}.ghost-btn:hover{border-color:var(--primary);color:var(--primary);box-shadow:0 10px 20px rgba(207,165,184,.18)}.ghost-icon{display:inline-block;font-weight:700;transition:transform .3s cubic-bezier(0.4,0,0.2,1)}.ghost-icon.flipped{transform:rotate(180deg)}.scroll-hint{display:none;padding:6px 20px;font-size:12px;color:var(--text-muted);background:var(--surface);text-align:right;transition:max-height .35s cubic-bezier(0.4,0,0.2,1),opacity .3s ease,padding .35s ease,background-color .35s ease;max-height:40px}@media (max-width:600px){.scroll-hint{display:block}}.tab-rail{position:relative;display:flex;gap:6px;padding:12px 20px;background:var(--surface);border-bottom:1px solid var(--border);overflow-x:auto;transition:max-height .35s cubic-bezier(0.4,0,0.2,1),opacity .3s ease,padding .35s ease,background-color .35s ease,border-color .35s ease;max-height:60px}.tab-btn{position:relative;border:none;background:rgba(0,0,0,0);color:var(--text-muted);padding:8px 16px;border-radius:999px;font-size:14px;cursor:pointer;transition:color .2s ease,background-color .2s ease,box-shadow .2s ease;white-space:nowrap;flex-shrink:0}.tab-btn.active{color:var(--text);font-weight:600;background:rgba(207,165,184,.22);box-shadow:0 10px 20px rgba(207,165,184,.18);padding-bottom:6px}[data-theme=dark] .tab-btn{color:#6b6b6b}[data-theme=dark] .tab-btn.active{color:#fff;font-weight:700;background:rgba(0,0,0,0);box-shadow:none;border-bottom:2px solid var(--primary);border-radius:0}.tab-btn .tab-bar{display:none}.panel-body{padding:20px 24px 28px;transition:max-height .4s cubic-bezier(0.4,0,0.2,1),opacity .3s ease,transform .35s ease,padding .35s ease;max-height:1200px}.panel-page{display:block}.overview-layout{display:grid;gap:20px;grid-template-columns:minmax(0,0.9fr) minmax(0,1.1fr)}.company-grid,.family-grid,.songs-grid{display:grid;gap:16px}.panel-card{background:var(--surface);border-radius:24px;padding:18px;border:1px solid var(--border);display:grid;gap:10px;box-shadow:0 18px 40px rgba(191,159,125,.15);transition:background-color .35s ease,border-color .35s ease,box-shadow .35s ease}[data-theme=dark] .panel-card{box-shadow:0 20px 50px rgba(0,0,0,.5),0 0 20px rgba(212,175,55,.05)}.panel-card.wide{grid-column:span 2}.company-ledger{position:relative;overflow:hidden;background:linear-gradient(180deg,rgba(255,255,255,0.92),rgba(255,248,240,0.9));border-radius:24px}[data-theme=dark] .company-ledger{background:linear-gradient(180deg,rgba(28,28,30,0.98),rgba(20,20,22,0.95))}.company-ledger::before{content:"";position:absolute;inset:0;background-image:repeating-linear-gradient(to bottom,transparent 0px,transparent 28px,rgba(199,178,154,0.16) 29px,transparent 30px);opacity:.65;pointer-events:none}.company-ledger::after{content:"";position:absolute;left:18px;top:14px;bottom:14px;width:2px;border-radius:999px;background:linear-gradient(180deg,rgba(120,170,150,0.65),rgba(120,170,150,0.2));opacity:.8;pointer-events:none}.company-ledger-header{display:flex;align-items:center;justify-content:space-between;gap:12px;position:relative;z-index:1}.company-ledger-stamp{font-size:11px;letter-spacing:.2em;padding:6px 10px;border-radius:999px;border:1px dashed rgba(199,158,120,.5);color:rgba(143,104,71,.85);background:rgba(245,222,203,.4);text-transform:uppercase}[data-theme=dark] .company-ledger-stamp{color:rgba(212,175,55,.9);border-color:rgba(212,175,55,.4);background:rgba(212,175,55,.12)}.company-ledger .info-row{padding:6px 4px 6px 16px;border-bottom:1px dashed rgba(160,130,105,.2);position:relative;z-index:1}.company-ledger .info-row:last-of-type{border-bottom:none}.company-ledger .info-label{color:var(--text-muted);font-weight:500}.company-ledger .info-value{color:var(--text);font-weight:600;font-family:"Space Mono","Nunito Sans",sans-serif}.company-ledger .divider{height:0;border-top:1px dashed rgba(160,130,105,.35);margin:4px 0 6px;position:relative;z-index:1}.ledger-card{background:linear-gradient(180deg,rgba(255,255,255,0.9),rgba(255,250,244,0.8));border-radius:24px;position:relative;overflow:hidden}[data-theme=dark] .ledger-card{background:linear-gradient(180deg,rgba(28,28,30,0.98),rgba(20,20,22,0.95))}.ledger-card::before{content:"";position:absolute;inset:0;background-image:repeating-linear-gradient(to bottom,transparent 0px,transparent 28px,rgba(199,178,154,0.18) 29px,transparent 30px);opacity:.6;pointer-events:none}.ledger-header{display:flex;align-items:center;gap:10px;font-size:16px;font-weight:600;color:var(--text);position:relative;z-index:1}.ledger-dot{width:8px;height:20px;border-radius:999px;background:var(--mint)}.ledger-dot.mint{background:var(--mint)}.ledger-title{font-family:"ZCOOL XiaoWei","Noto Serif SC",serif}.ledger-rows{display:grid;gap:6px;margin-top:8px;position:relative;z-index:1}.ledger-row{display:flex;justify-content:space-between;gap:16px;padding:10px 0;border-bottom:1px dashed rgba(196,176,150,.35);color:var(--text);font-size:13px;line-height:1.6}[data-theme=dark] .ledger-row{border-bottom-color:hsla(0,0%,100%,.08)}.ledger-divider{border-bottom:1px solid rgba(196,176,150,.35);margin:4px 0}.ledger-empty{color:#d08080;font-style:italic}[data-theme=dark] .ledger-empty{color:#e6c453;cursor:pointer;transition:color .2s ease}[data-theme=dark] .ledger-empty:hover{color:#f0d060}.ledger-muted{color:var(--mint);font-weight:600}.polaroid-card{background:var(--surface);border-radius:24px;position:relative}.polaroid-header{display:flex;align-items:center;gap:10px;justify-content:space-between;margin-bottom:8px}.polaroid-title{font-family:"ZCOOL XiaoWei","Noto Serif SC",serif;font-size:16px;font-weight:600;color:var(--text);margin-right:auto}.polaroid-tag{font-size:12px;color:var(--text-muted);letter-spacing:.12em}.polaroid-stage{border:1px dashed rgba(196,176,150,.6);border-radius:24px;padding:16px;min-height:280px;background:hsla(0,0%,100%,.5);position:relative;display:flex;align-items:center;justify-content:center}.polaroid-stage::before{content:"";position:absolute;top:-10px;left:40%;width:80px;height:18px;background:rgba(236,219,196,.8);border-radius:4px;box-shadow:0 6px 12px rgba(191,159,125,.15)}[data-theme=dark] .polaroid-stage{border-color:rgba(212,175,55,.25);background:linear-gradient(135deg,rgba(28,28,30,0.9) 0%,rgba(44,44,46,0.7) 100%)}[data-theme=dark] .polaroid-stage::before{background:rgba(212,175,55,.3);box-shadow:0 4px 12px rgba(212,175,55,.15)}.polaroid-profile{text-align:center;font-size:14px;color:var(--text);position:relative;padding:20px 0}.top3-grid{display:grid;grid-template-columns:repeat(3,1fr);gap:12px;width:100%}.top3-card{background:var(--surface);border:1px solid var(--border);border-radius:16px;padding:14px 10px;text-align:center;transition:all .2s ease;position:relative}.top3-card.champion{background:linear-gradient(160deg,rgba(240,208,140,0.24),rgba(220,186,130,0.2));border-color:rgba(240,208,140,.55);box-shadow:0 8px 20px rgba(240,208,140,.25)}[data-theme=dark] .top3-card.champion{background:linear-gradient(160deg,rgba(196,164,120,0.35),rgba(148,120,86,0.28));border-color:rgba(240,208,140,.55);box-shadow:0 10px 24px rgba(240,208,140,.28)}.top3-card.silver{background:linear-gradient(160deg,rgba(208,216,226,0.24),rgba(190,198,210,0.2));border-color:rgba(200,210,225,.55);box-shadow:0 8px 20px rgba(200,210,225,.22)}[data-theme=dark] .top3-card.silver{background:linear-gradient(160deg,rgba(160,176,198,0.28),rgba(118,136,160,0.24));border-color:rgba(200,210,225,.45);box-shadow:0 10px 24px rgba(200,210,225,.2)}.top3-card.bronze{background:linear-gradient(160deg,rgba(214,171,130,0.24),rgba(188,145,104,0.2));border-color:rgba(214,171,130,.5);box-shadow:0 8px 20px rgba(214,171,130,.22)}[data-theme=dark] .top3-card.bronze{background:linear-gradient(160deg,rgba(176,138,104,0.32),rgba(138,104,78,0.26));border-color:rgba(214,171,130,.5);box-shadow:0 10px 24px rgba(214,171,130,.2)}.top3-rank{display:inline-flex;align-items:center;justify-content:center;width:28px;height:28px;border-radius:50%;font-size:12px;font-weight:700;margin-bottom:8px;position:relative}.top3-rank.rank-1{background:linear-gradient(135deg,#f0c78a,#e4b86a);color:#fff;box-shadow:0 4px 12px rgba(228,184,106,.4)}.top3-rank.rank-2{background:linear-gradient(135deg,#c0c0c0,#a8a8a8);color:#fff}.top3-rank.rank-3{background:linear-gradient(135deg,#cd9a6b,#b8865a);color:#fff}.rank-crown{position:absolute;top:-14px;left:50%;transform:translateX(-50%);font-size:16px;color:#e4b86a;text-shadow:0 2px 4px rgba(228,184,106,.5)}.top3-name{font-size:14px;font-weight:700;color:var(--text);margin-bottom:4px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.top3-level{font-size:11px;color:var(--text-muted);margin-bottom:8px}.top3-fans{display:flex;align-items:center;justify-content:center;gap:4px;font-size:12px;color:var(--text)}.star-crown{display:flex;justify-content:center;gap:8px;margin-bottom:12px}.crown-star{font-size:24px;color:var(--accent);text-shadow:0 2px 8px rgba(228,184,106,.5);animation:starFloat 2s ease-in-out infinite}.crown-star.side{font-size:16px;opacity:.7;animation-delay:.3s}@keyframes starFloat{0%,100%{transform:translateY(0)}50%{transform:translateY(-4px)}}.polaroid-rank{display:inline-block;padding:4px 12px;background:linear-gradient(135deg,var(--accent),#f0c78a);color:#fff;font-size:12px;font-weight:700;border-radius:999px;margin-bottom:12px;box-shadow:0 4px 12px rgba(228,184,106,.4)}.polaroid-name{font-size:24px;font-weight:700;margin-bottom:8px;background:linear-gradient(135deg,var(--text),var(--primary-strong));-webkit-background-clip:text;-webkit-text-fill-color:rgba(0,0,0,0);background-clip:text}.polaroid-meta{color:var(--text-muted)}.polaroid-level{display:inline-block;padding:4px 14px;background:var(--surface-strong);border:1px solid var(--border);border-radius:999px;font-size:13px;color:var(--text-muted);margin-bottom:14px}.polaroid-fans{display:flex;align-items:center;justify-content:center;gap:8px;padding:10px 16px;background:linear-gradient(135deg,rgba(207,165,184,0.15),rgba(168,199,180,0.15));border-radius:16px;margin-top:8px}.fans-icon{color:var(--primary);font-size:14px}.fans-label{font-size:12px;color:var(--text-muted)}.polaroid-sparkles{position:absolute;inset:0;pointer-events:none;overflow:hidden}.sparkle{position:absolute;color:var(--accent);opacity:.6;animation:sparkleFloat 3s ease-in-out infinite}.sparkle.s1{top:10%;left:10%;font-size:14px;animation-delay:0s}.sparkle.s2{top:20%;right:15%;font-size:10px;animation-delay:.5s}.sparkle.s3{bottom:25%;left:15%;font-size:12px;animation-delay:1s}.sparkle.s4{bottom:15%;right:10%;font-size:16px;animation-delay:1.5s}@keyframes sparkleFloat{0%,100%{opacity:.4;transform:scale(1)}50%{opacity:.8;transform:scale(1.2)}}.polaroid-hint{font-size:12px;color:var(--text-muted);text-align:center}.highlight-card{background:linear-gradient(160deg,rgba(245,195,165,0.25),rgba(166,199,180,0.18))}.card-title{font-weight:600;font-size:15px;color:var(--text);font-family:"ZCOOL XiaoWei","Noto Serif SC",serif}[data-theme=dark] .card-title,[data-theme=dark] .ledger-title,[data-theme=dark] .detail-name{color:#f6f0ff}.divider{height:1px;background:var(--border);margin:6px 0}.info-row{display:flex;justify-content:space-between;gap:12px;font-size:13px;color:var(--text-muted)}.info-value{color:var(--text);font-weight:500}.empty-state,.empty-mini{padding:30px;text-align:center;color:var(--text-muted)}.empty-mini{padding:40px 12px}.polaroid-empty{display:flex;justify-content:center;padding:10px 0}.polaroid-frame{width:100%;max-width:300px;background:var(--surface);border-radius:18px;border:1px dashed rgba(176,150,120,.45);padding:16px 16px 20px;display:grid;gap:10px;box-shadow:0 14px 30px rgba(191,159,125,.18)}[data-theme=dark] .polaroid-frame{border:2px dashed rgba(212,175,55,.3);box-shadow:0 14px 30px rgba(0,0,0,.4)}.polaroid-photo{height:140px;border-radius:14px;border:1px dashed rgba(176,150,120,.45);background:linear-gradient(160deg,rgba(255,232,210,0.6),rgba(223,235,225,0.5));display:flex;align-items:center;justify-content:center}[data-theme=dark] .polaroid-photo{border:2px dashed rgba(212,175,55,.25);background:linear-gradient(160deg,rgba(44,44,46,0.8),rgba(28,28,30,0.9))}.polaroid-icon{width:40px;height:32px;border:2px solid rgba(120,96,72,.5);border-radius:6px;position:relative}[data-theme=dark] .polaroid-icon{border-color:rgba(212,175,55,.5)}[data-theme=dark] .polaroid-icon::before{content:"+";position:absolute;inset:0;display:flex;align-items:center;justify-content:center;font-size:18px;color:rgba(212,175,55,.6)}.polaroid-icon::after{content:"";position:absolute;width:10px;height:10px;border-radius:50%;background:rgba(120,96,72,.4);top:6px;left:6px}.polaroid-caption{font-size:12px;color:var(--text-muted);text-align:center}.highlight-name{font-size:20px;font-weight:700;color:var(--text)}.highlight-meta{font-size:13px;color:var(--text-muted)}.highlight-stats{display:grid;gap:8px;grid-template-columns:repeat(auto-fit,minmax(120px,1fr))}.progress-track{height:8px;border-radius:999px;background:rgba(120,96,72,.1);overflow:hidden}.progress-fill{height:100%;border-radius:inherit;background:linear-gradient(120deg,var(--primary),var(--accent))}.note{color:var(--text-muted);font-size:13px;line-height:1.6}.artists-page{display:block}.artists-viewport{width:100%;display:grid;grid-template-columns:minmax(0,0.9fr) minmax(0,1.1fr);gap:16px;overflow:hidden;height:520px}.artist-list{background:var(--surface);border-radius:18px;border:1px solid var(--border);display:flex;flex-direction:column;gap:12px;padding:16px;height:100%;overflow:hidden}.list-header{display:flex;justify-content:space-between;align-items:center}.list-title{font-size:16px;font-weight:600;color:var(--text)}[data-theme=dark] .list-title{color:#fff}.list-sub{font-size:12px;color:var(--text-muted)}[data-theme=dark] .list-sub{color:#9ca3af}.list-count{padding:6px 10px;border-radius:999px;background:var(--accent-soft);color:var(--text);font-size:12px;font-weight:600}.list-body{display:grid;gap:10px;overflow:auto;padding-right:4px;flex:1;min-height:0}.artist-card{border:1px solid var(--border);background:var(--surface);border-radius:16px;padding:10px 14px;display:flex;align-items:center;justify-content:space-between;gap:10px;cursor:pointer;text-align:left;transition:all .2s ease}.artist-card.active{border-color:var(--primary);box-shadow:0 12px 24px rgba(207,165,184,.2);background:rgba(207,165,184,.12)}.artist-name{font-weight:600;color:var(--text)}.artist-main{display:grid;gap:4px}.artist-sub{font-size:12px;color:var(--text-muted)}.artist-tags{display:flex;gap:6px;flex-wrap:wrap;justify-content:flex-end}.artist-chip{padding:4px 8px;border-radius:999px;background:var(--surface-strong);border:1px solid var(--border);font-size:12px;color:var(--text-muted)}.artist-chip.gender{background:rgba(207,165,184,.18);color:var(--primary-strong)}.artist-chip.gender[data-gender=女]{background:rgba(245,190,180,.24);color:#b06a72}.artist-detail-wrap{background:var(--surface);border-radius:18px;border:1px solid var(--border);padding:18px;height:100%;overflow:auto}.artist-detail{display:grid;gap:16px}.detail-header{display:flex;justify-content:space-between;align-items:flex-start;gap:12px}.detail-title{display:grid;gap:6px}.detail-name{font-size:20px;font-weight:700;color:var(--text)}.detail-sub{font-size:13px;color:var(--text-muted)}.detail-status{padding:6px 12px;border-radius:999px;font-size:12px;background:rgba(15,118,110,.15);color:var(--primary-strong)}.detail-status[data-status=合约到期]{background:rgba(239,68,68,.16);color:#b91c1c}.detail-status[data-status=培训中]{background:rgba(59,130,246,.16);color:#1d4ed8}.detail-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(140px,1fr));gap:10px}.detail-card{background:var(--surface-strong);border-radius:14px;padding:12px;border:1px solid var(--border);display:grid;gap:6px}.detail-label{font-size:12px;color:var(--text-muted)}.detail-value{font-weight:600;color:var(--text);font-size:14px}.detail-section{display:grid;gap:10px}.section-title{font-weight:600;color:var(--text)}.jung-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(120px,1fr));gap:8px}.jung-item{background:var(--surface-strong);border-radius:12px;padding:10px;border:1px solid var(--border);display:flex;justify-content:space-between;font-size:12px;color:var(--text-muted)}.jung-value{font-weight:600;color:var(--text)}.detail-row{display:flex;justify-content:space-between;gap:12px;font-size:13px;color:var(--text-muted)}.training{display:grid;gap:8px}.training-value{font-size:14px;font-weight:600;color:var(--text)}.training-bar{height:8px;border-radius:999px;background:rgba(15,23,42,.08);overflow:hidden}.training-fill{height:100%;background:linear-gradient(120deg,var(--primary),var(--accent))}.song-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(160px,1fr));gap:12px}.song-card{position:relative;padding:14px;border-radius:14px;border:1px solid var(--border);background:var(--surface-strong);display:grid;gap:6px;overflow:hidden;box-shadow:inset 0 0 0 1px hsla(0,0%,100%,.18)}.song-card.clickable{cursor:pointer;transition:transform .2s ease,box-shadow .2s ease}.song-card.clickable:hover{transform:translateY(-2px);box-shadow:0 12px 26px rgba(191,159,125,.22)}.song-card::before,.song-card::after{content:"";position:absolute;top:50%;width:16px;height:16px;border-radius:50%;background:var(--bg);border:1px solid var(--border);transform:translateY(-50%);opacity:.7}.song-card::before{left:-8px}.song-card::after{right:-8px}.song-hall{background:rgba(16,185,129,.18);border-color:rgba(16,185,129,.32)}.song-phenom{background:rgba(14,116,144,.18);border-color:rgba(14,116,144,.32)}.song-burst{background:rgba(245,158,11,.2);border-color:rgba(245,158,11,.35)}.song-hot{background:rgba(239,68,68,.18);border-color:rgba(239,68,68,.32)}.song-normal{background:rgba(100,116,139,.16);border-color:rgba(100,116,139,.3)}.song-card.total{background:var(--accent-soft)}.song-total-banner{position:relative;display:flex;align-items:center;justify-content:space-between;padding:12px 16px 12px 36px;border-radius:16px;border:1px solid var(--border);background:linear-gradient(120deg,rgba(245,158,11,0.22),rgba(16,185,129,0.14));margin-bottom:14px;overflow:hidden}.song-total-banner::before{content:"";position:absolute;right:-40px;top:50%;width:160px;height:160px;border-radius:50%;background:repeating-radial-gradient(circle,rgba(255,255,255,0.22) 0 2px,rgba(255,255,255,0) 2px 8px),radial-gradient(circle,rgba(255,255,255,0.25),rgba(255,255,255,0));transform:translateY(-50%);opacity:.5}.song-total-banner::after{content:"";position:absolute;left:12px;top:50%;width:10px;height:10px;border-radius:50%;background:var(--accent);box-shadow:0 0 0 6px hsla(0,0%,100%,.35);transform:translateY(-50%);opacity:.8}.song-total-title{font-size:13px;color:var(--text-muted);letter-spacing:.08em}.song-total-value{font-size:18px;font-weight:700;color:var(--text)}.archive-page{display:grid;gap:12px;width:100%}.archive-viewport{width:100%}.archive-card{width:100%;padding:14px}.connection-row{display:flex;align-items:center;justify-content:space-between;gap:12px;padding:8px 12px;border-radius:12px;border:1px dashed var(--border);background:hsla(0,0%,100%,.35);font-size:12px}[data-theme=dark] .connection-row{background:hsla(0,0%,100%,.04)}.connection-label{color:var(--text-muted)}.connection-pill{padding:4px 10px;border-radius:999px;font-size:12px;font-weight:600;color:var(--text);background:hsla(0,0%,100%,.6);border:1px solid var(--border)}.connection-pill.is-checking{color:#b45309;background:rgba(251,191,36,.2);border-color:rgba(251,191,36,.4)}.connection-pill.is-ok{color:#15803d;background:rgba(34,197,94,.18);border-color:rgba(34,197,94,.4)}.connection-pill.is-fail{color:#b91c1c;background:rgba(239,68,68,.15);border-color:rgba(239,68,68,.35)}.archive-card .result-grid{min-height:0}.debug-card{min-height:220px;max-height:300px;overflow:auto}.field{display:grid;gap:6px;font-size:13px;color:var(--text-muted)}.field input,.field select,.field textarea{width:100%;border-radius:12px;border:1px solid var(--border);padding:10px 12px;background:var(--surface-strong);color:var(--text);font-size:13px;font-family:inherit}.field select{max-width:100%}.model-picker-btn{display:flex;align-items:center;justify-content:space-between;gap:8px;width:100%}.model-picker-modal{max-width:560px}.model-picker-list{display:grid;gap:8px;max-height:320px;overflow:auto}.model-picker-item{text-align:left;border-radius:12px;border:1px solid var(--border);padding:10px 12px;background:var(--surface-strong);color:var(--text);font-size:13px;cursor:pointer}.model-picker-item:hover{border-color:var(--primary);box-shadow:0 10px 18px rgba(207,165,184,.2)}.model-picker-item.active{border-color:var(--primary);background:rgba(207,165,184,.18);font-weight:600}.field textarea{resize:vertical}.archive-card .result-content{max-height:140px}.helper{font-size:12px;color:var(--text-muted)}.action-row{display:flex;flex-wrap:wrap;gap:10px;align-items:center}.primary-btn{padding:10px 16px;border-radius:12px;border:none;background:linear-gradient(120deg,var(--primary),var(--accent));color:#fff;font-weight:600;cursor:pointer;transition:transform .2s ease,box-shadow .2s ease}.primary-btn:disabled{opacity:.6;cursor:not-allowed;box-shadow:none}.ghost-btn.wide{width:auto;padding:10px 16px}.notice-box{display:flex;align-items:flex-start;gap:10px;padding:12px 14px;border-radius:12px;background:rgba(245,158,11,.15);border:1px solid rgba(245,158,11,.3)}.notice-icon{flex-shrink:0;width:20px;height:20px;border-radius:50%;background:#f59e0b;color:#fff;font-size:12px;font-weight:700;display:flex;align-items:center;justify-content:center}.notice-text{font-size:13px;line-height:1.5;color:var(--text)}.notice-text code{padding:2px 6px;border-radius:4px;background:rgba(245,158,11,.2);font-family:monospace;font-size:12px}.result-grid{display:grid;gap:12px;grid-template-columns:repeat(auto-fit,minmax(220px,1fr))}.result-card{background:var(--surface-strong);border-radius:14px;border:1px solid var(--border);padding:12px;display:grid;gap:8px;min-height:0}.result-title{font-weight:600;font-size:13px;color:var(--text)}.result-body{white-space:pre-wrap;word-break:break-word;font-size:12px;color:var(--text-muted);max-height:280px;overflow:auto}.result-content{margin-top:8px;font-size:12px;line-height:1.6;color:var(--text);max-height:240px;overflow:auto}.edit-grid{display:grid;gap:10px}.error-text{color:#dc2626;font-size:12px}.success-text{color:#16a34a;font-size:12px}.row-between{display:flex;justify-content:space-between;align-items:center;gap:12px}.modal-mask{position:fixed;inset:0;background:rgba(15,23,42,.5);display:flex;align-items:center;justify-content:center;padding:16px;z-index:50}[data-theme=dark] .modal-mask{background:rgba(0,0,0,.75)}.modal-card{width:100%;max-width:520px;background:var(--surface);border-radius:18px;border:1px solid var(--border);box-shadow:var(--shadow);padding:18px;display:flex;flex-direction:column;gap:12px;max-height:80%;overflow:hidden}[data-theme=dark] .modal-card{box-shadow:0 30px 60px rgba(0,0,0,.6),0 0 20px rgba(212,175,55,.08)}.result-modal{max-width:760px;max-height:80%;overflow:hidden}.modal-actions{display:flex;gap:8px}.modal-body{display:grid;gap:12px;min-height:0;overflow:auto;padding-right:2px}.loading-card{max-width:360px;text-align:center;animation:popIn .2s ease}.stop-btn{justify-self:center}.modal-mask{animation:fadeIn .2s ease}.loading-spinner{width:36px;height:36px;border-radius:50%;border:3px solid rgba(15,23,42,.15);border-top-color:var(--primary);margin:6px auto 0;animation:spin .8s linear infinite}@keyframes spin{to{transform:rotate(360deg)}}@keyframes popIn{from{transform:scale(0.96);opacity:.6}to{transform:scale(1);opacity:1}}@keyframes fadeIn{from{opacity:.2}to{opacity:1}}.song-list{margin-top:14px;padding:12px;border-radius:16px;border:1px dashed var(--border);background:hsla(0,0%,100%,.35);display:grid;gap:10px}[data-theme=dark] .song-list{background:hsla(0,0%,100%,.04)}.song-list-title{font-size:13px;font-weight:600;color:var(--text)}.song-list-body{max-height:220px;overflow:auto}.song-tags{display:grid;gap:8px}.song-tag{display:flex;align-items:center;justify-content:space-between;gap:12px;padding:8px 10px;border-radius:12px;border:1px solid var(--border);background:var(--surface-strong)}.song-tag-main{display:grid;gap:2px}.song-tag-name{font-size:13px;color:var(--text);font-weight:500}.song-tag-artist{font-size:12px;color:var(--text-muted)}.song-tag-level{font-size:12px;padding:4px 10px;border-radius:999px;font-weight:600;color:var(--text);background:hsla(0,0%,100%,.45);border:1px solid var(--border)}.song-tag-level.level-普通{background:rgba(100,116,139,.16)}.song-tag-level.level-热门{background:rgba(239,68,68,.18)}.song-tag-level.level-爆款{background:rgba(245,158,11,.2)}.song-tag-level.level-现象级{background:rgba(14,116,144,.18)}.song-tag-level.level-殿堂级{background:rgba(16,185,129,.18)}.song-modal{max-width:640px}.song-modal-list{max-height:320px;overflow:auto}.song-label{display:inline-flex;align-items:center;gap:6px;font-size:12px;font-weight:600;color:var(--text-muted);padding:4px 10px;border-radius:999px;background:hsla(0,0%,100%,.35);width:-moz-fit-content;width:fit-content}.song-label::before{content:"";width:6px;height:6px;border-radius:50%;background:var(--accent)}.song-value{font-size:16px;font-weight:600;color:var(--text)}[data-theme=dark] .song-label{background:hsla(0,0%,100%,.08)}.tab-swap-enter-active,.tab-swap-leave-active{transition:all .25s cubic-bezier(0.4,0,0.2,1)}.tab-swap-enter-from,.tab-swap-leave-to{opacity:0;transform:translateY(8px)}@media (max-width:900px){.status-header{grid-template-columns:1fr}.header-stats{grid-template-columns:repeat(5,minmax(0,1fr));gap:6px}.panel-body{padding:16px}.overview-layout,.artists-viewport,.polaroid-stage,.ledger-card,.polaroid-card{width:100%;max-width:100%}.polaroid-stage{padding:16px}.top3-grid{grid-template-columns:repeat(2,minmax(0,1fr))}.panel-card.wide{grid-column:auto}.overview-layout{grid-template-columns:1fr}.stat-chip{padding:8px 6px;grid-template-rows:auto auto 1fr;align-items:center;overflow:hidden}.stat-label{font-size:10px;justify-content:center}.stat-value{font-size:12px;text-align:center;width:100%;overflow:visible}.stat-chip .value-badge{width:100%;align-items:center;overflow:visible}.stat-chip .value-main{text-align:center;width:100%;font-size:12px;word-break:break-all;white-space:normal}.stat-chip .value-delta{font-size:10px;padding:1px 3px}.artists-viewport{height:auto;min-height:620px;grid-template-columns:1fr;overflow:visible}.artist-list{max-height:none;height:auto}.artist-detail-wrap{max-height:none;height:auto;overflow:visible}}@media (prefers-reduced-motion:reduce){*{transition-duration:.01ms !important;animation-duration:.01ms !important}}

/*# sourceMappingURL=main.css.map*/</style></head><body><div id="app"></div></body>
