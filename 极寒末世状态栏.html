<head><script type="module">import{waitUntil as e}from'https://testingcf.jsdelivr.net/npm/async-wait-until/+esm';import{createPinia as t,defineStore as a}from'https://testingcf.jsdelivr.net/npm/pinia/+esm';import{klona as n}from'https://testingcf.jsdelivr.net/npm/klona/+esm';import{default as l}from'https://testingcf.jsdelivr.net/npm/gsap/+esm';var r={502(e,t){t.A=(e,t)=>{const a=e.__vccOpts||e;for(const[e,n]of t)a[e]=n;return a}}},o={};const c=Vue,s=z,i=s.z.enum(['æš´é£é›ª','å¤§é›ª','å°é›ª','é˜´å¤©','å¤šäº‘','æ™´æœ—']),d=s.z.enum(['æ— é£','å¾®é£','å¼ºé£','æš´é£']),u=s.z.enum(['è‰¯å¥½','ä¸€èˆ¬','è¾ƒå·®','æå·®']),p=s.z.enum(['ç»å¢ƒæ—¥','æå¯’æ—¥','ä¸¥å¯’æ—¥','å¯’å†·æ—¥','æ¸©å’Œæ—¥','å›æš–æ—¥']),m=s.z.object({å½“å‰æ—¶é—´:s.z.string().prefault('æœ«ä¸–çºª3å¹´-01/15-08:00'),å½“å‰æ¸©åº¦:s.z.coerce.number().transform(e=>_.clamp(e,-80,0)).prefault(-35),ä½“æ„Ÿæ¸©åº¦:s.z.coerce.number().transform(e=>_.clamp(e,-100,10)).prefault(-42),å¤©æ°”çŠ¶æ€:i.prefault('å°é›ª'),é£é€Ÿç­‰çº§:d.prefault('å¾®é£'),èƒ½è§åº¦:u.prefault('ä¸€èˆ¬'),è¾å°„ç­‰çº§:s.z.coerce.number().transform(e=>_.clamp(e,0,10)).prefault(0),æ—¥å‡ºæ—¶é—´:s.z.string().prefault('09:30'),æ—¥è½æ—¶é—´:s.z.string().prefault('16:00'),å½“å‰æ¸©åº¦é˜¶æ®µ:p.prefault('å¯’å†·æ—¥'),æ˜¯å¦å¤œé—´:s.z.boolean().prefault(!1)}).prefault({}),v=s.z.enum(['è¿è¡Œ','åœæœº','è¿‡è½½','æŸå']),f=s.z.enum(['èŠ‚èƒ½','æ­£å¸¸','è¿‡è½½']),y=s.z.object({å‘ç”µæœºç­‰çº§:s.z.coerce.number().transform(e=>_.clamp(e,1,5)).prefault(1),æ¸©åº¦ç­‰çº§:s.z.coerce.number().transform(e=>_.clamp(e,1,5)).prefault(1),å‘ç”µæœºçŠ¶æ€:v.prefault('è¿è¡Œ'),ä¾›æš–æ¨¡å¼:f.prefault('æ­£å¸¸'),ç‡ƒæ–™æ¶ˆè€—ç‡:s.z.coerce.number().transform(e=>Math.max(0,e)).prefault(1)}).prefault({}),h=s.z.object({é£Ÿç‰©:s.z.coerce.number().transform(e=>Math.max(0,e)).prefault(100),ç‡ƒæ–™:s.z.coerce.number().transform(e=>Math.max(0,e)).prefault(80),è¯å“:s.z.coerce.number().transform(e=>Math.max(0,e)).prefault(30),ææ–™:s.z.coerce.number().transform(e=>Math.max(0,e)).prefault(50),æ­¦å™¨é…ä»¶:s.z.coerce.number().transform(e=>Math.max(0,e)).prefault(10),å‡€æ°´:s.z.coerce.number().transform(e=>Math.max(0,e)).prefault(60),ç§‘æŠ€ç‚¹:s.z.coerce.number().transform(e=>Math.max(0,e)).prefault(5)}).prefault({}),k=s.z.object({é£Ÿç‰©:s.z.coerce.number().transform(e=>_.clamp(e,0,1e3)).prefault(200),ç‡ƒæ–™:s.z.coerce.number().transform(e=>_.clamp(e,0,1e3)).prefault(200),è¯å“:s.z.coerce.number().transform(e=>_.clamp(e,0,1e3)).prefault(200),ææ–™:s.z.coerce.number().transform(e=>_.clamp(e,0,1e3)).prefault(200),æ­¦å™¨é…ä»¶:s.z.coerce.number().transform(e=>_.clamp(e,0,1e3)).prefault(200),å‡€æ°´:s.z.coerce.number().transform(e=>_.clamp(e,0,1e3)).prefault(200),ç§‘æŠ€ç‚¹:s.z.coerce.number().transform(e=>_.clamp(e,0,1e3)).prefault(200)}).prefault({}),g=s.z.enum(['æœªè§£é”','å»ºé€ ä¸­','è¿è¡Œä¸­','åœæœº','æŸå']),b=s.z.preprocess(e=>{if(null==e)return'N';return String(e).trim().toUpperCase()},s.z.enum(['N','R','SR','SSR','UR'])),E=s.z.object({ç­‰çº§:s.z.coerce.number().transform(e=>_.clamp(e,0,5)).prefault(0),çŠ¶æ€:g.prefault('æœªè§£é”'),æ•ˆç‡:s.z.coerce.number().transform(e=>_.clamp(e,0,150)).prefault(100),è€ä¹…:s.z.coerce.number().transform(e=>_.clamp(e,0,100)).prefault(100),è´Ÿè´£äºº:s.z.string().prefault('')}).prefault({}),V=s.z.object({å‘ç”µæœº:E.prefault({ç­‰çº§:1,çŠ¶æ€:'è¿è¡Œä¸­',æ•ˆç‡:100,è€ä¹…:100,è´Ÿè´£äºº:''}),å®¿èˆ:E.prefault({ç­‰çº§:1,çŠ¶æ€:'è¿è¡Œä¸­',æ•ˆç‡:100,è€ä¹…:100,è´Ÿè´£äºº:''}),ä»“åº“:E.prefault({ç­‰çº§:1,çŠ¶æ€:'è¿è¡Œä¸­',æ•ˆç‡:100,è€ä¹…:100,è´Ÿè´£äºº:''}),å¨æˆ¿:E,æ¸©å®¤:E,å‡€æ°´ç«™:E,ç‡ƒæ–™ç²¾ç‚¼å‚:E,ææ–™å›æ”¶ç«™:E,åŒ»ç–—å®¤:E,ç ”ç©¶å®¤:E,ç­æœ›å¡”:E,å›´å¢™:E,é™·é˜±åŒº:E,æ­¦å™¨åº“:E,ç§‘ç ”å·¥åŠ:E}).prefault({}),N=s.z.object({å·²è§£é”:s.z.boolean().prefault(!1),ç ”ç©¶è¿›åº¦:s.z.coerce.number().transform(e=>_.clamp(e,0,100)).prefault(0)}).prefault({}),w=s.z.object({ç”Ÿå­˜ç§‘æŠ€:s.z.object({åŸºç¡€ä¾›æš–:N,éš”çƒ­æ”¹é€ :N,çƒ­èƒ½å›æ”¶:N,åœ°çƒ­åˆ©ç”¨:N,æ ¸å¿ƒç†”ç‚‰:N}).prefault({}),å†œä¸šç§‘æŠ€:s.z.object({ç®€æ˜“ç§æ¤:N,æ°´åŸ¹æŠ€æœ¯:N,äººå·¥å…‰ç…§:N,åŸºå› æ”¹è‰¯:N,è‡ªåŠ¨çŒæº‰:N}).prefault({}),åŒ»ç–—ç§‘æŠ€:s.z.object({æ€¥æ•‘çŸ¥è¯†:N,è‰è¯å­¦:N,æ¶ˆæ¯’æŠ€æœ¯:N,å¤–ç§‘æ‰‹æœ¯:N,æŠ—æ„ŸæŸ“è¡€æ¸…:N,ä¹‰è‚¢æŠ€æœ¯:N}).prefault({}),å·¥ç¨‹ç§‘æŠ€:s.z.object({åŸºç¡€ç»´ä¿®:N,å¼ºåŒ–ææ–™:N,ç”µåŠ›ç³»ç»Ÿ:N,è‡ªåŠ¨åŒ–:N,æ¨¡å—æ‰©å±•:N}).prefault({}),æ­¦å™¨ç§‘æŠ€:s.z.object({ç®€æ˜“æ­¦å™¨:N,é”»é€ æŠ€æœ¯:N,å¼©å¼“åˆ¶ä½œ:N,æŠ¤ç”²é”»é€ :N,ç«è¯é…æ–¹:N,é™·é˜±å·¥è‰º:N}).prefault({}),æ¢ç´¢ç§‘æŠ€:s.z.object({åœ°å›¾ç»˜åˆ¶:N,é‡å¤–ç”Ÿå­˜:N,ä¿¡å·è¿½è¸ª:N,è½¦è¾†æ”¹è£…:N,é›ªåœ°è½½å…·:N}).prefault({})}).prefault({}),x=s.z.enum(['ç”·','å¥³']),S=s.z.enum(['ç©ºé—²','å·¥ä½œ','æ¢ç´¢','ä¼‘æ¯','æ²»ç–—','è®­ç»ƒ']),C=s.z.object({ä½“æ¸©:s.z.coerce.number().transform(e=>_.clamp(e,30,42)).prefault(36.5),é¥¥é¥¿åº¦:s.z.coerce.number().transform(e=>_.clamp(e,0,100)).prefault(20),ç–²åŠ³åº¦:s.z.coerce.number().transform(e=>_.clamp(e,0,100)).prefault(20),å¥åº·å€¼:s.z.coerce.number().transform(e=>_.clamp(e,0,100)).prefault(100)}).prefault({}),B=s.z.object({åŠ›é‡:s.z.coerce.number().transform(e=>_.clamp(e,1,100)).prefault(50),æ•æ·:s.z.coerce.number().transform(e=>_.clamp(e,1,100)).prefault(50),æ™ºåŠ›:s.z.coerce.number().transform(e=>_.clamp(e,1,100)).prefault(50),é­…åŠ›:s.z.coerce.number().transform(e=>_.clamp(e,1,100)).prefault(50),æ„å¿—:s.z.coerce.number().transform(e=>_.clamp(e,1,100)).prefault(50)}).prefault({}),M=s.z.object({åŒ»ç–—:s.z.coerce.number().transform(e=>_.clamp(e,0,100)).prefault(0),å·¥ç¨‹:s.z.coerce.number().transform(e=>_.clamp(e,0,100)).prefault(0),æˆ˜æ–—:s.z.coerce.number().transform(e=>_.clamp(e,0,100)).prefault(0),é‡‡é›†:s.z.coerce.number().transform(e=>_.clamp(e,0,100)).prefault(0),çƒ¹é¥ª:s.z.coerce.number().transform(e=>_.clamp(e,0,100)).prefault(0),é¢†å¯¼:s.z.coerce.number().transform(e=>_.clamp(e,0,100)).prefault(0)}).prefault({}),q=s.z.object({å¥½æ„Ÿåº¦:s.z.coerce.number().transform(e=>_.clamp(e,-100,100)).prefault(0)}).prefault({}),L=s.z.object({å§“å:s.z.string().prefault('æœªçŸ¥'),å¹´é¾„:s.z.coerce.number().transform(e=>_.clamp(e,18,80)).prefault(25),æ€§åˆ«:x.prefault('ç”·'),å¤–è²Œæè¿°:s.z.string().prefault(''),èƒŒæ™¯æ•…äº‹:s.z.string().prefault(''),æ¥æº:s.z.string().prefault('æœªçŸ¥'),ç¨€æœ‰åº¦:b.prefault('N'),ç”Ÿå­˜çŠ¶æ€:C,èƒ½åŠ›å€¼:B,æŠ€èƒ½:M,å¿ è¯šåº¦:s.z.coerce.number().transform(e=>_.clamp(e,0,100)).prefault(90),å½“å‰ä»»åŠ¡:S.prefault('ç©ºé—²'),å½“å‰ä½ç½®:s.z.string().prefault('å®¿èˆåŒº'),ç‰¹æ®Šæ ‡ç­¾:s.z.array(s.z.string()).prefault([])}),D=L.prefault({}),T=L.extend({æ€§åˆ«:s.z.literal('å¥³').prefault('å¥³'),å…³ç³»æ•°æ®:q,NSFWæ ‡ç­¾:s.z.array(s.z.string()).prefault([]),æ”»ç•¥è¿›åº¦:s.z.coerce.number().transform(e=>_.clamp(e,0,100)).prefault(0)}).prefault({}),j=s.z.enum(['åºŸå¢Ÿ','è¶…å¸‚','å±…æ°‘åŒº','å·¥å‚','åœ°é“ç«™','åŒ»é™¢','å­¦æ ¡','å†›äº‹åŸºåœ°','ç ”ç©¶æ‰€']),A=s.z.enum(['æœªè§£é”','å·²è§£é”','æ¢ç´¢ä¸­','å·²æ¸…ç†']),P=s.z.object({åç§°:s.z.string().prefault('æœªçŸ¥åŒºåŸŸ'),ç±»å‹:j.prefault('åºŸå¢Ÿ'),çŠ¶æ€:A.prefault('æœªè§£é”'),å±é™©ç­‰çº§:s.z.coerce.number().transform(e=>_.clamp(e,1,5)).prefault(1),æ¢ç´¢è¿›åº¦:s.z.coerce.number().transform(e=>_.clamp(e,0,100)).prefault(0),å‰ç½®åŒºåŸŸ:s.z.array(s.z.string()).prefault([])}).prefault({}),O=s.z.object({è¿ç»­ç­¾åˆ°å¤©æ•°:s.z.coerce.number().transform(e=>Math.max(0,e)).prefault(0),ç´¯è®¡ç­¾åˆ°å¤©æ•°:s.z.coerce.number().transform(e=>Math.max(0,e)).prefault(0),ä»Šæ—¥å·²ç­¾åˆ°:s.z.boolean().prefault(!1),ä¸Šæ¬¡ç­¾åˆ°æ—¶é—´:s.z.string().prefault('')}).prefault({}),R=s.z.enum(['æ— ','ä½','ä¸­','é«˜','ç´§æ€¥']),I=s.z.object({å½“å‰äº‹ä»¶:s.z.string().prefault(''),å±æœºè­¦æŠ¥:s.z.string().prefault(''),å±æœºç­‰çº§:R.prefault('æ— ')}).prefault({}),F=s.z.object({ä¸Šæ¬¡ç»“ç®—æ—¶é—´:s.z.string().prefault(''),ç´¯è®¡ç»“ç®—æ¬¡æ•°:s.z.coerce.number().transform(e=>Math.max(0,e)).prefault(0)}).prefault({}),U=s.z.object({æˆå‘˜:s.z.array(s.z.string()).prefault([]),ç›®æ ‡åŒºåŸŸ:s.z.string().prefault(''),å‡ºå‘æ—¶é—´:s.z.string().prefault(''),é¢„è®¡è¿”å›:s.z.string().prefault('')}).prefault({}),H=s.z.object({å·²è§£é”åŒºåŸŸ:s.z.record(s.z.string(),P).prefault({}),å½“å‰æ¢ç´¢åŒºåŸŸ:s.z.string().prefault(''),æ¢ç´¢é˜Ÿä¼:U}).prefault({}),X=s.z.object({åç§°:s.z.string().prefault('å†°åŸé¿éš¾æ‰€'),ä½ç½®:s.z.string().prefault('åœ°ä¸‹ä¸‰å±‚'),æ¸©åº¦ç³»ç»Ÿ:y,è®¾æ–½:V,æ¨¡å—:s.z.object({æ­¦å™¨åˆ¶é€ å°:s.z.object({å·²ç ”å‘ç­‰çº§:s.z.coerce.number().transform(e=>_.clamp(e,0,10)).prefault(0)}).prefault({})}).prefault({}),èµ„æº:h,èµ„æºä¸Šé™:k,äººå£ç»Ÿè®¡:s.z.object({æ€»äººå£:s.z.coerce.number().transform(e=>_.clamp(e,0,10)).prefault(0),ç”·æ€§äººæ•°:s.z.coerce.number().transform(e=>_.clamp(e,0,10)).prefault(0),å¥³æ€§äººæ•°:s.z.coerce.number().transform(e=>_.clamp(e,0,10)).prefault(0),ä¼¤ç—…äººæ•°:s.z.coerce.number().transform(e=>_.clamp(e,0,10)).prefault(0)}).prefault({})}).prefault({}),Y=s.z.object({ç¯å¢ƒ:m,é¿éš¾æ‰€:X,ç­¾åˆ°ç³»ç»Ÿ:O,ç§‘æŠ€æ ‘:w,åœ°å›¾:H,ç”·æ€§å¹¸å­˜è€…:s.z.record(s.z.string(),D).prefault({}),å¥³æ€§å¹¸å­˜è€…:s.z.record(s.z.string(),T).prefault({}),äº‹ä»¶:I,ç»“ç®—è®°å½•:F}).prefault({});function W(e){return!!(0,c.getCurrentScope)()&&((0,c.onScopeDispose)(e),!0)}const G='undefined'!=typeof window&&'undefined'!=typeof document,K=('undefined'!=typeof WorkerGlobalScope&&(globalThis,WorkerGlobalScope),Object.prototype.toString,()=>{});function Z(e,t){return function(...a){return new Promise((n,l)=>{Promise.resolve(e(()=>t.apply(this,a),{fn:t,thisArg:this,args:a})).then(n).catch(l)})}}const J=e=>e();function Q(e,t={}){let a,n,l=K;const r=e=>{clearTimeout(e),l(),l=K};let o;return s=>{const i=(0,c.toValue)(e),d=(0,c.toValue)(t.maxWait);return a&&r(a),i<=0||void 0!==d&&d<=0?(n&&(r(n),n=void 0),Promise.resolve(s())):new Promise((e,c)=>{l=t.rejectOnCancel?c:e,o=s,d&&!n&&(n=setTimeout(()=>{a&&r(a),n=void 0,e(o())},d)),a=setTimeout(()=>{n&&r(n),n=void 0,e(s())},i)})}}function ee(e){const t=Object.create(null);return a=>t[a]||(t[a]=e(a))}const te=/\B([A-Z])/g,ae=(ee(e=>e.replace(te,'-$1').toLowerCase()),/-(\w)/g);ee(e=>e.replace(ae,(_,e)=>e?e.toUpperCase():''));function ne(e,t,a={}){const{eventFilter:n=J,...l}=a;return(0,c.watch)(e,Z(n,t),l)}function le(e,t=1e3,a={}){const{immediate:n=!0,immediateCallback:l=!1}=a;let r=null;const o=(0,c.shallowRef)(!1);function s(){r&&(clearInterval(r),r=null)}function i(){o.value=!1,s()}function d(){const a=(0,c.toValue)(t);a<=0||(o.value=!0,l&&e(),s(),o.value&&(r=setInterval(e,a)))}if(n&&G&&d(),(0,c.isRef)(t)||'function'==typeof t){W((0,c.watch)(t,()=>{o.value&&G&&d()}))}return W(i),{isActive:(0,c.shallowReadonly)(o),pause:i,resume:d}}function re(e,t,a,n){if(!_.isEqual(e,t)){if(_.isPlainObject(e)&&_.isPlainObject(t)){return void new Set([...Object.keys(e),...Object.keys(t)]).forEach(l=>{re(e[l],t[l],[...a,l],n)})}Array.isArray(e)&&Array.isArray(t),n.push({path:a,value:t})}}const oe=a('data',errorCatched(()=>{const e=getCurrentMessageId(),t=_.get(getVariables({type:'message',message_id:e}),'stat_data',{}),a=(0,c.ref)(Y.parse(t)),l=(0,c.ref)(n(a.value)),r=e>0?e-1:null,o=null!==r?_.get(getVariables({type:'message',message_id:r}),'stat_data',{}):{},s=(0,c.ref)(Y.parse(o));return function(e,t,a={}){const{debounce:n=0,maxWait:l,...r}=a;ne(e,t,{...r,eventFilter:Q(n,{maxWait:l})})}(a,t=>{const r=Y.parse(t);_.isEqual(r,t)||(a.value=r);const o=[];re(l.value,r,[],o),o.length&&updateVariablesWith(e=>{const t=Y.parse(_.get(e,'stat_data',{})),r=n(t);return function(e,t){t.forEach(({path:t,value:a})=>{_.set(e,t,a)})}(r,o),_.set(e,'stat_data',r),l.value=n(r),_.isEqual(r,a.value)||(a.value=r),e},{type:'message',message_id:e})},{deep:!0,debounce:500}),le(()=>{if(!_.isEqual(n(a.value),n(l.value)))return;const t=_.get(getVariables({type:'message',message_id:e}),'stat_data',{}),r=Y.safeParse(t);r.error||_.isEqual(n(a.value),r.data)||(a.value=r.data,l.value=n(r.data))},1500),{data:a,prevData:s}})),ce={class:'value'},se={key:0,class:'delta'},ie={class:'delta-num'},de=(0,c.defineComponent)({__name:'ValueBadge',props:{value:{},prevValue:{},format:{default:'number'},showDelta:{type:Boolean,default:!0}},setup(e){const t=e;function a(e){const t='number'==typeof e?e:Number(e);return Number.isFinite(t)?t:null}const n=(0,c.computed)(()=>a(t.value)),l=(0,c.computed)(()=>a(t.prevValue)),r=(0,c.computed)(()=>null===n.value||void 0!==t.prevValue&&null===l.value),o=(0,c.computed)(()=>r.value||void 0===t.prevValue?0:(n.value??0)-(l.value??0)),s=(0,c.computed)(()=>r.value?'abnormal':o.value>0?'up':o.value<0?'down':'zero'),i=(0,c.ref)(!1);let d=null;function u(e,a=!1){const n=a&&e>=0?'+':'';return'percent'===t.format?`${n}${e}%`:'temp'===t.format?`${n}${e}Â°C`:`${n}${e}`}(0,c.watch)(()=>t.value,(e,t)=>{e!==t&&(i.value=!0,d&&clearTimeout(d),d=setTimeout(()=>{i.value=!1},500))});const p=(0,c.computed)(()=>null===n.value?'--':u(n.value)),m=(0,c.computed)(()=>t.showDelta?r.value?'!':u(o.value,!0):'');return(0,c.onUnmounted)(()=>{d&&clearTimeout(d)}),(t,a)=>((0,c.openBlock)(),(0,c.createElementBlock)('span',{class:(0,c.normalizeClass)(['value-badge',[(0,c.unref)(s),{changed:(0,c.unref)(i)}]])},[a[1]||(a[1]=(0,c.createElementVNode)('span',{class:'highlight-bg'},null,-1)),(0,c.createElementVNode)('span',ce,(0,c.toDisplayString)((0,c.unref)(p)),1),e.showDelta?((0,c.openBlock)(),(0,c.createElementBlock)('span',se,[a[0]||(a[0]=(0,c.createElementVNode)('span',{class:'delta-arrow'},null,-1)),(0,c.createElementVNode)('span',ie,(0,c.toDisplayString)((0,c.unref)(m)),1)])):(0,c.createCommentVNode)('v-if',!0)],2))}});var ue=function e(t){var a=o[t];if(void 0!==a)return a.exports;var n=o[t]={exports:{}};return r[t](n,n.exports,e),n.exports}(502);const pe=(0,ue.A)(de,[['__scopeId','data-v-2afba9ec']]),me={class:'modal-header'},ve={class:'modal-title'},fe={class:'modal-body'},ye=(0,c.defineComponent)({__name:'Modal',props:{visible:{type:Boolean},title:{},blockClose:{type:Boolean}},emits:['close','requestClose'],setup(e,{emit:t}){const a=e,n=t,r=(0,c.ref)(),o=(0,c.ref)();function s(){a.blockClose?n('requestClose'):o.value?l.to(o.value,{opacity:0,scale:.95,y:10,duration:.2,ease:'power2.in',onComplete:()=>n('close')}):n('close')}return(0,c.watch)(()=>a.visible,e=>{e&&o.value&&l.fromTo(o.value,{opacity:0,scale:.9,y:20},{opacity:1,scale:1,y:0,duration:.35,ease:'back.out(1.2)'})}),(t,a)=>((0,c.openBlock)(),(0,c.createBlock)(c.Teleport,{to:'body'},[(0,c.createVNode)(c.Transition,{name:'modal-fade'},{default:(0,c.withCtx)(()=>[e.visible?((0,c.openBlock)(),(0,c.createElementBlock)('div',{key:0,ref_key:'modalRef',ref:r,class:'modal-overlay',onClick:(0,c.withModifiers)(s,['self'])},[(0,c.createElementVNode)('div',{ref_key:'contentRef',ref:o,class:'modal-content pixel-frame'},[(0,c.createElementVNode)('div',me,[(0,c.createElementVNode)('span',ve,(0,c.toDisplayString)(e.title),1),(0,c.createElementVNode)('button',{class:'modal-close',onClick:s},'âœ•')]),(0,c.createElementVNode)('div',fe,[(0,c.renderSlot)(t.$slots,'default')])],512)],512)):(0,c.createCommentVNode)('v-if',!0)]),_:3})]))}});function he(e){const t=(0,c.ref)(!1);let a=null,n=null,r=null;function o(){const l=e.containerEl.value;n&&(n.kill(),n=null),a&&(a.kill(),a=null),l&&(l.style.display='none',l.innerHTML=''),t.value=!1,r&&(r(),r=null)}function s(){t.value&&o()}return(0,c.onUnmounted)(o),{play:async function(){if(t.value)return;t.value=!0,await(0,c.nextTick)();const i=e.containerEl.value;if(!i)return void(t.value=!1);i.innerHTML=`\n      <div class="modifier-scene">\n        <div class="modifier-bg">\n          <div class="bg-gradient"></div>\n          <div class="bg-grid"></div>\n        </div>\n        <div class="flash-layer"></div>\n        <div class="scanline"></div>\n        <div class="particle-layer">${Array.from({length:60},(_,e)=>{const t=2+4*Math.random(),a=180+60*Math.random();return`<div class="modifier-particle" data-idx="${e}" style="\n        width:${t}px;height:${t}px;\n        background:hsla(${a},75%,60%,0.75);\n        box-shadow:0 0 ${2*t}px hsla(${a},75%,60%,0.5);\n      "></div>`}).join('')}</div>\n        <div class="star-layer">${Array.from({length:16},(_,e)=>`<div class="modifier-star" data-idx="${e}" style="font-size:${10+14*Math.random()}px;">âœ¦</div>`).join('')}</div>\n        <div class="burst-layer">${Array.from({length:14},(_,e)=>`<div class="burst-line" data-idx="${e}" style="--rot:${Math.floor(360/14*e+10*Math.random())}deg; --len:${140+120*Math.random()}px;"></div>`).join('')}</div>\n        <div class="shockwave"></div>\n        <div class="energy-ring ring-outer"></div>\n        <div class="energy-ring ring-middle"></div>\n        <div class="energy-ring ring-inner"></div>\n        <div class="center-core">\n          <div class="core-burst"></div>\n          <div class="core-glow"></div>\n          <div class="core-icon">âš™</div>\n        </div>\n        <div class="scene-ui">\n          <div class="scene-title">èµ„æºè°ƒæ•´</div>\n          <div class="scene-status">èƒ½é‡æ ¡å‡†ä¸­<span class="dots"></span></div>\n        </div>\n        <div class="scene-skip">ç‚¹å‡»è·³è¿‡</div>\n      </div>\n    `,i.style.display='block';const d=i.querySelector('.modifier-scene');return d.addEventListener('click',s),new Promise(e=>{r=e,a=l.context(()=>{const e=i.querySelectorAll('.modifier-particle'),t=i.querySelectorAll('.modifier-star'),a=i.querySelectorAll('.burst-line'),r=i.querySelector('.flash-layer'),c=i.querySelector('.scanline'),s=i.querySelector('.shockwave'),u=i.querySelector('.bg-gradient'),p=i.querySelector('.ring-outer'),m=i.querySelector('.ring-middle'),v=i.querySelector('.ring-inner'),f=i.querySelector('.center-core'),y=i.querySelector('.core-burst'),h=i.querySelector('.core-glow'),k=i.querySelector('.core-icon'),g=i.querySelector('.scene-ui'),b=i.querySelector('.dots'),E=i.querySelector('.scene-skip');n=l.timeline({onComplete:()=>o()}),n.fromTo(d,{opacity:0},{opacity:1,duration:.3}),n.fromTo(r,{opacity:0},{opacity:.9,duration:.15},.08),n.to(r,{opacity:0,duration:.35},.25),u&&n.fromTo(u,{opacity:.2},{opacity:.6,duration:.35,yoyo:!0,repeat:1},.6),n.to(g,{opacity:1,duration:.4},.3),n.to(E,{opacity:.5,duration:.3},.5),e.forEach((e,t)=>{const a=Math.random()*Math.PI*2,r=120+80*Math.random();l.set(e,{position:'absolute',left:'50%',top:'50%',x:Math.cos(a)*r,y:Math.sin(a)*r,opacity:0}),n.to(e,{x:0,y:0,opacity:1,duration:.7,ease:'power2.in'},.3+.015*t)}),t.forEach((e,t)=>{const a=Math.random()*Math.PI*2,r=70+100*Math.random(),o=Math.cos(a)*r,c=Math.sin(a)*r;l.set(e,{position:'absolute',left:'50%',top:'50%',x:o,y:c,opacity:0,scale:0}),n.to(e,{opacity:1,scale:1,duration:.45,ease:'back.out(2)'},1+.08*t);const s=12+18*Math.random(),i=Math.random()*Math.PI*2;l.to(e,{x:o+Math.cos(i)*s,y:c+Math.sin(i)*s,duration:1.3+.8*Math.random(),repeat:-1,yoyo:!0,ease:'sine.inOut',delay:1+.08*t}),l.to(e,{rotation:360,duration:2.5+1.5*Math.random(),repeat:-1,ease:'none',delay:1+.08*t}),l.to(e,{scale:.75+.5*Math.random(),duration:.7+.4*Math.random(),repeat:-1,yoyo:!0,ease:'sine.inOut',delay:1.2+.08*t})}),a.forEach((e,t)=>{l.set(e,{scaleX:0,opacity:0}),n.to(e,{scaleX:1,opacity:.9,duration:.25,ease:'power3.out'},.85+.02*t),n.to(e,{opacity:0,duration:.3},1.15+.02*t)}),n.to(f,{opacity:1,scale:1,duration:.3},.7),n.fromTo(y,{scale:.5,opacity:0},{scale:2.2,opacity:.75,duration:.4},.9),n.to(y,{scale:3.2,opacity:0,duration:.3},1.3),n.to(h,{opacity:1,scale:1.3,duration:.3},.9),l.to(k,{rotation:360,duration:2.5,repeat:-1,ease:'none'}),c&&(n.fromTo(c,{opacity:0,y:'-120%'},{opacity:.55,y:'120%',duration:.8,ease:'power1.inOut'},.95),n.to(c,{opacity:0,duration:.2},1.5)),s&&n.fromTo(s,{opacity:.7,scale:.2},{opacity:0,scale:2.8,duration:.6,ease:'power2.out'},.9),n.to(p,{opacity:.65,scale:1,duration:.4},1.1),n.to(m,{opacity:.7,scale:1,duration:.35},1.2),n.to(v,{opacity:.75,scale:1,duration:.3},1.3),l.to(p,{rotation:360,duration:7,repeat:-1,ease:'none'}),l.to(m,{rotation:-360,duration:5,repeat:-1,ease:'none'}),l.to(v,{rotation:360,duration:3.5,repeat:-1,ease:'none'}),n.to(d,{x:3,y:-2,duration:.05,yoyo:!0,repeat:5},1.05);let V=0;const N=setInterval(()=>{V=(V+1)%4,b&&(b.textContent='.'.repeat(V))},300);n.call(()=>clearInterval(N),[],2.9),n.to(r,{opacity:.5,duration:.15},3),n.to(r,{opacity:0,duration:.2},3.15),n.to(d,{opacity:0,duration:.3},3.2)})})},skip:s,isPlaying:t}}const ke={class:'modifier-modal'},ge={class:'modifier-content'},be={class:'resource-grid'},Ee={class:'resource-header'},Ve={class:'resource-icon'},Ne={class:'resource-name'},we={class:'resource-controls'},xe=['value','max','onInput'],Se=['value','max','onInput'],Ce={class:'resource-actions'},Be=['onClick'],ze=['onClick'],Me=['onClick'],$e=['onClick'],qe=['onClick'],_e=['onClick'],Le=['onClick'],De=(0,c.defineComponent)({__name:'ResourceModifier',props:{visible:{type:Boolean,default:!1},visibleModifiers:{}},emits:['update:visible'],setup(e){const t=oe(),a=(0,c.computed)(()=>t.data),n=(0,c.useModel)(e,'visible'),l=[{key:'é£Ÿç‰©',icon:'ğŸ–',color:'#6fd7b0',max:1e3},{key:'ç‡ƒæ–™',icon:'ğŸ”¥',color:'#f4a261',max:1e3},{key:'è¯å“',icon:'ğŸ’Š',color:'#e76f51',max:1e3},{key:'ææ–™',icon:'ğŸ”©',color:'#8ab4d6',max:1e3},{key:'æ­¦å™¨é…ä»¶',icon:'ğŸ”«',color:'#9d84b7',max:1e3},{key:'å‡€æ°´',icon:'ğŸ’§',color:'#4ca8bc',max:1e3},{key:'ç§‘æŠ€ç‚¹',icon:'âš¡',color:'#ffd166',max:1e3}],r=(0,c.ref)(),o=he({containerEl:r}),s=(0,c.ref)({}),i=(0,c.ref)(!1);function d(e,t){const n=l.find(t=>t.key===e);if(!n)return;const r=_.clamp(t,0,n.max);s.value[e]=r,a.value.é¿éš¾æ‰€.èµ„æº[e]=r}function u(e,t){d(e,(s.value[e]??a.value.é¿éš¾æ‰€.èµ„æº[e])+t)}function p(){n.value=!1}async function m(){i.value||(i.value=!0,await new Promise(e=>setTimeout(e,600)),await o.play(),n.value=!1)}return(0,c.watch)(n,e=>{e&&(l.forEach(e=>{s.value[e.key]=a.value.é¿éš¾æ‰€.èµ„æº[e.key]}),i.value=!1)}),(e,t)=>((0,c.openBlock)(),(0,c.createBlock)(c.Teleport,{to:'body'},[(0,c.createVNode)(c.Transition,{name:'modifier-fade'},{default:(0,c.withCtx)(()=>[n.value?((0,c.openBlock)(),(0,c.createElementBlock)('div',{key:0,class:'modifier-overlay',onClick:(0,c.withModifiers)(p,['self'])},[(0,c.createElementVNode)('div',ke,[(0,c.unref)(i)?((0,c.openBlock)(),(0,c.createElementBlock)('div',{key:0,ref_key:'modifierContainerRef',ref:r,class:'modifier-anim-container',onClick:t[0]||(t[0]=e=>(0,c.unref)(o).skip())},null,512)):((0,c.openBlock)(),(0,c.createElementBlock)(c.Fragment,{key:1},[(0,c.createElementVNode)('div',{class:'modifier-header'},[t[1]||(t[1]=(0,c.createElementVNode)('div',{class:'header-title'},[(0,c.createElementVNode)('span',{class:'title-icon'},'âš™'),(0,c.createElementVNode)('span',{class:'title-text'},'èµ„æºä¿®æ”¹å™¨')],-1)),(0,c.createElementVNode)('button',{class:'close-btn',onClick:p},'âœ•')]),(0,c.createElementVNode)('div',ge,[(0,c.createElementVNode)('div',be,[((0,c.openBlock)(),(0,c.createElementBlock)(c.Fragment,null,(0,c.renderList)(l,e=>(0,c.createElementVNode)('div',{key:e.key,class:'resource-item'},[(0,c.createElementVNode)('div',Ee,[(0,c.createElementVNode)('span',Ve,(0,c.toDisplayString)(e.icon),1),(0,c.createElementVNode)('span',Ne,(0,c.toDisplayString)(e.key),1),(0,c.createElementVNode)('span',{class:'resource-value',style:(0,c.normalizeStyle)({color:e.color})},(0,c.toDisplayString)((0,c.unref)(s)[e.key]??(0,c.unref)(a).é¿éš¾æ‰€.èµ„æº[e.key]),5)]),(0,c.createElementVNode)('div',we,[(0,c.createElementVNode)('input',{type:'range',value:(0,c.unref)(s)[e.key]??(0,c.unref)(a).é¿éš¾æ‰€.èµ„æº[e.key],min:0,max:e.max,class:'resource-slider',style:(0,c.normalizeStyle)({'--slider-color':e.color}),onInput:t=>d(e.key,Number(t.target.value))},null,44,xe),(0,c.createElementVNode)('input',{type:'number',value:(0,c.unref)(s)[e.key]??(0,c.unref)(a).é¿éš¾æ‰€.èµ„æº[e.key],min:0,max:e.max,class:'resource-input',onInput:t=>d(e.key,Number(t.target.value))},null,40,Se)]),(0,c.createElementVNode)('div',Ce,[(0,c.createElementVNode)('button',{class:'action-btn small',onClick:t=>u(e.key,-10)},'-10',8,Be),(0,c.createElementVNode)('button',{class:'action-btn small',onClick:t=>u(e.key,-1)},'-1',8,ze),(0,c.createElementVNode)('button',{class:'action-btn small',onClick:t=>u(e.key,1)},'+1',8,Me),(0,c.createElementVNode)('button',{class:'action-btn small',onClick:t=>u(e.key,10)},'+10',8,$e),(0,c.createElementVNode)('button',{class:'action-btn small',onClick:t=>u(e.key,100)},'+100',8,qe),(0,c.createElementVNode)('button',{class:'action-btn small reset',onClick:t=>{d(e.key,0)}},'å½’é›¶',8,_e),(0,c.createElementVNode)('button',{class:'action-btn small max',onClick:t=>function(e){const t=l.find(t=>t.key===e);t&&d(e,t.max)}(e.key)},'æœ€å¤§',8,Le)])])),64))])]),(0,c.createElementVNode)('div',{class:'modifier-footer'},[t[2]||(t[2]=(0,c.createElementVNode)('div',{class:'footer-hint'},'æç¤ºï¼šä¿®æ”¹ä¼šå®æ—¶åŒæ­¥åˆ°æ¸¸æˆæ•°æ®',-1)),(0,c.createElementVNode)('div',{class:'footer-actions'},[(0,c.createElementVNode)('button',{class:'footer-btn cancel',onClick:p},'å–æ¶ˆ'),(0,c.createElementVNode)('button',{class:'footer-btn confirm',onClick:m},'ç¡®è®¤')])])],64))])])):(0,c.createCommentVNode)('v-if',!0)]),_:1})]))}}),Te=(0,ue.A)(De,[['__scopeId','data-v-b0f4618a']]);function je(e){const t=window.parent.$('#send_textarea'),a=t.val()||'',n=a.trim()?`${a}\n${e}`:e;t.val(n).trigger('input')}const Ae={upgrade:(e,t)=>'ç§‘ç ”å·¥åŠ'===e?{ææ–™:10,ç§‘æŠ€ç‚¹:1}:{ææ–™:15*(t+1),ç§‘æŠ€ç‚¹:2*(t+1)},repair:e=>({ææ–™:Math.ceil((100-e)/5)}),start:()=>({ç‡ƒæ–™:2}),stop:()=>({}),unlock:e=>'ç§‘ç ”å·¥åŠ'===e?{ææ–™:10,ç§‘æŠ€ç‚¹:1}:{ææ–™:30,ç§‘æŠ€ç‚¹:5}},Pe={research:()=>({ç§‘æŠ€ç‚¹:5}),researchMax:e=>({ç§‘æŠ€ç‚¹:5*Math.ceil((100-e)/10)})},Oe={explore:e=>({é£Ÿç‰©:Math.ceil(5*e*.7),å‡€æ°´:Math.ceil(3*e*.7)})},Re={single:()=>({é£Ÿç‰©:1}),ten:()=>({é£Ÿç‰©:5,å‡€æ°´:5})},Ie={upgrade:e=>({ç­‰çº§:e+1,æ•ˆç‡:'+10%'}),repair:()=>({è€ä¹…:100})},Fe={research:e=>({ç ”ç©¶è¿›åº¦:Math.min(e+10,100)})},Ue={ç”Ÿå­˜ç§‘æŠ€:{åŸºç¡€ä¾›æš–:'åˆå§‹è§£é”',éš”çƒ­æ”¹é€ :'ç‡ƒæ–™æ¶ˆè€—-15%',çƒ­èƒ½å›æ”¶:'ç‡ƒæ–™æ¶ˆè€—-25%',åœ°çƒ­åˆ©ç”¨:'å‘ç”µæœºå‡è‡³Lv4å‰ç½®',æ ¸å¿ƒç†”ç‚‰:'å‘ç”µæœºå‡è‡³Lv5å‰ç½®'},å†œä¸šç§‘æŠ€:{ç®€æ˜“ç§æ¤:'è§£é”å¨æˆ¿å»ºé€ ',æ°´åŸ¹æŠ€æœ¯:'æ¸©å®¤äº§é‡+50%',äººå·¥å…‰ç…§:'æ— éœ€é˜³å…‰',åŸºå› æ”¹è‰¯:'è§£é”é«˜äº§ä½œç‰©',è‡ªåŠ¨çŒæº‰:'è§£é”æ¸©å®¤å»ºé€ '},åŒ»ç–—ç§‘æŠ€:{æ€¥æ•‘çŸ¥è¯†:'åŒ»ç–—å®¤å‡è‡³Lv1å‰ç½®',è‰è¯å­¦:'åŒ»ç–—å®¤å‡è‡³Lv2å‰ç½®ï¼Œè¯å“æ¶ˆè€—-20%',æ¶ˆæ¯’æŠ€æœ¯:'åŒ»ç–—å®¤å‡è‡³Lv3å‰ç½®',å¤–ç§‘æ‰‹æœ¯:'åŒ»ç–—å®¤å‡è‡³Lv4å‰ç½®',æŠ—æ„ŸæŸ“è¡€æ¸…:'å¯æ²»ç–—æ„ŸæŸ“',ä¹‰è‚¢æŠ€æœ¯:'åŒ»ç–—å®¤å‡è‡³Lv5å‰ç½®'},å·¥ç¨‹ç§‘æŠ€:{åŸºç¡€ç»´ä¿®:'ç ”ç©¶å®¤å‡è‡³Lv1å‰ç½®',å¼ºåŒ–ææ–™:'ç ”ç©¶å®¤å‡è‡³Lv2å‰ç½®',ç”µåŠ›ç³»ç»Ÿ:'ç ”ç©¶å®¤å‡è‡³Lv3å‰ç½®',è‡ªåŠ¨åŒ–:'ç ”ç©¶å®¤å‡è‡³Lv4å‰ç½®ï¼Œè®¾æ–½æ•ˆç‡+25%',æ¨¡å—æ‰©å±•:'ç ”ç©¶å®¤å‡è‡³Lv5å‰ç½®'},æ­¦å™¨ç§‘æŠ€:{ç®€æ˜“æ­¦å™¨:'æ­¦å™¨åº“å‡è‡³Lv1å‰ç½®',é”»é€ æŠ€æœ¯:'æ­¦å™¨åº“å‡è‡³Lv2å‰ç½®',å¼©å¼“åˆ¶ä½œ:'æ­¦å™¨åº“å‡è‡³Lv3å‰ç½®',æŠ¤ç”²é”»é€ :'æ­¦å™¨åº“å‡è‡³Lv4å‰ç½®',ç«è¯é…æ–¹:'ç®€æ˜“ç«å™¨',é™·é˜±å·¥è‰º:'æ­¦å™¨åº“å‡è‡³Lv5å‰ç½®'},æ¢ç´¢ç§‘æŠ€:{åœ°å›¾ç»˜åˆ¶:'è§£é”å±…æ°‘åŒºåºŸå¢Ÿæ¢ç´¢',é‡å¤–ç”Ÿå­˜:'è§£é”åœ°é“ç«™æ¢ç´¢',ä¿¡å·è¿½è¸ª:'è§£é”å†°å°å­¦æ ¡æ¢ç´¢',è½¦è¾†æ”¹è£…:'è§£é”å†›äº‹åŸºåœ°æ¢ç´¢',é›ªåœ°è½½å…·:'è§£é”ç”Ÿç‰©ç ”ç©¶æ‰€æ¢ç´¢'}},He={åºŸå¢Ÿ:'é£Ÿç‰©6~14, ææ–™6~16, ç‡ƒæ–™2~6',è¶…å¸‚:'é£Ÿç‰©20~48, å‡€æ°´10~28, ç‡ƒæ–™4~10',å±…æ°‘åŒº:'é£Ÿç‰©10~24, å‡€æ°´6~14, ç‡ƒæ–™2~8',åœ°é“ç«™:'ç‡ƒæ–™8~18, ææ–™8~20',åŒ»é™¢:'è¯å“14~36, å‡€æ°´8~20, ç‡ƒæ–™2~6',å­¦æ ¡:'ææ–™8~20, è¯å“4~10, ç‡ƒæ–™2~6',å·¥å‚:'ææ–™18~44, ç‡ƒæ–™8~24, ç§‘æŠ€ç‚¹6~18, æ­¦å™¨é…ä»¶12~32',å†›äº‹åŸºåœ°:'æ­¦å™¨é…ä»¶28~80, ç‡ƒæ–™10~28',ç ”ç©¶æ‰€:'ç§‘æŠ€ç‚¹18~42, è¯å“4~12, ç‡ƒæ–™2~4'};function Xe(e,t){return Ue[e]?.[t]||'æ•ˆæœæœªçŸ¥'}function Ye(e){return He[e]||'èµ„æºæœªçŸ¥'}function We(){return Math.floor(10+10*Math.random())}function Ge(e){return Object.entries(e).filter(([_,e])=>e>0).map(([e,t])=>`${e}-${t}`).join('ï¼Œ')}function Ke(e){return Object.entries(e).map(([e,t])=>`${e}â†’${t}`).join('ï¼Œ')}function Ze(e,t){const a=e.filter(Boolean),n='<user>';return t&&!a.includes(n)&&a.unshift(n),a.length?`\né˜Ÿä¼æˆå‘˜ï¼š${a.join('ã€')}`:''}function Je(e,t){return Object.entries(t).every(([t,a])=>e[t]>=a)}function Qe(e){return{interaction:{chat:(e,t)=>({text:`ã€äº’åŠ¨ã€‘ä¸${e}äº¤æµ\nå†…å®¹ï¼š${t}`}),intimate:(e,t)=>({text:`ã€äº’åŠ¨ã€‘ä¸${e}è‰²è‰²\nå†…å®¹ï¼š${t}`})},facility:{upgrade:(t,a)=>{const n=Ae.upgrade(t,a),l=Ie.upgrade(a),r=Je(e,n);return{text:`ã€è¡ŒåŠ¨ã€‘å‡çº§${t}ï¼ˆLv.${a}â†’Lv.${a+1}ï¼‰\næ¶ˆè€—ï¼š${Ge(n)}\næ•ˆæœï¼š${Ke(l)}${'ä»“åº“'===t?'\nè¯´æ˜ï¼šä»“åº“å‡çº§åï¼Œè¯·å°†é¿éš¾æ‰€.èµ„æºä¸Šé™.{é£Ÿç‰©,ç‡ƒæ–™,è¯å“,ææ–™,æ­¦å™¨é…ä»¶,å‡€æ°´,ç§‘æŠ€ç‚¹}=ç­‰çº§Ã—200':''}`,affordable:r,cost:n}},repair:(t,a)=>{const n=Ae.repair(a),l=Ie.repair(),r=Je(e,n);return{text:`ã€è¡ŒåŠ¨ã€‘ä¿®å¤${t}ï¼ˆè€ä¹…${a}%â†’100%ï¼‰\næ¶ˆè€—ï¼š${Ge(n)}\næ•ˆæœï¼š${Ke(l)}`,affordable:r,cost:n}},start:t=>{const a=Ae.start(),n=Je(e,a);return{text:`ã€è¡ŒåŠ¨ã€‘å¯åŠ¨${t}\næ¶ˆè€—ï¼š${Ge(a)}\næ•ˆæœï¼šè®¾æ–½å¼€å§‹è¿è¡Œ`,affordable:n,cost:a}},stop:e=>({text:`ã€è¡ŒåŠ¨ã€‘åœæœº${e}\næ•ˆæœï¼šè®¾æ–½åœæ­¢è¿è¡Œï¼ŒèŠ‚çœèµ„æº`,affordable:!0,cost:{}}),unlock:t=>{const a=Ae.unlock(t),n=Je(e,a);return{text:`ã€è¡ŒåŠ¨ã€‘å»ºé€ ${t}\næ¶ˆè€—ï¼š${Ge(a)}\næ•ˆæœï¼šè§£é”æ–°è®¾æ–½`,affordable:n,cost:a}}},tech:{research:(t,a,n)=>{const l=Pe.research(),r=Fe.research(n),o=Je(e,l),c=Ke(r),s=r.ç ”ç©¶è¿›åº¦>=100,i=Xe(t,a),d=s?`\nè¯´æ˜ï¼šè§£é”åç”Ÿæ•ˆï¼š${i}ï¼›è¯·å°†ç§‘æŠ€æ ‘.${t}.${a}.å·²è§£é”=true`:'\nè¯´æ˜ï¼šæœ¬æ¬¡ä»…æ¨è¿›ç ”ç©¶è¿›åº¦ï¼Œæ— ä»»ä½•å³æ—¶æ•ˆæœï¼›è¯·åªæ›´æ–°ç ”ç©¶è¿›åº¦å˜é‡ã€‚';return{text:`ã€è¡ŒåŠ¨ã€‘ç ”ç©¶${t}-${a}ï¼ˆ${n}%â†’${r.ç ”ç©¶è¿›åº¦}%ï¼‰\næ•ˆæœï¼š${c}${d}\nè¯´æ˜ï¼šå¿…é¡»å‚è€ƒ<tech_tree>çš„å†…å®¹`,affordable:o,cost:l}},researchMax:(t,a,n)=>{const l=Pe.researchMax(n),r=Je(e,l);return{text:`ã€è¡ŒåŠ¨ã€‘å…¨åŠ›ç ”ç©¶${t}-${a}ï¼ˆ${n}%â†’100%ï¼‰\næ•ˆæœï¼šç ”ç©¶è¿›åº¦â†’100%ï¼Œè§£é”ç§‘æŠ€\nè¯´æ˜ï¼šè§£é”åç”Ÿæ•ˆï¼š${Xe(t,a)}ï¼›è¯·å°†ç§‘æŠ€æ ‘.${t}.${a}.å·²è§£é”=true\nè¯´æ˜ï¼šå¿…é¡»å‚è€ƒ<tech_tree>çš„å†…å®¹`,affordable:r,cost:l}}},map:{explore:(t,a,n,l,r)=>{const o=Oe.explore(a),c=We(),s=`+${c}%`,i=Je(e,o),d=Ge(o);return{text:`ã€è¡ŒåŠ¨ã€‘æ´¾é£æ¢ç´¢é˜Ÿå‰å¾€${t}ï¼ˆå±é™©Lv.${a}ï¼‰${Ze(l,r)}\næ¶ˆè€—ï¼š${d}\næ•ˆæœï¼šæ¢ç´¢è¿›åº¦${s}\nè¯´æ˜ï¼šè¯·åŒæ­¥æ›´æ–°å˜é‡åœ°å›¾.æ¢ç´¢é˜Ÿä¼.{æˆå‘˜,ç›®æ ‡åŒºåŸŸ,å‡ºå‘æ—¶é—´,é¢„è®¡è¿”å›}ï¼Œä½†æ— éœ€æ›´æ–°æ¢ç´¢è¿›åº¦å˜é‡\nè¯´æ˜ï¼šèµ„æºéšè¿›åº¦ç”±å°‘åˆ°å¤šï¼Œå®ŒæˆåæŒ‰å±é™©ç­‰çº§ç³»æ•°ç»“ç®—ï¼Œä¸”ä¸å¾—ä½äºæœ¬æ¬¡æ¶ˆè€—ã€‚\nè¯´æ˜ï¼šå¿…é¡»å‚è€ƒ<area_resource_rules>çš„å†…å®¹\nè¯´æ˜ï¼šå¿…é¡»å‚è€ƒ<hostile_threat_tiers>çš„å†…å®¹\nè¯´æ˜ï¼šå¿…é¡»å‚è€ƒ<explore_unlock>çš„å†…å®¹`,affordable:i,cost:o,progressDelta:c}},quickExplore:(t,a,n,l,r)=>{const o=Oe.explore(a),c=`+${We()}%`,s=Je(e,o),i=Ge(o);return{text:`ã€è¡ŒåŠ¨ã€‘å¿«é€Ÿæ¢ç´¢å¹¶è¿”å›${t}ï¼ˆå±é™©Lv.${a}ï¼‰${Ze(l,r)}\næ¶ˆè€—ï¼š${i}\næ•ˆæœï¼šæ¢ç´¢è¿›åº¦${c}\nè¦æ±‚ï¼šç›´æ¥å™è¿°æ¢ç´¢å½’æ¥åçš„ç»“æœã€é­é‡ä¸æ”¶è·ï¼Œä¸è¦æå†™å‡ºå‘è¿‡ç¨‹\nè¯´æ˜ï¼šå¿«é€Ÿæ¢ç´¢ä¸æ›´æ–°æ¢ç´¢é˜Ÿä¼å˜é‡ï¼Œä½†éœ€æ¸…ç©ºåœ°å›¾.æ¢ç´¢é˜Ÿä¼.{æˆå‘˜,ç›®æ ‡åŒºåŸŸ,å‡ºå‘æ—¶é—´,é¢„è®¡è¿”å›}å˜é‡ï¼ŒåŒæ—¶æ— éœ€æ›´æ–°æ¢ç´¢è¿›åº¦å˜é‡\nè¯´æ˜ï¼šèµ„æºéšè¿›åº¦ç”±å°‘åˆ°å¤šï¼Œå®ŒæˆåæŒ‰å±é™©ç­‰çº§ç³»æ•°ç»“ç®—ï¼Œä¸”ä¸å¾—ä½äºæœ¬æ¬¡æ¶ˆè€—ã€‚\nè¯´æ˜ï¼šå¿…é¡»å‚è€ƒ<area_resource_rules>çš„å†…å®¹\nè¯´æ˜ï¼šå¿…é¡»å‚è€ƒ<hostile_threat_tiers>çš„å†…å®¹\nè¯´æ˜ï¼šå¿…é¡»å‚è€ƒ<explore_unlock>çš„å†…å®¹`,affordable:s,cost:o}},scavenge:(t,a,n)=>{const l=Oe.explore(n),r=Je(e,l);return{text:`ã€è¡ŒåŠ¨ã€‘æ´¾é£æ¢ç´¢é˜Ÿæœåˆ®${t}ï¼ˆ${a}ï¼Œå±é™©Lv.${n}ï¼Œå·²å®Œå…¨æ¢ç´¢ï¼‰\næ¶ˆè€—ï¼š${Ge(l)}\nèµ„æºèŒƒå›´ï¼š${Ye(a)}\nè¯´æ˜ï¼šæœ¬æ¬¡æ¶ˆè€—å·²è®¡ç®—ï¼Œä¸ç”¨æ›´æ–°æœ¬æ¬¡æ¢ç´¢æ¶ˆè€—çš„ç‰©èµ„ã€‚\nè¯´æ˜ï¼šèµ„æºéšè¿›åº¦ç”±å°‘åˆ°å¤šï¼Œå®ŒæˆåæŒ‰å±é™©ç­‰çº§ç³»æ•°ç»“ç®—ï¼Œä¸”ä¸å¾—ä½äºæœ¬æ¬¡æ¶ˆè€—ã€‚\nè¯´æ˜ï¼šå¿…é¡»å‚è€ƒ<area_resource_rules>çš„å†…å®¹\nè¯´æ˜ï¼šå¿…é¡»å‚è€ƒ<hostile_threat_tiers>çš„å†…å®¹\nè¯´æ˜ï¼šå¿…é¡»å‚è€ƒ<explore_unlock>çš„å†…å®¹`,affordable:r,cost:l}}},recruit:{single:t=>{const a=Re.single(),n=Je(e,a),l=t.source?` æ¥æº:${t.source}`:'';return{text:`ã€è¡ŒåŠ¨ã€‘å•æŠ½æ‹›å‹Ÿï¼ˆæŠ½å¡ç»“æœå·²å®šï¼‰\næŠ½å¡ç»“æœï¼šç¨€æœ‰åº¦:${t.rarity}${l}\nè¦æ±‚ï¼šç”Ÿæˆ1åå€™é€‰å¹¸å­˜è€…ï¼Œç¨€æœ‰åº¦ä¸å¾—è°ƒæ•´ã€‚\nè¦æ±‚ï¼šç»™å‡ºå§“å/æ€§åˆ«/å¹´é¾„/å¤–è²Œæè¿°/èƒŒæ™¯æ•…äº‹/æ ¸å¿ƒæŠ€èƒ½/ä¸“é•¿æ ‡ç­¾/æ‹›å‹ŸåŠ¨æœºã€‚\nè¦æ±‚ï¼šä¸¥æ ¼æŒ‰ç…§æœ¬æç¤ºå†…å®¹æ‰§è¡Œæ‹›å‹Ÿï¼Œä¸å¾—å¢åˆ æ”¹å€™é€‰æ•°é‡ä¸ç¨€æœ‰åº¦ã€‚\nè¦æ±‚ï¼šç¦æ­¢è¾“å‡ºé™¤è¯¥å€™é€‰å¤–çš„ä»»ä½•å…¶ä»–æ‹›å‹Ÿäººå‘˜/å€™é€‰åå•/è¡¥å……å€™é€‰ã€‚\nè¯´æ˜ï¼šæœ¬æ­¥ä»…ç”Ÿæˆå€™é€‰ï¼Œä¸ç»“ç®—ç¨€æœ‰åº¦èµ„æºï¼Œé€‰æ‹©åå†æŒ‰ç¨€æœ‰åº¦ç»“ç®—ã€‚\nè¯´æ˜ï¼šå¿…é¡»å‚è€ƒ<recruit_rules>çš„å†…å®¹\nè¯´æ˜ï¼šå¿…é¡»å‚è€ƒ<recruit_gacha>çš„å†…å®¹\nè¯´æ˜ï¼šå¿…é¡»å‚è€ƒ<recruit_character_guide>çš„å†…å®¹\nè¯´æ˜ï¼šå¿…é¡»å‚è€ƒ<population_cap>çš„å†…å®¹`,affordable:n,cost:a}},tenBatch:t=>{const a=Re.ten(),n=Je(e,a);return{text:`ã€è¡ŒåŠ¨ã€‘åè¿æ‹›å‹Ÿï¼ˆæŠ½å¡ç»“æœå·²å®šï¼‰\næŠ½å¡ç»“æœï¼š\n${t.map((e,t)=>{const a=e.source?` æ¥æº:${e.source}`:'';return`${t+1}) ç¨€æœ‰åº¦:${e.rarity}${a}`}).join('\n')}\nè¦æ±‚ï¼šæŒ‰åºå·ä¸ç¨€æœ‰åº¦ç”Ÿæˆ10åå€™é€‰å¹¸å­˜è€…ï¼Œç¨€æœ‰åº¦ä¸å¾—è°ƒæ•´ã€‚\nè¦æ±‚ï¼šæ¯åå€™é€‰ç»™å‡ºå§“å/æ€§åˆ«/å¹´é¾„/å¤–è²Œæè¿°/èƒŒæ™¯æ•…äº‹/æ ¸å¿ƒæŠ€èƒ½/ä¸“é•¿æ ‡ç­¾/æ‹›å‹ŸåŠ¨æœºã€‚\nè¦æ±‚ï¼šè¾“å‡ºåæç¤ºç”¨æˆ·ä»1-10ä¸­é€‰æ‹©1ååŠ å…¥ã€‚\nè¦æ±‚ï¼šä¸¥æ ¼æŒ‰ç…§æœ¬æç¤ºå†…å®¹æ‰§è¡Œæ‹›å‹Ÿï¼Œä¸å¾—å¢åˆ æ”¹å€™é€‰æ•°é‡ä¸åºå·ã€‚\nè¦æ±‚ï¼šç¦æ­¢è¾“å‡ºé™¤ä¸Šè¿°10åå€™é€‰å¤–çš„ä»»ä½•å…¶ä»–æ‹›å‹Ÿäººå‘˜/å€™é€‰åå•/è¡¥å……å€™é€‰ã€‚\nè¯´æ˜ï¼šæœ¬æ­¥ä»…ç”Ÿæˆå€™é€‰ï¼Œä¸ç»“ç®—ç¨€æœ‰åº¦èµ„æºï¼Œé€‰æ‹©åå†æŒ‰ç¨€æœ‰åº¦ç»“ç®—ã€‚\nè¯´æ˜ï¼šå¿…é¡»å‚è€ƒ<recruit_rules>çš„å†…å®¹\nè¯´æ˜ï¼šå¿…é¡»å‚è€ƒ<recruit_gacha>çš„å†…å®¹\nè¯´æ˜ï¼šå¿…é¡»å‚è€ƒ<recruit_character_guide>çš„å†…å®¹\nè¯´æ˜ï¼šå¿…é¡»å‚è€ƒ<population_cap>çš„å†…å®¹`,affordable:n,cost:a}}}}}function et(e){const t=(0,c.ref)(!1);let a=null,n=null,r=null;function o(){n&&(n.kill(),n=null),a&&(a.kill(),a=null),t.value=!1,r&&(r(),r=null)}function s(){t.value&&o()}return(0,c.onUnmounted)(o),{play:async function(i){if(t.value)return;t.value=!0,await(0,c.nextTick)();const d=e.containerEl.value;if(!d)return void(t.value=!1);d.innerHTML=function(e){return`\n      <div class="checkin-scene">\n        <div class="checkin-bg"></div>\n        <div class="checkin-snow">${Array.from({length:24},(_,e)=>{const t=1.5+2.5*Math.random();return`<div class="checkin-flake" data-idx="${e}" style="\n        left:${120*Math.random()-10}%;top:${100*Math.random()}%;\n        width:${t}px;height:${t}px;\n        opacity:${.2+.6*Math.random()};\n      "></div>`}).join('')}</div>\n        <div class="checkin-ring"></div>\n        <div class="checkin-stamp">å·²ç­¾åˆ°</div>\n        <div class="checkin-info">\n          è¿ç»­${e.streak}å¤© Â· ç´¯è®¡${e.total}å¤©\n        </div>\n        <div class="checkin-skip">ç‚¹å‡»è·³è¿‡</div>\n      </div>\n    `}(i);const u=d.querySelector('.checkin-scene');return u.addEventListener('click',s),new Promise(e=>{r=e,a=l.context(()=>{const e=d.querySelectorAll('.checkin-flake'),t=d.querySelector('.checkin-ring'),a=d.querySelector('.checkin-stamp'),r=d.querySelector('.checkin-info'),c=d.querySelector('.checkin-skip');n=l.timeline({onComplete:()=>o()}),n.fromTo(u,{opacity:0},{opacity:1,duration:.2}),n.to(c,{opacity:1,duration:.3},.2),n.to(t,{opacity:.7,scale:1.05,duration:.4},.15),n.to(t,{opacity:0,scale:1.2,duration:.6},.55),n.to(a,{opacity:1,scale:1,duration:.35,ease:'back.out(2)'},.3),n.to(r,{opacity:1,duration:.3},.6),n.to(u,{opacity:0,duration:.3},2.2-.3),e.forEach(e=>{const t=1.4+1.2*Math.random(),a=.8*Math.random();l.to(e,{x:'-='+(40+60*Math.random()),y:'+='+(25+40*Math.random()),opacity:0,duration:t,delay:a,repeat:-1,ease:'none',onRepeat:()=>{l.set(e,{x:0,y:0,left:120*Math.random()-10+'%',top:100*Math.random()+'%',opacity:.2+.6*Math.random()})}})})})})},skip:s,isPlaying:t}}const tt={class:'warning-marquee'},at={class:'marquee-content'},nt={class:'warning-text'},lt={key:0},rt={class:'warning-text duplicate'},ot={key:0},ct={class:'resource-bar'},st={class:'resource-content'},it={class:'pop-section'},dt={class:'pop-badge'},ut={class:'pop-detail'},pt={class:'pop-item'},mt={class:'pop-item female'},vt={class:'resource-list'},ft=['data-key'],yt={class:'res-icon'},ht={class:'res-label'},kt=['disabled'],gt={class:'checkin-text'},bt={key:0,class:'checkin-streak'},Et={class:'checkin-modal'},Vt={class:'checkin-preview'},Nt={class:'preview-info'},wt={class:'preview-row'},xt={class:'preview-value'},St={class:'preview-row'},Ct={class:'preview-value'},Bt={class:'checkin-actions'},zt={class:'modifier-warning'},Mt={class:'warning-actions'},$t=(0,c.defineComponent)({__name:'TopBar',props:{é¿éš¾æ‰€:{},ç­¾åˆ°ç³»ç»Ÿ:{},å½“å‰æ—¶é—´:{},prevèµ„æº:{},preväººå£:{}},setup(e){const t=e,a=[{key:'ç‡ƒæ–™',label:'ç‡ƒæ–™',icon:'ğŸ”¥',type:'warning',warnThreshold:20,criticalThreshold:10},{key:'é£Ÿç‰©',label:'é£Ÿç‰©',icon:'ğŸ–',type:'success',warnThreshold:30,criticalThreshold:15},{key:'å‡€æ°´',label:'å‡€æ°´',icon:'ğŸ’§',type:'accent',warnThreshold:25,criticalThreshold:10},{key:'ææ–™',label:'ææ–™',icon:'ğŸ”©',type:'',warnThreshold:15,criticalThreshold:5},{key:'è¯å“',label:'è¯å“',icon:'ğŸ’Š',type:'',warnThreshold:20,criticalThreshold:8},{key:'æ­¦å™¨é…ä»¶',label:'é…ä»¶',icon:'ğŸ”§',type:'',warnThreshold:5,criticalThreshold:2},{key:'ç§‘æŠ€ç‚¹',label:'ç§‘æŠ€',icon:'âš¡',type:'accent',warnThreshold:0,criticalThreshold:0}];function n(e,t){const n=a.find(t=>t.key===e);return n?n.criticalThreshold>0&&t<=n.criticalThreshold?'critical':n.warnThreshold>0&&t<=n.warnThreshold?'danger':n.type||'':''}const r=(0,c.computed)(()=>a.filter(e=>{const a=t.é¿éš¾æ‰€.èµ„æº[e.key];return e.criticalThreshold>0&&a<=e.criticalThreshold||e.warnThreshold>0&&a<=e.warnThreshold}).map(e=>({...e,value:t.é¿éš¾æ‰€.èµ„æº[e.key],isCritical:e.criticalThreshold>0&&t.é¿éš¾æ‰€.èµ„æº[e.key]<=e.criticalThreshold}))),o=((0,c.ref)(!1),(0,c.ref)(!1)),s=(0,c.ref)(),i=et({containerEl:s}),d=(0,c.ref)();let u=null;const p=(0,c.ref)(!1),m=(0,c.ref)(!1);function v(){m.value=!0}function f(){m.value=!1,p.value=!0}function y(){t.ç­¾åˆ°ç³»ç»Ÿ.ä»Šæ—¥å·²ç­¾åˆ°||(o.value=!0)}async function h(){t.ç­¾åˆ°ç³»ç»Ÿ.ä»Šæ—¥å·²ç­¾åˆ°||i.isPlaying.value||(await i.play({streak:t.ç­¾åˆ°ç³»ç»Ÿ.è¿ç»­ç­¾åˆ°å¤©æ•°+1,total:t.ç­¾åˆ°ç³»ç»Ÿ.ç´¯è®¡ç­¾åˆ°å¤©æ•°+1,time:t.å½“å‰æ—¶é—´}),je('ã€è¡ŒåŠ¨ã€‘ç­¾åˆ°\næ•ˆæœï¼šè¿ç»­ç­¾åˆ°å¤©æ•°+1ï¼Œç´¯è®¡ç­¾åˆ°å¤©æ•°+1ï¼Œä»Šæ—¥å·²ç­¾åˆ°=true\nå¥–åŠ±ï¼šåŸºç¡€å¥–åŠ±=é£Ÿç‰©+3ï¼Œå‡€æ°´+2ï¼Œç‡ƒæ–™+2\nå¥–åŠ±ï¼šæ¯æ—¥å¥–åŠ±æ± éšæœº1é¡¹(ææ–™+3/è¯å“+1/ç‡ƒæ–™+3/å‡€æ°´+4/ç§‘æŠ€ç‚¹+1)\nå¥–åŠ±ï¼šè¿ç»­ç­¾åˆ°é‡Œç¨‹ç¢‘(3å¤©ææ–™+8ï¼Œ7å¤©è¯å“+3ï¼Œ14å¤©ç§‘æŠ€ç‚¹+4ï¼Œ30å¤©ç‡ƒæ–™+20)'),o.value=!1)}return(0,c.onMounted)(()=>{const e=d.value;e&&(u=l.context(()=>{const t=l.utils.selector(e),a=['.resource-warning-banner','.pop-section','.res-item','.checkin-btn'].flatMap(e=>t(e));a.length&&l.from(a,{opacity:0,y:-8,duration:.45,ease:'power2.out',stagger:.04,clearProps:'opacity,transform'})},e))}),(0,c.watch)(()=>t.é¿éš¾æ‰€.èµ„æº,e=>{t.prevèµ„æº&&d.value&&a.forEach(a=>{const n=t.prevèµ„æº?.[a.key],r=e[a.key];if(void 0===n||r===n)return;const o=r>n?'rgba(111, 215, 176, 0.35)':'rgba(244, 123, 123, 0.35)',c=d.value.querySelector(`.res-item[data-key="${a.key}"]`);c&&l.fromTo(c,{scale:1,boxShadow:'0 0 0 rgba(0,0,0,0)'},{scale:1.03,boxShadow:`0 0 12px ${o}`,duration:.2,yoyo:!0,repeat:1,ease:'power1.out'})})},{deep:!0}),(0,c.watch)(()=>t.é¿éš¾æ‰€.äººå£ç»Ÿè®¡,e=>{if(!t.preväººå£||!d.value)return;if(!['æ€»äººå£','ç”·æ€§äººæ•°','å¥³æ€§äººæ•°','ä¼¤ç—…äººæ•°'].some(a=>e[a]!==t.preväººå£?.[a]))return;const a=d.value.querySelector('.pop-section');a&&l.fromTo(a,{scale:1,boxShadow:'0 0 0 rgba(0,0,0,0)'},{scale:1.02,boxShadow:'0 0 10px rgba(121, 211, 255, 0.35)',duration:.2,yoyo:!0,repeat:1,ease:'power1.out'})},{deep:!0}),(0,c.onUnmounted)(()=>{u?.revert()}),(t,l)=>((0,c.openBlock)(),(0,c.createElementBlock)('div',{ref_key:'topBarRef',ref:d,class:'top-bar-wrapper'},[(0,c.createVNode)(c.Transition,{name:'slide-down'},{default:(0,c.withCtx)(()=>[(0,c.unref)(r).length>0?((0,c.openBlock)(),(0,c.createElementBlock)('div',{key:0,class:(0,c.normalizeClass)(['resource-warning-banner',{critical:(0,c.unref)(r).some(e=>e.isCritical)}])},[l[8]||(l[8]=(0,c.createElementVNode)('span',{class:'warning-icon'},'âš ',-1)),(0,c.createElementVNode)('div',tt,[(0,c.createElementVNode)('div',at,[(0,c.createElementVNode)('span',nt,[l[6]||(l[6]=(0,c.createTextVNode)(' èµ„æºè­¦å‘Šï¼š ',-1)),((0,c.openBlock)(!0),(0,c.createElementBlock)(c.Fragment,null,(0,c.renderList)((0,c.unref)(r),(e,t)=>((0,c.openBlock)(),(0,c.createElementBlock)('span',{key:e.key},[(0,c.createElementVNode)('span',{class:(0,c.normalizeClass)({'critical-text':e.isCritical})},(0,c.toDisplayString)(e.label)+'ä¸è¶³('+(0,c.toDisplayString)(e.value)+')',3),t<(0,c.unref)(r).length-1?((0,c.openBlock)(),(0,c.createElementBlock)('span',lt,' | ')):(0,c.createCommentVNode)('v-if',!0)]))),128))]),(0,c.createElementVNode)('span',rt,[l[7]||(l[7]=(0,c.createTextVNode)(' èµ„æºè­¦å‘Šï¼š ',-1)),((0,c.openBlock)(!0),(0,c.createElementBlock)(c.Fragment,null,(0,c.renderList)((0,c.unref)(r),(e,t)=>((0,c.openBlock)(),(0,c.createElementBlock)('span',{key:'dup-'+e.key},[(0,c.createElementVNode)('span',{class:(0,c.normalizeClass)({'critical-text':e.isCritical})},(0,c.toDisplayString)(e.label)+'ä¸è¶³('+(0,c.toDisplayString)(e.value)+')',3),t<(0,c.unref)(r).length-1?((0,c.openBlock)(),(0,c.createElementBlock)('span',ot,' | ')):(0,c.createCommentVNode)('v-if',!0)]))),128))])])])],2)):(0,c.createCommentVNode)('v-if',!0)]),_:1}),(0,c.createElementVNode)('div',ct,[(0,c.createElementVNode)('div',st,[(0,c.createElementVNode)('div',it,[(0,c.createElementVNode)('div',dt,[l[9]||(l[9]=(0,c.createElementVNode)('span',{class:'pop-icon'},'ğŸ‘¥',-1)),(0,c.createVNode)(pe,{value:e.é¿éš¾æ‰€.äººå£ç»Ÿè®¡.æ€»äººå£,'prev-value':e.preväººå£?.æ€»äººå£,class:'pop-num','show-delta':''},null,8,['value','prev-value'])]),(0,c.createElementVNode)('div',ut,[(0,c.createElementVNode)('span',pt,[l[10]||(l[10]=(0,c.createElementVNode)('span',{class:'pop-label'},'â™‚ç”·',-1)),(0,c.createVNode)(pe,{value:e.é¿éš¾æ‰€.äººå£ç»Ÿè®¡.ç”·æ€§äººæ•°,'prev-value':e.preväººå£?.ç”·æ€§äººæ•°,class:'pop-val'},null,8,['value','prev-value'])]),(0,c.createElementVNode)('span',mt,[l[11]||(l[11]=(0,c.createElementVNode)('span',{class:'pop-label'},'â™€å¥³',-1)),(0,c.createVNode)(pe,{value:e.é¿éš¾æ‰€.äººå£ç»Ÿè®¡.å¥³æ€§äººæ•°,'prev-value':e.preväººå£?.å¥³æ€§äººæ•°,class:'pop-val'},null,8,['value','prev-value'])]),(0,c.createElementVNode)('span',{class:(0,c.normalizeClass)(['pop-item',{warn:e.é¿éš¾æ‰€.äººå£ç»Ÿè®¡.ä¼¤ç—…äººæ•°>0}])},[l[12]||(l[12]=(0,c.createElementVNode)('span',{class:'pop-label'},'ğŸ©¹ä¼¤',-1)),(0,c.createVNode)(pe,{value:e.é¿éš¾æ‰€.äººå£ç»Ÿè®¡.ä¼¤ç—…äººæ•°,'prev-value':e.preväººå£?.ä¼¤ç—…äººæ•°,class:'pop-val'},null,8,['value','prev-value'])],2)])]),(0,c.createElementVNode)('div',vt,[((0,c.openBlock)(),(0,c.createElementBlock)(c.Fragment,null,(0,c.renderList)(a,t=>(0,c.createElementVNode)('div',{key:t.key,class:(0,c.normalizeClass)(['res-item',n(t.key,e.é¿éš¾æ‰€.èµ„æº[t.key])]),'data-key':t.key},[(0,c.createElementVNode)('span',yt,(0,c.toDisplayString)(t.icon),1),(0,c.createElementVNode)('span',ht,(0,c.toDisplayString)(t.label),1),(0,c.createVNode)(pe,{value:e.é¿éš¾æ‰€.èµ„æº[t.key],'prev-value':e.prevèµ„æº?.[t.key],class:'res-val','show-delta':''},null,8,['value','prev-value'])],10,ft)),64))])]),(0,c.createElementVNode)('button',{class:(0,c.normalizeClass)(['checkin-btn',{signed:e.ç­¾åˆ°ç³»ç»Ÿ.ä»Šæ—¥å·²ç­¾åˆ°,animating:(0,c.unref)(i).isPlaying.value}]),disabled:e.ç­¾åˆ°ç³»ç»Ÿ.ä»Šæ—¥å·²ç­¾åˆ°,onClick:y},[l[13]||(l[13]=(0,c.createElementVNode)('span',{class:'checkin-icon'},'ğŸ“…',-1)),(0,c.createElementVNode)('span',gt,(0,c.toDisplayString)(e.ç­¾åˆ°ç³»ç»Ÿ.ä»Šæ—¥å·²ç­¾åˆ°?'å·²ç­¾åˆ°':'ç­¾åˆ°'),1),e.ç­¾åˆ°ç³»ç»Ÿ.ä»Šæ—¥å·²ç­¾åˆ°?(0,c.createCommentVNode)('v-if',!0):((0,c.openBlock)(),(0,c.createElementBlock)('span',bt,(0,c.toDisplayString)(e.ç­¾åˆ°ç³»ç»Ÿ.è¿ç»­ç­¾åˆ°å¤©æ•°)+'å¤©',1))],10,kt),(0,c.createElementVNode)('button',{class:'modifier-btn',onClick:v},[...l[14]||(l[14]=[(0,c.createElementVNode)('span',{class:'modifier-icon'},'âš™',-1),(0,c.createElementVNode)('span',{class:'modifier-text'},'ä¿®æ”¹å™¨',-1)])])]),(0,c.createVNode)(ye,{visible:(0,c.unref)(o),title:'æ¯æ—¥ç­¾åˆ°',onClose:l[2]||(l[2]=e=>o.value=!1)},{default:(0,c.withCtx)(()=>[(0,c.createElementVNode)('div',Et,[(0,c.unref)(i).isPlaying.value?((0,c.openBlock)(),(0,c.createElementBlock)('div',{key:0,ref_key:'checkinContainerRef',ref:s,class:'checkin-anim-container',onClick:l[0]||(l[0]=e=>(0,c.unref)(i).skip())},null,512)):((0,c.openBlock)(),(0,c.createElementBlock)(c.Fragment,{key:1},[(0,c.createElementVNode)('div',Vt,[l[17]||(l[17]=(0,c.createElementVNode)('div',{class:'preview-icon'},'ğŸ“…',-1)),(0,c.createElementVNode)('div',Nt,[(0,c.createElementVNode)('div',wt,[l[15]||(l[15]=(0,c.createElementVNode)('span',{class:'preview-label'},'è¿ç»­ç­¾åˆ°',-1)),(0,c.createElementVNode)('span',xt,(0,c.toDisplayString)(e.ç­¾åˆ°ç³»ç»Ÿ.è¿ç»­ç­¾åˆ°å¤©æ•°)+' â†’ '+(0,c.toDisplayString)(e.ç­¾åˆ°ç³»ç»Ÿ.è¿ç»­ç­¾åˆ°å¤©æ•°+1)+' å¤©',1)]),(0,c.createElementVNode)('div',St,[l[16]||(l[16]=(0,c.createElementVNode)('span',{class:'preview-label'},'ç´¯è®¡ç­¾åˆ°',-1)),(0,c.createElementVNode)('span',Ct,(0,c.toDisplayString)(e.ç­¾åˆ°ç³»ç»Ÿ.ç´¯è®¡ç­¾åˆ°å¤©æ•°)+' â†’ '+(0,c.toDisplayString)(e.ç­¾åˆ°ç³»ç»Ÿ.ç´¯è®¡ç­¾åˆ°å¤©æ•°+1)+' å¤©',1)])])]),(0,c.createElementVNode)('div',Bt,[(0,c.createElementVNode)('button',{class:'action-btn',onClick:l[1]||(l[1]=e=>o.value=!1)},'å–æ¶ˆ'),(0,c.createElementVNode)('button',{class:'action-btn primary',onClick:h},'ç¡®è®¤ç­¾åˆ°')])],64))])]),_:1},8,['visible']),(0,c.createVNode)(ye,{visible:(0,c.unref)(m),title:'ä¿®æ”¹å™¨è­¦å‘Š',onClose:l[4]||(l[4]=e=>m.value=!1)},{default:(0,c.withCtx)(()=>[(0,c.createElementVNode)('div',zt,[l[18]||(l[18]=(0,c.createElementVNode)('div',{class:'warning-title'},'è¯·è°¨æ…ä½¿ç”¨èµ„æºä¿®æ”¹å™¨',-1)),l[19]||(l[19]=(0,c.createElementVNode)('ul',{class:'warning-list'},[(0,c.createElementVNode)('li',null,'æ­¤åŠŸèƒ½å¯èƒ½ä½¿æ¸¸æˆå¤±å»ä¹è¶£ï¼Œå»ºè®®ä»…åœ¨å˜é‡æ›´æ–°é”™è¯¯æ—¶ä½¿ç”¨ã€‚'),(0,c.createElementVNode)('li',null,'æ•°å€¼æ›´æ”¹å¯èƒ½å¶å°”å¤±çµï¼Œå»ºè®®æ…¢ä¸€ç‚¹ç‚¹å‡»ï¼Œé¿å…å†™å…¥è¢«è¦†ç›–ã€‚')],-1)),(0,c.createElementVNode)('div',Mt,[(0,c.createElementVNode)('button',{class:'action-btn',onClick:l[3]||(l[3]=e=>m.value=!1)},'å–æ¶ˆ'),(0,c.createElementVNode)('button',{class:'action-btn primary',onClick:f},'æ— è§†é£é™©ç»§ç»­å®‰è£…ï¼ˆé›¾ï¼‰')])])]),_:1},8,['visible']),(0,c.createVNode)(Te,{visible:(0,c.unref)(p),'onUpdate:visible':l[5]||(l[5]=e=>(0,c.isRef)(p)?p.value=e:null)},null,8,['visible'])],512))}}),qt=(0,ue.A)($t,[['__scopeId','data-v-1a020dde']]),_t={class:'tab-nav'},Lt=['onClick'],Dt=(0,c.defineComponent)({__name:'TabNav',props:{tabs:{},modelValue:{}},emits:['update:modelValue'],setup(e,{emit:t}){const a=t;return(t,n)=>((0,c.openBlock)(),(0,c.createElementBlock)('div',_t,[((0,c.openBlock)(!0),(0,c.createElementBlock)(c.Fragment,null,(0,c.renderList)(e.tabs,t=>((0,c.openBlock)(),(0,c.createElementBlock)('button',{key:t.key,class:(0,c.normalizeClass)(['tab-btn',{active:e.modelValue===t.key}]),onClick:e=>{return n=t.key,void a('update:modelValue',n);var n}},(0,c.toDisplayString)(t.label),11,Lt))),128))]))}}),Tt=(0,ue.A)(Dt,[['__scopeId','data-v-1e76600e']]),jt={class:'alert-content'},At={class:'alert-level'},Pt={class:'alert-text'},Ot={key:0,class:'alert-banner status'},Rt={class:'alert-content'},It={class:'alert-text'},Ft=(0,c.defineComponent)({__name:'AlertBanner',props:{å±æœºè­¦æŠ¥:{},å±æœºç­‰çº§:{},çŠ¶æ€é¢„è­¦:{}},setup(e){const t=e,a=(0,c.computed)(()=>({æ— :'',ä½:'low',ä¸­:'medium',é«˜:'high',ç´§æ€¥:'critical'}[t.å±æœºç­‰çº§]||'')),n=(0,c.computed)(()=>'æ— '!==t.å±æœºç­‰çº§&&t.å±æœºè­¦æŠ¥),l=(0,c.computed)(()=>(t.çŠ¶æ€é¢„è­¦??[]).length>0);return(t,r)=>((0,c.openBlock)(),(0,c.createElementBlock)(c.Fragment,null,[(0,c.createVNode)(c.Transition,{name:'slide'},{default:(0,c.withCtx)(()=>[(0,c.unref)(n)?((0,c.openBlock)(),(0,c.createElementBlock)('div',{key:0,class:(0,c.normalizeClass)(['alert-banner',(0,c.unref)(a)])},[r[0]||(r[0]=(0,c.createElementVNode)('div',{class:'alert-icon'},'âš ',-1)),(0,c.createElementVNode)('div',jt,[(0,c.createElementVNode)('span',At,'['+(0,c.toDisplayString)(e.å±æœºç­‰çº§)+']',1),(0,c.createElementVNode)('span',Pt,(0,c.toDisplayString)(e.å±æœºè­¦æŠ¥),1)]),r[1]||(r[1]=(0,c.createElementVNode)('div',{class:'alert-icon'},'âš ',-1))],2)):(0,c.createCommentVNode)('v-if',!0)]),_:1}),(0,c.createVNode)(c.Transition,{name:'slide'},{default:(0,c.withCtx)(()=>[(0,c.unref)(l)?((0,c.openBlock)(),(0,c.createElementBlock)('div',Ot,[r[3]||(r[3]=(0,c.createElementVNode)('div',{class:'alert-icon'},'â—',-1)),(0,c.createElementVNode)('div',Rt,[r[2]||(r[2]=(0,c.createElementVNode)('span',{class:'alert-level'},'[çŠ¶æ€]',-1)),(0,c.createElementVNode)('span',It,(0,c.toDisplayString)((e.çŠ¶æ€é¢„è­¦??[]).join(' / ')),1)]),r[4]||(r[4]=(0,c.createElementVNode)('div',{class:'alert-icon'},'â—',-1))])):(0,c.createCommentVNode)('v-if',!0)]),_:1})],64))}}),Ut=(0,ue.A)(Ft,[['__scopeId','data-v-3fa06a3d']]),Ht={class:'shelter-overview'},Xt={class:'overview-grid'},Yt={class:'pixel-card env-card'},Wt={class:'pixel-card-body'},Gt={class:'env-main'},Kt={class:'temp-display'},Zt={class:'temp-feel'},Jt={class:'env-details'},Qt={class:'env-row'},ea={class:'env-value'},ta={class:'env-row'},aa={class:'env-value'},na={class:'env-row'},la={class:'env-value'},ra={class:'env-row'},oa={class:'env-footer'},ca={class:'time-info'},sa={class:'pixel-card heating-card'},ia={class:'pixel-card-body'},da={class:'heating-stats'},ua={class:'stat-item'},pa={class:'stat-value'},ma={class:'stat-item'},va={class:'stat-value'},fa={class:'stat-item'},ya={class:'stat-item'},ha={class:'stat-value danger'},ka={class:'stat-item sub'},ga={class:'stat-value'},ba=(0,c.defineComponent)({__name:'ShelterOverview',props:{ç¯å¢ƒ:{},é¿éš¾æ‰€:{},prevç¯å¢ƒ:{},prevèµ„æº:{},preväººå£:{}},setup(e){const t=e;const a=(0,c.computed)(()=>{const e=t.ç¯å¢ƒ.å½“å‰æ¸©åº¦;return e<=-50||e<=-40?'var(--c-danger)':e<=-30?'var(--c-accent)':e<=-20?'var(--c-text)':'var(--c-success)'}),n=(0,c.computed)(()=>{const e=t.ç¯å¢ƒ.å½“å‰æ¸©åº¦é˜¶æ®µ;return'ç»å¢ƒæ—¥'===e?'critical':'æå¯’æ—¥'===e?'danger':'ä¸¥å¯’æ—¥'===e?'warning':''}),l=(0,c.computed)(()=>{const e=t.é¿éš¾æ‰€.æ¸©åº¦ç³»ç»Ÿ.å‘ç”µæœºçŠ¶æ€;return'è¿‡è½½'===e||'æŸå'===e?'danger':'åœæœº'===e?'warning':'success'}),r=(0,c.computed)(()=>{const e=t.é¿éš¾æ‰€.æ¸©åº¦ç³»ç»Ÿ.ä¾›æš–æ¨¡å¼;return'è¿‡è½½'===e?'danger':'èŠ‚èƒ½'===e?'warning':'success'});function o(e){return e<=1||2===e?0:3===e?1:4===e?2:3}(0,c.computed)(()=>{const e=o(Math.max(0,Math.min(t.é¿éš¾æ‰€.æ¸©åº¦ç³»ç»Ÿ.å‘ç”µæœºç­‰çº§??0,5))),a=Number(t.ç¯å¢ƒ?.å½“å‰æ¸©åº¦??0),n=(l=1+(0-a)/80,r=1,c=2,Math.min(c,Math.max(r,l)));var l,r,c;return Math.round(e*n*10)/10});const s=(0,c.computed)(()=>24),i=(0,c.computed)(()=>o(Math.max(0,Math.min(t.é¿éš¾æ‰€.æ¸©åº¦ç³»ç»Ÿ.å‘ç”µæœºç­‰çº§??0,5))));return(t,o)=>((0,c.openBlock)(),(0,c.createElementBlock)('div',Ht,[(0,c.createElementVNode)('div',Xt,[(0,c.createElementVNode)('div',Yt,[o[5]||(o[5]=(0,c.createElementVNode)('div',{class:'pixel-card-header'},[(0,c.createElementVNode)('div',{class:'header-icon'},'ğŸŒ¡'),(0,c.createTextVNode)(' ç¯å¢ƒçŠ¶æ€ ')],-1)),(0,c.createElementVNode)('div',Wt,[(0,c.createElementVNode)('div',Gt,[(0,c.createElementVNode)('div',Kt,[(0,c.createVNode)(pe,{value:e.ç¯å¢ƒ.å½“å‰æ¸©åº¦,'prev-value':e.prevç¯å¢ƒ?.å½“å‰æ¸©åº¦,format:'temp',class:'temp-value',style:(0,c.normalizeStyle)({color:(0,c.unref)(a)}),'show-delta':''},null,8,['value','prev-value','style']),(0,c.createElementVNode)('div',Zt,[o[0]||(o[0]=(0,c.createTextVNode)(' ä½“æ„Ÿ ',-1)),(0,c.createVNode)(pe,{value:e.ç¯å¢ƒ.ä½“æ„Ÿæ¸©åº¦,'prev-value':e.prevç¯å¢ƒ?.ä½“æ„Ÿæ¸©åº¦,format:'temp'},null,8,['value','prev-value'])])]),(0,c.createElementVNode)('div',Jt,[(0,c.createElementVNode)('div',Qt,[o[1]||(o[1]=(0,c.createElementVNode)('span',{class:'env-label'},'å¤©æ°”',-1)),(0,c.createElementVNode)('span',ea,(0,c.toDisplayString)(e.ç¯å¢ƒ.å¤©æ°”çŠ¶æ€),1)]),(0,c.createElementVNode)('div',ta,[o[2]||(o[2]=(0,c.createElementVNode)('span',{class:'env-label'},'é£é€Ÿ',-1)),(0,c.createElementVNode)('span',aa,(0,c.toDisplayString)(e.ç¯å¢ƒ.é£é€Ÿç­‰çº§),1)]),(0,c.createElementVNode)('div',na,[o[3]||(o[3]=(0,c.createElementVNode)('span',{class:'env-label'},'èƒ½è§åº¦',-1)),(0,c.createElementVNode)('span',la,(0,c.toDisplayString)(e.ç¯å¢ƒ.èƒ½è§åº¦),1)]),(0,c.createElementVNode)('div',ra,[o[4]||(o[4]=(0,c.createElementVNode)('span',{class:'env-label'},'è¾å°„',-1)),(0,c.createElementVNode)('span',{class:(0,c.normalizeClass)(['env-value',e.ç¯å¢ƒ.è¾å°„ç­‰çº§>=5?'danger':''])},'Lv.'+(0,c.toDisplayString)(e.ç¯å¢ƒ.è¾å°„ç­‰çº§),3)])])]),(0,c.createElementVNode)('div',oa,[(0,c.createElementVNode)('span',{class:(0,c.normalizeClass)(['pixel-tag sm',(0,c.unref)(n)])},(0,c.toDisplayString)(e.ç¯å¢ƒ.å½“å‰æ¸©åº¦é˜¶æ®µ),3),(0,c.createElementVNode)('span',ca,(0,c.toDisplayString)(e.ç¯å¢ƒ.æ˜¯å¦å¤œé—´?'ğŸŒ™':'â˜€')+' '+(0,c.toDisplayString)(e.ç¯å¢ƒ.å½“å‰æ—¶é—´),1)])])]),(0,c.createElementVNode)('div',sa,[o[11]||(o[11]=(0,c.createElementVNode)('div',{class:'pixel-card-header'},[(0,c.createElementVNode)('div',{class:'header-icon'},'âš¡'),(0,c.createTextVNode)(' æ¸©åº¦ç³»ç»Ÿ ')],-1)),(0,c.createElementVNode)('div',ia,[(0,c.createElementVNode)('div',da,[(0,c.createElementVNode)('div',ua,[o[6]||(o[6]=(0,c.createElementVNode)('span',{class:'stat-label'},'å‘ç”µæœº',-1)),(0,c.createElementVNode)('span',{class:(0,c.normalizeClass)(['pixel-tag sm',(0,c.unref)(l)])},(0,c.toDisplayString)(e.é¿éš¾æ‰€.æ¸©åº¦ç³»ç»Ÿ.å‘ç”µæœºçŠ¶æ€),3),(0,c.createElementVNode)('span',pa,'Lv.'+(0,c.toDisplayString)(e.é¿éš¾æ‰€.æ¸©åº¦ç³»ç»Ÿ.å‘ç”µæœºç­‰çº§),1)]),(0,c.createElementVNode)('div',ma,[o[7]||(o[7]=(0,c.createElementVNode)('span',{class:'stat-label'},'æ¸©åº¦ç­‰çº§',-1)),(0,c.createElementVNode)('span',va,'Lv.'+(0,c.toDisplayString)(e.é¿éš¾æ‰€.æ¸©åº¦ç³»ç»Ÿ.æ¸©åº¦ç­‰çº§),1)]),(0,c.createElementVNode)('div',fa,[o[8]||(o[8]=(0,c.createElementVNode)('span',{class:'stat-label'},'ä¾›æš–æ¨¡å¼',-1)),(0,c.createElementVNode)('span',{class:(0,c.normalizeClass)(['pixel-tag sm',(0,c.unref)(r)])},(0,c.toDisplayString)(e.é¿éš¾æ‰€.æ¸©åº¦ç³»ç»Ÿ.ä¾›æš–æ¨¡å¼),3)]),(0,c.createElementVNode)('div',ya,[o[9]||(o[9]=(0,c.createElementVNode)('span',{class:'stat-label'},'åŸºç¡€æ—¥è€—',-1)),(0,c.createElementVNode)('span',ha,(0,c.toDisplayString)((0,c.unref)(s))+'/æ—¥',1)]),(0,c.createElementVNode)('div',ka,[o[10]||(o[10]=(0,c.createElementVNode)('span',{class:'stat-label'},'å‘ç”µæœºåŸºæ•°',-1)),(0,c.createElementVNode)('span',ga,(0,c.toDisplayString)((0,c.unref)(i))+'/h',1)])])])])])]))}}),Ea=(0,ue.A)(ba,[['__scopeId','data-v-84bc4a38']]);function Va(e){const t=(0,c.ref)(!1);let a=null,n=null;function r(){a&&(a.revert(),a=null),t.value=!1;const n=e.containerEl.value;n&&(n.innerHTML='',n.style.display='none')}return(0,c.onUnmounted)(()=>{a&&a.revert()}),{play:async function(o){if(t.value)return;t.value=!0,await(0,c.nextTick)();const s=e.containerEl.value;if(s)return s.innerHTML=function(e){return`\n      <div class="build-scene">\n        <div class="build-sky"></div>\n        <div class="build-snow-layer">\n          ${Array.from({length:20},(_,e)=>`<div class="snow-particle sp-${e}"></div>`).join('')}\n        </div>\n        <div class="build-ground"></div>\n        <div class="build-blueprint">\n          <div class="blueprint-grid"></div>\n          <div class="blueprint-glow"></div>\n        </div>\n        <div class="crane">\n          <div class="crane-tower"></div>\n          <div class="crane-arm"></div>\n          <div class="crane-hook"></div>\n        </div>\n        <div class="scaffold-frame">\n          <div class="scaffold-pole left"></div>\n          <div class="scaffold-pole right"></div>\n          <div class="scaffold-beam top"></div>\n          <div class="scaffold-beam mid"></div>\n        </div>\n        <div class="building-outline"></div>\n        <div class="build-blocks">\n          <div class="build-block block-1"></div>\n          <div class="build-block block-2"></div>\n          <div class="build-block block-3"></div>\n        </div>\n        <div class="build-sweep"></div>\n        <div class="worker worker-1">\n          <div class="worker-body"></div>\n          <div class="worker-head"></div>\n          <div class="worker-arm"></div>\n        </div>\n        <div class="worker worker-2">\n          <div class="worker-body"></div>\n          <div class="worker-head"></div>\n          <div class="worker-arm"></div>\n        </div>\n        <div class="weld-sparks">\n          ${Array.from({length:8},(_,e)=>`<div class="weld-spark ws-${e}"></div>`).join('')}\n        </div>\n        <div class="weld-glow"></div>\n        <div class="build-header">\n          <span class="build-icon">ğŸ—ï¸</span>\n          <span class="build-name">${e}</span>\n        </div>\n        <div class="build-footer">\n          <div class="build-progress-bar">\n            <div class="build-progress-fill"></div>\n          </div>\n          <div class="build-status">å»ºé€ ä¸­<span class="dots"></span></div>\n        </div>\n      </div>\n    `}(o),s.style.display='flex',new Promise(e=>{n=e,a=l.context(()=>{const t=s.querySelector('.build-scene'),a=s.querySelectorAll('.snow-particle'),n=s.querySelector('.build-blueprint'),o=s.querySelector('.blueprint-grid'),c=s.querySelector('.blueprint-glow'),i=s.querySelector('.crane'),d=s.querySelector('.crane-arm'),u=s.querySelector('.crane-hook'),p=s.querySelector('.scaffold-frame'),m=s.querySelector('.building-outline'),v=s.querySelectorAll('.build-block'),f=s.querySelector('.build-sweep'),y=s.querySelectorAll('.worker'),h=s.querySelectorAll('.weld-spark'),k=s.querySelector('.weld-glow'),g=s.querySelector('.build-header'),b=s.querySelector('.build-footer'),E=s.querySelector('.build-progress-fill'),V=s.querySelector('.dots');l.set(t,{opacity:0}),l.set(n,{opacity:0}),l.set(o,{opacity:0}),l.set(c,{opacity:0}),l.set(i,{opacity:0,y:10}),l.set(d,{rotation:-12,transformOrigin:'10% 90%'}),l.set(u,{y:-8}),l.set(p,{opacity:0,scaleY:0,transformOrigin:'bottom center'}),l.set(m,{opacity:0,scaleY:0,transformOrigin:'bottom center'}),l.set(v,{opacity:0,y:8,scale:.8}),l.set(f,{opacity:0,x:-50}),l.set(y,{opacity:0,y:20}),l.set(h,{opacity:0,scale:0}),l.set(k,{opacity:0}),l.set(g,{opacity:0,y:-10}),l.set(b,{opacity:0,y:10}),l.set(E,{scaleX:0,transformOrigin:'left center'});const N=l.timeline({onComplete:()=>{r(),e()}});N.to(t,{opacity:1,duration:.3}),a.forEach((e,t)=>{const a=100*Math.random(),n=-10-20*Math.random(),r=30*(Math.random()-.5),o=2+1.5*Math.random(),c=2*Math.random();l.set(e,{left:`${a}%`,top:`${n}%`,opacity:.6+.4*Math.random()}),l.to(e,{top:'110%',left:`+=${r}`,duration:o,delay:c,repeat:-1,ease:'none'})}),N.to(g,{opacity:1,y:0,duration:.3},.2),N.to(b,{opacity:1,y:0,duration:.3},.3),N.to(n,{opacity:1,duration:.3},.35),N.to(o,{opacity:.5,duration:.4},.4),N.to(c,{opacity:.5,duration:.4},.5),N.to(i,{opacity:1,y:0,duration:.4,ease:'power2.out'},.45),N.to(p,{opacity:1,scaleY:1,duration:.5,ease:'power2.out'},.4),N.to(y,{opacity:1,y:0,duration:.3,stagger:.15},.6),l.to(d,{rotation:10,duration:1.4,yoyo:!0,repeat:-1,ease:'sine.inOut'}),l.to(u,{y:6,duration:.8,yoyo:!0,repeat:-1,ease:'sine.inOut'}),l.to(o,{opacity:.3,duration:1,yoyo:!0,repeat:-1,ease:'sine.inOut'});s.querySelectorAll('.worker-arm').forEach((e,t)=>{l.to(e,{rotation:0===t?25:-25,duration:.3,repeat:-1,yoyo:!0,ease:'power1.inOut',delay:.15*t})});const w=l.timeline({repeat:-1,repeatDelay:.3});h.forEach((e,t)=>{const a=t/8*Math.PI*2,n=15+10*Math.random();w.set(e,{opacity:1,scale:1,x:0,y:0},0),w.to(e,{x:Math.cos(a)*n,y:Math.sin(a)*n,opacity:0,scale:0,duration:.4,ease:'power2.out'},0)}),w.to(k,{opacity:.8,duration:.1},0),w.to(k,{opacity:0,duration:.3},.1),N.to(m,{opacity:.3,scaleY:.3,duration:.8,ease:'power1.out'},1),N.to(E,{scaleX:.33,duration:.8,ease:'power1.out'},1),N.to(v[0],{opacity:1,y:0,scale:1,duration:.3,ease:'back.out(1.4)'},1.1),N.to(f,{opacity:.6,x:40,duration:.4,ease:'power2.out'},1.15),N.to(f,{opacity:0,x:70,duration:.3,ease:'power2.in'},1.5),N.to(m,{opacity:.6,scaleY:.6,duration:.8,ease:'power1.out'},1.8),N.to(E,{scaleX:.66,duration:.8,ease:'power1.out'},1.8),N.to(v[1],{opacity:1,y:0,scale:1,duration:.3,ease:'back.out(1.4)'},1.9),N.to(f,{opacity:.6,x:40,duration:.4,ease:'power2.out'},2),N.to(f,{opacity:0,x:70,duration:.3,ease:'power2.in'},2.35),N.to(m,{opacity:1,scaleY:1,duration:.8,ease:'power2.out'},2.6),N.to(E,{scaleX:1,duration:.8,ease:'power1.out'},2.6),N.to(v[2],{opacity:1,y:0,scale:1,duration:.3,ease:'back.out(1.4)'},2.7),N.to(f,{opacity:.6,x:40,duration:.4,ease:'power2.out'},2.75),N.to(f,{opacity:0,x:70,duration:.3,ease:'power2.in'},3.1);const x=l.timeline({repeat:-1});x.to(V,{text:'.',duration:.3}),x.to(V,{text:'..',duration:.3}),x.to(V,{text:'...',duration:.3}),N.call(()=>{V&&(V.textContent='');const e=s.querySelector('.build-status');e&&(e.textContent='å»ºé€ å®Œæˆï¼')},[],3.4),N.to(m,{boxShadow:'0 0 30px rgba(140, 200, 230, 0.8), inset 0 0 20px rgba(140, 200, 230, 0.3)',duration:.3},3.5),N.to(p,{opacity:0,duration:.4},3.6),N.to(t,{opacity:0,duration:.4},4)},s)});t.value=!1},skip:function(){t.value&&(r(),n&&(n(),n=null))},isPlaying:t}}function Na(e){const t=(0,c.ref)(!1);let a=null,n=null;function r(){a&&(a.revert(),a=null),t.value=!1;const n=e.containerEl.value;n&&(n.innerHTML='',n.style.display='none')}return(0,c.onUnmounted)(()=>{a&&a.revert()}),{play:async function(o){if(t.value)return;t.value=!0,await(0,c.nextTick)();const s=e.containerEl.value;if(s)return s.innerHTML=function(e){return`\n      <div class="repair-scene">\n        <div class="repair-bg"></div>\n        <div class="repair-grid">\n          ${Array.from({length:10},(_,e)=>`<div class="repair-line rl-${e}"></div>`).join('')}\n        </div>\n        <div class="repair-icon">ğŸ”§</div>\n        <div class="repair-panel">\n          <div class="panel-plate"></div>\n          <div class="panel-crack"></div>\n          <div class="panel-patch patch-1"></div>\n          <div class="panel-patch patch-2"></div>\n          <div class="bolt bolt-1"></div>\n          <div class="bolt bolt-2"></div>\n          <div class="bolt bolt-3"></div>\n          <div class="bolt bolt-4"></div>\n        </div>\n        <div class="repair-tool">\n          <div class="tool-handle"></div>\n          <div class="tool-head"></div>\n        </div>\n        <div class="repair-sparks">\n          ${Array.from({length:10},(_,e)=>`<div class="repair-spark rs-${e}"></div>`).join('')}\n        </div>\n        <div class="repair-dust">\n          ${Array.from({length:6},(_,e)=>`<div class="dust d-${e}"></div>`).join('')}\n        </div>\n        <div class="repair-header">\n          <span class="repair-title">${e}</span>\n        </div>\n        <div class="repair-footer">\n          <div class="repair-progress-bar">\n            <div class="repair-progress-fill"></div>\n          </div>\n          <div class="repair-status">ä¿®å¤ä¸­<span class="dots"></span></div>\n        </div>\n      </div>\n    `}(o),s.style.display='flex',new Promise(e=>{n=e,a=l.context(()=>{const t=s.querySelector('.repair-scene'),a=s.querySelectorAll('.repair-line'),n=s.querySelector('.repair-icon'),o=s.querySelector('.repair-panel'),c=s.querySelector('.panel-crack'),i=s.querySelectorAll('.panel-patch'),d=s.querySelectorAll('.bolt'),u=s.querySelector('.repair-tool'),p=s.querySelectorAll('.repair-spark'),m=s.querySelectorAll('.dust'),v=s.querySelector('.repair-header'),f=s.querySelector('.repair-footer'),y=s.querySelector('.repair-progress-fill'),h=s.querySelector('.dots');l.set(t,{opacity:0}),l.set(a,{opacity:0,scaleX:0}),l.set(n,{opacity:0,scale:.6}),l.set(o,{opacity:0,scale:.9}),l.set(c,{opacity:.9}),l.set(i,{opacity:0,scale:.6}),l.set(d,{opacity:.6}),l.set(u,{opacity:0,scale:.8,rotation:-20,transformOrigin:'20% 80%'}),l.set(p,{opacity:0,scale:0}),l.set(m,{opacity:0,scale:.6}),l.set(v,{opacity:0,y:-10}),l.set(f,{opacity:0,y:10}),l.set(y,{scaleX:0,transformOrigin:'left center'});const k=l.timeline({onComplete:()=>{r(),e()}});k.to(t,{opacity:1,duration:.3}),k.to(v,{opacity:1,y:0,duration:.3},.2),k.to(f,{opacity:1,y:0,duration:.3},.3),a.forEach((e,t)=>{k.to(e,{opacity:.25,scaleX:1,duration:.2,ease:'power2.out'},.2+.03*t)}),k.to(n,{opacity:.8,scale:1,duration:.3,ease:'back.out(1.2)'},.45),k.to(o,{opacity:1,scale:1,duration:.3,ease:'power2.out'},.5),k.to(u,{opacity:1,scale:1,duration:.3},.5);const g=(e,t,a)=>{k.to(u,{rotation:-38,x:-8,duration:.12,ease:'power2.out'},e),k.to(u,{rotation:18,x:6,duration:.12,ease:'power4.in'},e+.12),k.to(u,{rotation:-12,x:0,duration:.18,ease:'power2.out'},e+.24),k.to(o,{x:1.5,y:-1,duration:.05,ease:'power1.out'},e+.12),k.to(o,{x:0,y:0,duration:.08,ease:'power1.out'},e+.18),k.to(y,{scaleX:t,duration:.35,ease:'power1.out'},e+.05),k.to(c,{opacity:Math.max(.2,.9-t)},e+.05),i[a]&&k.to(i[a],{opacity:1,scale:1,duration:.2,ease:'back.out(2)'},e+.08),k.to(d,{opacity:1,duration:.2},e+.05),k.to(d,{opacity:.6,duration:.2},e+.35),(e=>{k.add(()=>{p.forEach((e,t)=>{const a=t/p.length*Math.PI*2+.4*Math.random(),n=16+12*Math.random();l.set(e,{opacity:1,scale:1,x:0,y:0}),l.to(e,{x:Math.cos(a)*n,y:Math.sin(a)*n,opacity:0,scale:0,duration:.35,ease:'power2.out'})}),m.forEach((e,t)=>{const a=20*(Math.random()-.5),n=-6-10*Math.random();l.set(e,{opacity:.6,scale:.6,x:0,y:0}),l.to(e,{opacity:0,scale:1.4,x:a,y:n,duration:.5,ease:'power2.out'})})},[],e)})(e+.12)};g(.85,.35,0),g(1.55,.7,1),g(2.25,1,1);const b=l.timeline({repeat:-1});b.to(h,{text:'.',duration:.3}),b.to(h,{text:'..',duration:.3}),b.to(h,{text:'...',duration:.3}),k.call(()=>{h&&(h.textContent='');const e=s.querySelector('.repair-status');e&&(e.textContent='ä¿®å¤å®Œæˆï¼')},[],2.6),k.to(t,{opacity:0,duration:.4},3)},s)});t.value=!1},skip:function(){t.value&&(r(),n&&(n(),n=null))},isPlaying:t}}const wa={class:'facility-panel'},xa={class:'tree-pager'},Sa=['disabled'],Ca={class:'pager-text'},Ba=['disabled'],za={key:0,class:'pixel-card'},Ma={class:'pixel-card-header'},$a={class:'fac-filter'},qa={class:'pixel-card-body'},_a={class:'facility-grid'},La=['onClick'],Da={class:'fac-header'},Ta={class:'fac-name'},ja={class:'fac-bars'},Aa={class:'bar-row'},Pa={class:'bar-row'},Oa={key:1,class:'pixel-card locked-card'},Ra={class:'pixel-card-body'},Ia={class:'locked-grid'},Fa=['onClick'],Ua={key:0,class:'facility-detail'},Ha={class:'detail-row'},Xa={key:0,class:'detail-row wrap'},Ya={class:'detail-row wrap'},Wa={class:'detail-desc'},Ga={key:0},Ka={key:1},Za={class:'detail-row wrap'},Ja={class:'detail-desc'},Qa={key:1,class:'detail-row wrap'},en={key:2,class:'detail-row wrap'},tn={class:'level-list'},an={class:'level-tag'},nn={class:'level-text'},ln=['disabled'],rn={key:0,class:'cost-hint'},on={key:1,class:'facility-detail'},cn={class:'detail-row'},sn={class:'detail-value'},dn={class:'detail-row'},un={class:'detail-row wrap'},pn={class:'detail-desc'},mn={key:0,class:'detail-row wrap'},vn={class:'level-list'},fn={class:'level-tag'},yn={class:'level-text'},hn={class:'detail-row'},kn={class:'pixel-bar',style:{flex:'1'}},gn={class:'detail-num'},bn={class:'detail-row'},En={class:'pixel-bar',style:{flex:'1'}},Vn={class:'detail-num'},Nn={class:'detail-row'},wn={class:'detail-value'},xn={class:'detail-row wrap'},Sn={class:'detail-desc'},Cn={key:0},Bn={key:1},zn={class:'action-btns'},Mn=['disabled'],$n={key:0,class:'cost-hint'},qn=['disabled'],_n={key:0,class:'cost-hint'},Ln=['disabled'],Dn={key:0,class:'cost-hint'},Tn={class:'stop-sparks'},jn=(0,c.defineComponent)({__name:'FacilityPanel',props:{è®¾æ–½:{},èµ„æº:{}},setup(e,{expose:t}){const a=e,n=(0,c.computed)(()=>Qe(a.èµ„æº)),r=oe(),o=(0,c.ref)('all'),s=new Set(['æŸå','åœæœº','å»ºé€ ä¸­']),i=new Intl.Collator('zh-Hans-CN',{usage:'sort',sensitivity:'base'});function d([e],[t]){return i.compare(e,t)}const u=(0,c.computed)(()=>Object.entries(a.è®¾æ–½).filter(([_,e])=>'æœªè§£é”'!==e.çŠ¶æ€||e.ç­‰çº§>0).sort(d)),p=(0,c.computed)(()=>Object.entries(a.è®¾æ–½).filter(([_,e])=>'æœªè§£é”'===e.çŠ¶æ€&&e.ç­‰çº§<=0).sort(d)),m=(0,c.computed)(()=>{if('issues'===o.value){const e=u.value.filter(([_,e])=>s.has(e.çŠ¶æ€));return e.length?e:u.value}return u.value}),v=(0,c.ref)(0),f=(0,c.computed)(()=>p.value.length?2:1),y=(0,c.computed)(()=>0===v.value?'built':'locked');(0,c.watchEffect)(()=>{v.value>=f.value&&(v.value=0)});const h=(0,c.ref)(!1),k=(0,c.ref)(null),g=(0,c.ref)(!1),b=((0,c.ref)(),(0,c.ref)(),(0,c.ref)(),(0,c.ref)(),(0,c.ref)(),(0,c.ref)(!1)),E=(0,c.ref)(!1),V=(0,c.ref)(),N=(0,c.ref)(),w=(0,c.ref)(),x=(0,c.ref)(),S=(0,c.ref)(),C=function(e){const t=(0,c.ref)(!1);let a=null,n=null;function r(){a&&(a.revert(),a=null),t.value=!1;const n=e.containerEl.value;n&&(n.innerHTML='',n.style.display='none')}return(0,c.onUnmounted)(()=>{a&&a.revert()}),{play:async function(o,s,i){if(t.value)return;t.value=!0,await(0,c.nextTick)();const d=e.containerEl.value;if(d)return d.innerHTML=function(e,t,a){return`\n      <div class="upgrade-scene">\n        <div class="upgrade-bg"></div>\n        <div class="upgrade-workshop">\n          <div class="workshop-frame"></div>\n          <div class="gear-set">\n            <div class="gear gear-lg"></div>\n            <div class="gear gear-sm"></div>\n          </div>\n          <div class="piston">\n            <div class="piston-head"></div>\n            <div class="piston-rod"></div>\n          </div>\n          <div class="belt"></div>\n          <div class="gauge">\n            <div class="gauge-face"></div>\n            <div class="gauge-needle"></div>\n          </div>\n          <div class="bolt b1"></div>\n          <div class="bolt b2"></div>\n          <div class="bolt b3"></div>\n          <div class="bolt b4"></div>\n        </div>\n        <div class="upgrade-header">\n          <span class="upgrade-icon">â¬†ï¸</span>\n          <span class="upgrade-name">${e}</span>\n        </div>\n        <div class="level-display">\n          <span class="level-from">Lv.${t}</span>\n          <span class="level-arrow">â†’</span>\n          <span class="level-to">Lv.${a}</span>\n        </div>\n        <div class="upgrade-footer">\n          <div class="upgrade-progress-bar">\n            <div class="upgrade-progress-fill"></div>\n          </div>\n          <div class="upgrade-status">å‡çº§ä¸­<span class="dots"></span></div>\n        </div>\n      </div>\n    `}(o,s,i),d.style.display='flex',new Promise(e=>{n=e,a=l.context(()=>{const t=d.querySelector('.upgrade-scene'),a=d.querySelector('.upgrade-workshop'),n=d.querySelector('.workshop-frame'),o=d.querySelectorAll('.gear'),c=d.querySelector('.piston'),s=d.querySelector('.belt'),i=d.querySelector('.gauge-needle'),u=d.querySelector('.level-display'),p=(d.querySelector('.level-from'),d.querySelector('.level-to')),m=d.querySelector('.upgrade-header'),v=d.querySelector('.upgrade-footer'),f=d.querySelector('.upgrade-progress-fill'),y=d.querySelector('.dots');l.set(t,{opacity:0}),l.set(a,{opacity:0,scale:.9}),l.set(n,{opacity:0}),l.set(o,{opacity:0,scale:.8}),l.set(c,{opacity:0,y:6}),l.set(s,{opacity:0}),l.set(i,{rotation:-40,transformOrigin:'10% 50%'}),l.set(u,{opacity:0,scale:.8}),l.set(p,{opacity:.3}),l.set(m,{opacity:0,y:-10}),l.set(v,{opacity:0,y:10}),l.set(f,{scaleX:0,transformOrigin:'left center'});const h=l.timeline({onComplete:()=>{r(),e()}});h.to(t,{opacity:1,duration:.3}),h.to(m,{opacity:1,y:0,duration:.3},.1),h.to(v,{opacity:1,y:0,duration:.3},.2),h.to(a,{opacity:1,scale:1,duration:.3},.35),h.to(n,{opacity:1,duration:.3},.4),h.to(o,{opacity:1,scale:1,duration:.3,ease:'back.out(1.2)'},.5),h.to(c,{opacity:1,y:0,duration:.2},.6),h.to(s,{opacity:1,duration:.2},.6),h.to(u,{opacity:1,scale:1,duration:.3},.7),l.to(o[0],{rotation:360,duration:1.6,repeat:-1,ease:'none'}),l.to(o[1],{rotation:-360,duration:1.2,repeat:-1,ease:'none'}),l.to(c,{y:10,duration:.28,repeat:-1,yoyo:!0,ease:'power1.inOut'}),l.to(s,{backgroundPositionX:'-120px',duration:1,repeat:-1,ease:'none'}),h.to(f,{scaleX:.5,duration:1,ease:'power1.out'},.9),h.to(i,{rotation:10,duration:.8,ease:'power1.out'},1),h.to(f,{scaleX:1,duration:1,ease:'power2.out'},1.9),h.to(i,{rotation:35,duration:.6,ease:'power2.out'},2.1),h.to(p,{opacity:1,scale:1.2,duration:.3,ease:'back.out(2)'},2.5),h.to(p,{scale:1,duration:.2},2.8);const k=l.timeline({repeat:-1});k.to(y,{text:'.',duration:.3}),k.to(y,{text:'..',duration:.3}),k.to(y,{text:'...',duration:.3}),h.call(()=>{y&&(y.textContent='');const e=d.querySelector('.upgrade-status');e&&(e.textContent='å‡çº§å®Œæˆï¼')},[],3),h.to(t,{opacity:0,duration:.4},3.4)},d)});t.value=!1},skip:function(){t.value&&(r(),n&&(n(),n=null))},isPlaying:t}}({containerEl:V}),B=Va({containerEl:N}),M=Na({containerEl:w}),q={å‘ç”µæœº:'âš¡',å®¿èˆ:'ğŸ›ï¸',ä»“åº“:'ğŸ“¦',å¨æˆ¿:'ğŸ²',æ¸©å®¤:'ğŸŒ¿',å‡€æ°´ç«™:'ğŸ’§',ç‡ƒæ–™ç²¾ç‚¼å‚:'â›½',ææ–™å›æ”¶ç«™:'ğŸ§±',åŒ»ç–—å®¤:'ğŸ©º',ç ”ç©¶å®¤:'ğŸ”¬',ç§‘ç ”å·¥åŠ:'ğŸ§ª',ç­æœ›å¡”:'ğŸ“¡',å›´å¢™:'ğŸ›¡ï¸',é™·é˜±åŒº:'ğŸª¤',æ­¦å™¨åº“:'ğŸ—¡ï¸'},L=new Set(['å¨æˆ¿','æ¸©å®¤','å‡€æ°´ç«™','ç‡ƒæ–™ç²¾ç‚¼å‚','ææ–™å›æ”¶ç«™','ç ”ç©¶å®¤','ç§‘ç ”å·¥åŠ']),D={å¨æˆ¿:[{branch:'å†œä¸šç§‘æŠ€',tech:'ç®€æ˜“ç§æ¤'}],æ¸©å®¤:[{branch:'å†œä¸šç§‘æŠ€',tech:'è‡ªåŠ¨çŒæº‰'}],åŒ»ç–—å®¤:[{branch:'åŒ»ç–—ç§‘æŠ€',tech:'æ€¥æ•‘çŸ¥è¯†'},{branch:'åŒ»ç–—ç§‘æŠ€',tech:'è‰è¯å­¦'},{branch:'åŒ»ç–—ç§‘æŠ€',tech:'æ¶ˆæ¯’æŠ€æœ¯'},{branch:'åŒ»ç–—ç§‘æŠ€',tech:'å¤–ç§‘æ‰‹æœ¯'},{branch:'åŒ»ç–—ç§‘æŠ€',tech:'ä¹‰è‚¢æŠ€æœ¯'}],ç ”ç©¶å®¤:[{branch:'å·¥ç¨‹ç§‘æŠ€',tech:'åŸºç¡€ç»´ä¿®'},{branch:'å·¥ç¨‹ç§‘æŠ€',tech:'å¼ºåŒ–ææ–™'},{branch:'å·¥ç¨‹ç§‘æŠ€',tech:'ç”µåŠ›ç³»ç»Ÿ'},{branch:'å·¥ç¨‹ç§‘æŠ€',tech:'è‡ªåŠ¨åŒ–'},{branch:'å·¥ç¨‹ç§‘æŠ€',tech:'æ¨¡å—æ‰©å±•'}],æ­¦å™¨åº“:[{branch:'æ­¦å™¨ç§‘æŠ€',tech:'ç®€æ˜“æ­¦å™¨'},{branch:'æ­¦å™¨ç§‘æŠ€',tech:'é”»é€ æŠ€æœ¯'},{branch:'æ­¦å™¨ç§‘æŠ€',tech:'å¼©å¼“åˆ¶ä½œ'},{branch:'æ­¦å™¨ç§‘æŠ€',tech:'æŠ¤ç”²é”»é€ '},{branch:'æ­¦å™¨ç§‘æŠ€',tech:'é™·é˜±å·¥è‰º'}]},T={4:{branch:'ç”Ÿå­˜ç§‘æŠ€',tech:'åœ°çƒ­åˆ©ç”¨'},5:{branch:'ç”Ÿå­˜ç§‘æŠ€',tech:'æ ¸å¿ƒç†”ç‚‰'}},j={å‘ç”µæœº:['Lv1 æ¸©åº¦ç­‰çº§=1ï¼Œç‡ƒæ–™æ¶ˆè€—åŸºæ•°0/å°æ—¶ã€‚','Lv2 æ¸©åº¦ç­‰çº§=2ï¼Œç‡ƒæ–™æ¶ˆè€—åŸºæ•°0/å°æ—¶ã€‚','Lv3 æ¸©åº¦ç­‰çº§=3ï¼Œç‡ƒæ–™æ¶ˆè€—åŸºæ•°1/å°æ—¶ã€‚','Lv4 æ¸©åº¦ç­‰çº§=4ï¼Œç‡ƒæ–™æ¶ˆè€—åŸºæ•°2/å°æ—¶ã€‚','Lv5 æ¸©åº¦ç­‰çº§=5ï¼Œç‡ƒæ–™æ¶ˆè€—åŸºæ•°3/å°æ—¶ã€‚'],å®¿èˆ:['Lv1 ç–²åŠ³æ¢å¤+10/æ—¥ï¼Œå¥åº·æ¢å¤+2/æ—¥ã€‚','Lv2 ç–²åŠ³æ¢å¤+20/æ—¥ï¼Œå¥åº·æ¢å¤+4/æ—¥ã€‚','Lv3 ç–²åŠ³æ¢å¤+30/æ—¥ï¼Œå¥åº·æ¢å¤+6/æ—¥ã€‚','Lv4 ç–²åŠ³æ¢å¤+40/æ—¥ï¼Œå¥åº·æ¢å¤+8/æ—¥ã€‚','Lv5 ç–²åŠ³æ¢å¤+50/æ—¥ï¼Œå¥åº·æ¢å¤+10/æ—¥ã€‚'],ä»“åº“:['Lv1 å„èµ„æºä¸Šé™=200ã€‚','Lv2 å„èµ„æºä¸Šé™=400ã€‚','Lv3 å„èµ„æºä¸Šé™=600ã€‚','Lv4 å„èµ„æºä¸Šé™=800ã€‚','Lv5 å„èµ„æºä¸Šé™=1000ã€‚'],å¨æˆ¿:['Lv1 é£Ÿç‰©æ¶ˆè€—-5%ã€‚','Lv2 é£Ÿç‰©æ¶ˆè€—-10%ã€‚','Lv3 é£Ÿç‰©æ¶ˆè€—-15%ã€‚','Lv4 é£Ÿç‰©æ¶ˆè€—-20%ã€‚','Lv5 é£Ÿç‰©æ¶ˆè€—-25%ã€‚'],æ¸©å®¤:['Lv1 é£Ÿç‰©äº§é‡+10/æ—¥ã€‚','Lv2 é£Ÿç‰©äº§é‡+20/æ—¥ã€‚','Lv3 é£Ÿç‰©äº§é‡+30/æ—¥ã€‚','Lv4 é£Ÿç‰©äº§é‡+40/æ—¥ã€‚','Lv5 é£Ÿç‰©äº§é‡+50/æ—¥ã€‚'],å‡€æ°´ç«™:['Lv1 å‡€æ°´äº§é‡+8/æ—¥ã€‚','Lv2 å‡€æ°´äº§é‡+16/æ—¥ã€‚','Lv3 å‡€æ°´äº§é‡+24/æ—¥ã€‚','Lv4 å‡€æ°´äº§é‡+32/æ—¥ã€‚','Lv5 å‡€æ°´äº§é‡+40/æ—¥ã€‚'],ç‡ƒæ–™ç²¾ç‚¼å‚:['Lv1 ç‡ƒæ–™äº§é‡+10/æ—¥ã€‚','Lv2 ç‡ƒæ–™äº§é‡+20/æ—¥ã€‚','Lv3 ç‡ƒæ–™äº§é‡+30/æ—¥ã€‚','Lv4 ç‡ƒæ–™äº§é‡+40/æ—¥ã€‚','Lv5 ç‡ƒæ–™äº§é‡+50/æ—¥ã€‚'],ææ–™å›æ”¶ç«™:['Lv1 ææ–™äº§é‡+6/æ—¥ã€‚','Lv2 ææ–™äº§é‡+12/æ—¥ã€‚','Lv3 ææ–™äº§é‡+18/æ—¥ã€‚','Lv4 ææ–™äº§é‡+24/æ—¥ã€‚','Lv5 ææ–™äº§é‡+30/æ—¥ã€‚'],åŒ»ç–—å®¤:['Lv1 å¥åº·æ¢å¤+8/æ—¥ã€‚','Lv2 å¥åº·æ¢å¤+16/æ—¥ã€‚','Lv3 å¥åº·æ¢å¤+24/æ—¥ã€‚','Lv4 å¥åº·æ¢å¤+32/æ—¥ã€‚','Lv5 å¥åº·æ¢å¤+40/æ—¥ã€‚'],ç ”ç©¶å®¤:['Lv1 ç§‘æŠ€ç‚¹+12/æ—¥ã€‚','Lv2 ç§‘æŠ€ç‚¹+16/æ—¥ã€‚','Lv3 ç§‘æŠ€ç‚¹+20/æ—¥ã€‚','Lv4 ç§‘æŠ€ç‚¹+24/æ—¥ã€‚','Lv5 ç§‘æŠ€ç‚¹+28/æ—¥ã€‚'],ç§‘ç ”å·¥åŠ:['Lv1 ç§‘æŠ€ç‚¹+1/æ—¥ã€‚','Lv2 ç§‘æŠ€ç‚¹+2/æ—¥ã€‚','Lv3 ç§‘æŠ€ç‚¹+3/æ—¥ã€‚','Lv4 ç§‘æŠ€ç‚¹+4/æ—¥ã€‚','Lv5 ç§‘æŠ€ç‚¹+5/æ—¥ã€‚'],ç­æœ›å¡”:['Lv1 æ¢ç´¢è¿›åº¦+1%ã€‚','Lv2 æ¢ç´¢è¿›åº¦+2%ã€‚','Lv3 æ¢ç´¢è¿›åº¦+3%ã€‚','Lv4 æ¢ç´¢è¿›åº¦+4%ã€‚','Lv5 æ¢ç´¢è¿›åº¦+5%ã€‚'],å›´å¢™:['Lv1 è®¾æ–½è€ä¹…æ¯æ—¥è¡°å‡-1ã€‚','Lv2 è®¾æ–½è€ä¹…æ¯æ—¥è¡°å‡-2ã€‚','Lv3 è®¾æ–½è€ä¹…æ¯æ—¥è¡°å‡-3ã€‚','Lv4 è®¾æ–½è€ä¹…æ¯æ—¥è¡°å‡-4ã€‚','Lv5 è®¾æ–½è€ä¹…æ¯æ—¥è¡°å‡-5ã€‚'],é™·é˜±åŒº:['Lv1 æ¢ç´¢å®Œæˆé¢å¤–ææ–™+1ã€‚','Lv2 æ¢ç´¢å®Œæˆé¢å¤–ææ–™+2ã€‚','Lv3 æ¢ç´¢å®Œæˆé¢å¤–ææ–™+3ã€‚','Lv4 æ¢ç´¢å®Œæˆé¢å¤–ææ–™+4ã€‚','Lv5 æ¢ç´¢å®Œæˆé¢å¤–ææ–™+5ã€‚'],æ­¦å™¨åº“:['Lv1 æ­¦å™¨é…ä»¶äº§é‡+4/æ—¥ã€‚','Lv2 æ­¦å™¨é…ä»¶äº§é‡+8/æ—¥ã€‚','Lv3 æ­¦å™¨é…ä»¶äº§é‡+12/æ—¥ã€‚','Lv4 æ­¦å™¨é…ä»¶äº§é‡+16/æ—¥ã€‚','Lv5 æ­¦å™¨é…ä»¶äº§é‡+20/æ—¥ã€‚']},A={å‘ç”µæœº:'æ¸©åº¦ç­‰çº§=å‘ç”µæœºç­‰çº§ï¼Œç‡ƒæ–™æ¶ˆè€—åŸºæ•°(Lv1~5)=0/0/1/2/3/å°æ—¶ã€‚',å®¿èˆ:'ç–²åŠ³æ¢å¤=ç­‰çº§Ã—10/æ—¥ï¼Œå¥åº·æ¢å¤=ç­‰çº§Ã—2/æ—¥ã€‚',ä»“åº“:'å„èµ„æºä¸Šé™=ç­‰çº§Ã—200ã€‚',å¨æˆ¿:'é£Ÿç‰©æ¶ˆè€—é™ä½=ç­‰çº§Ã—5%ã€‚',æ¸©å®¤:'é£Ÿç‰©äº§é‡=ç­‰çº§Ã—10/æ—¥ã€‚',å‡€æ°´ç«™:'å‡€æ°´äº§é‡=ç­‰çº§Ã—8/æ—¥ã€‚',ç‡ƒæ–™ç²¾ç‚¼å‚:'ç‡ƒæ–™äº§é‡=ç­‰çº§Ã—10/æ—¥ã€‚',ææ–™å›æ”¶ç«™:'ææ–™äº§é‡=ç­‰çº§Ã—6/æ—¥ã€‚',åŒ»ç–—å®¤:'å¥åº·æ¢å¤=ç­‰çº§Ã—8/æ—¥ã€‚',ç ”ç©¶å®¤:'ç§‘æŠ€ç‚¹äº§å‡º=12/æ—¥+(ç­‰çº§-1)Ã—4/æ—¥ã€‚',ç§‘ç ”å·¥åŠ:'ç§‘æŠ€ç‚¹äº§å‡º=ç­‰çº§Ã—1/æ—¥ã€‚',ç­æœ›å¡”:'æ¢ç´¢è¿›åº¦åŠ æˆ=ç­‰çº§Ã—1%ã€‚',å›´å¢™:'è®¾æ–½è€ä¹…æ¯æ—¥è¡°å‡å‡å°‘=ç­‰çº§Ã—1ã€‚',é™·é˜±åŒº:'æ¢ç´¢å®Œæˆé¢å¤–ææ–™=ç­‰çº§Ã—1ã€‚',æ­¦å™¨åº“:'æ­¦å™¨é…ä»¶äº§é‡=ç­‰çº§Ã—4/æ—¥ï¼Œè§£é”æ­¦å™¨åˆ¶é€ å°å‰ç½®ã€‚'},P={å‘ç”µæœº:1,å®¿èˆ:1,ä»“åº“:1,å¨æˆ¿:1,æ¸©å®¤:2,å‡€æ°´ç«™:2,åŒ»ç–—å®¤:2,ç ”ç©¶å®¤:2,ç‡ƒæ–™ç²¾ç‚¼å‚:3,ææ–™å›æ”¶ç«™:3,ç­æœ›å¡”:3,å›´å¢™:4,æ­¦å™¨åº“:2,é™·é˜±åŒº:4,ç§‘ç ”å·¥åŠ:1};function O(e,t){if('å‘ç”µæœº'===e){const e=T[t];return e?[e]:[]}const a=D[e];if(!a?.length)return[];const n=a[t-1];return n?[n]:[]}function R(e,t){return O(e,t).filter(e=>{return t=e,!r.data.ç§‘æŠ€æ ‘?.[t.branch]?.[t.tech]?.å·²è§£é”;var t}).map(e=>`${e.branch}.${e.tech}`)}function I(e){return A[e]??'ä½œç”¨æœªçŸ¥ã€‚'}function F(e){const t=j?.[e];return Array.isArray(t)?t:[]}function U(e){const t=q[e];return t?`${t} ${e}`:e}function H(){f.value<=1||(v.value=(v.value-1+f.value)%f.value)}function X(){f.value<=1||(v.value=(v.value+1)%f.value)}function Y(e){if(!e)return'';const t=Object.entries(e).filter(([_,e])=>e>0);return t.length?t.map(([e,t])=>`${e}${t}`).join(' '):'æ— '}function W(e){if(!e)return'';const t=Object.keys(e);return t.length?t.map(e=>`${e}${a.èµ„æº?.[e]??0}`).join(' '):'æ— '}const G=(0,c.computed)(()=>k.value?n.value.facility.upgrade(k.value.name,k.value.data.ç­‰çº§):null),K=(0,c.computed)(()=>k.value?n.value.facility.repair(k.value.name,k.value.data.è€ä¹…):null),Z=(0,c.computed)(()=>k.value?'è¿è¡Œä¸­'===k.value.data.çŠ¶æ€?n.value.facility.stop(k.value.name):n.value.facility.start(k.value.name):null),J=(0,c.computed)(()=>k.value&&g.value?n.value.facility.unlock(k.value.name):null),Q=(0,c.computed)(()=>{const e=r.data.é¿éš¾æ‰€?.æ¸©åº¦ç³»ç»Ÿ?.æ¸©åº¦ç­‰çº§??1;return Math.max(1,Math.min(e,5))}),ee=(0,c.computed)(()=>k.value?P[k.value.name]??1:1),te=(0,c.computed)(()=>ee.value>Q.value),ae=(0,c.computed)(()=>k.value&&g.value?R(k.value.name,1):[]),ne=(0,c.computed)(()=>k.value&&g.value?O(k.value.name,1).map(e=>`${e.branch}.${e.tech}`):[]),le=(0,c.computed)(()=>!k.value||g.value?[]:R(k.value.name,k.value.data.ç­‰çº§+1)),re=(0,c.computed)(()=>!k.value||g.value?[]:O(k.value.name,k.value.data.ç­‰çº§+1).map(e=>`${e.branch}.${e.tech}`)),ce=(0,c.computed)(()=>!(!J.value||!k.value||b.value)&&(J.value.affordable&&!te.value&&!ae.value.length)),se=(0,c.computed)(()=>!(!G.value||!k.value)&&(G.value.affordable&&!le.value.length&&!C.isPlaying.value));function ie(e){const t=r.data.é¿éš¾æ‰€.èµ„æº;return!!Object.entries(e).every(([e,a])=>t[e]>=a)&&(Object.entries(e).forEach(([e,a])=>{t[e]=Math.max((t[e]??0)-a,0)}),!0)}function de(e){const t=r.data.é¿éš¾æ‰€.æ¸©åº¦ç³»ç»Ÿ;t&&(t.æ¸©åº¦ç­‰çº§=Math.max(1,Math.min(e,5)))}function ue(e){const t=r.data.é¿éš¾æ‰€.æ¸©åº¦ç³»ç»Ÿ;t&&(t.å‘ç”µæœºç­‰çº§=Math.max(1,Math.min(e,5)))}async function pe(){if(!G.value||!se.value||!k.value)return;if(!ie(G.value.cost))return;const e=k.value.name,t=k.value.data.ç­‰çº§,a=t+1;await C.play(U(e),t,a),function(e,t){const a=r.data.é¿éš¾æ‰€.è®¾æ–½?.[e];a&&(a.ç­‰çº§=t,'å‘ç”µæœº'===e&&(ue(t),de(t)))}(e,a),h.value=!1}async function me(){K.value&&!M.isPlaying.value&&k.value&&ie(K.value.cost)&&(await M.play(U(k.value.name)),function(e){const t=r.data.é¿éš¾æ‰€.è®¾æ–½?.[e];t&&(t.è€ä¹…=100,'æŸå'===t.çŠ¶æ€&&(t.çŠ¶æ€='è¿è¡Œä¸­'))}(k.value.name),h.value=!1)}function ve(){if(!Z.value||!k.value)return;if(!ie(Z.value.cost))return;const e='è¿è¡Œä¸­'===k.value.data.çŠ¶æ€,t=()=>{!function(e,t){const a=r.data.é¿éš¾æ‰€.è®¾æ–½?.[e];a&&(a.çŠ¶æ€=t)}(k.value.name,e?'åœæœº':'è¿è¡Œä¸­'),h.value=!1};e?function(){const e=x.value;if(!e)return Promise.resolve();const t=e.querySelector('.stop-status'),a=e.querySelector('.stop-scan'),n=e.querySelector('.stop-panel'),r=e.querySelector('.stop-pulse'),o=e.querySelector('.stop-grid'),c=e.querySelectorAll('.stop-flicker'),s=e.querySelectorAll('.stop-sparks .spark'),i=e.querySelector('.stop-noise'),d=e.querySelector('.stop-flash');l.set(e,{opacity:0,display:'block'}),l.set(n,{opacity:0,y:10,scale:.95}),l.set(t,{opacity:0,y:6}),l.set(a,{xPercent:-120,opacity:0}),l.set(r,{opacity:0,scale:.6}),l.set(o,{opacity:.2}),l.set(c,{opacity:0}),l.set(s,{opacity:0,scale:0,x:0,y:0}),l.set(i,{opacity:0}),l.set(d,{opacity:0});const u=l.timeline();return u.to(e,{opacity:1,duration:.28,ease:'power2.out'}).to(n,{opacity:1,y:0,scale:1,duration:.35,ease:'power2.out'},'<0.05').to(r,{opacity:.6,scale:1.1,duration:.55,ease:'power2.out'},'<').to(a,{opacity:.9,duration:.14},'<0.1').to(a,{xPercent:120,duration:.8,ease:'power2.inOut'},'<0.05').to(t,{opacity:1,y:0,duration:.3,ease:'power2.out'},'<0.1').to(c,{opacity:.6,duration:.12,stagger:.08},'<0.05').to(c,{opacity:0,duration:.12,stagger:.08},'<0.2').to(d,{opacity:.9,duration:.06},'<0.03').to(d,{opacity:0,duration:.12},'<0.06').to(i,{opacity:.25,duration:.16},'<').to(s,{opacity:1,scale:1,x:()=>140*Math.random()-70,y:()=>80*Math.random()-40,duration:.38,ease:'power2.out',stagger:.015},'<0.05').to(s,{opacity:0,scale:0,duration:.38,stagger:.015},'<0.2').to(i,{opacity:0,duration:.3},'<0.1').to(r,{opacity:0,scale:1.4,duration:.5,ease:'power2.in'},'+=0.2').to(e,{opacity:0,duration:.45,ease:'power2.in'},'<0.08').set(e,{display:'none'}),new Promise(e=>{u.eventCallback('onComplete',()=>e())})}().then(t):function(){const e=S.value;if(!e)return Promise.resolve();const t=e.querySelector('.start-status'),a=e.querySelector('.start-scan'),n=e.querySelector('.start-panel'),r=e.querySelector('.start-pulse'),o=e.querySelector('.start-grid'),c=e.querySelectorAll('.start-ray'),s=e.querySelector('.start-noise'),i=e.querySelector('.start-flash');l.set(e,{opacity:0,display:'block'}),l.set(n,{opacity:0,y:10,scale:.95}),l.set(t,{opacity:0,y:6}),l.set(a,{xPercent:120,opacity:0}),l.set(r,{opacity:0,scale:.6}),l.set(o,{opacity:.2}),l.set(c,{opacity:0,scaleY:.2}),l.set(s,{opacity:0}),l.set(i,{opacity:0});const d=l.timeline();return d.to(e,{opacity:1,duration:.25,ease:'power2.out'}).to(n,{opacity:1,y:0,scale:1,duration:.3,ease:'power2.out'},'<0.05').to(r,{opacity:.7,scale:1.15,duration:.5,ease:'power2.out'},'<').to(a,{opacity:.9,duration:.1},'<0.1').to(a,{xPercent:-120,duration:.7,ease:'power2.inOut'},'<0.05').to(i,{opacity:.85,duration:.06},'<0.03').to(i,{opacity:0,duration:.12},'<0.06').to(s,{opacity:.22,duration:.12},'<').to(c,{opacity:.5,scaleY:1,duration:.3,stagger:.05},'<0.05').to(t,{opacity:1,y:0,duration:.25,ease:'power2.out'},'<0.1').to(r,{opacity:0,scale:1.4,duration:.45,ease:'power2.in'},'+=0.1').to(c,{opacity:0,duration:.2,stagger:.03},'<0.05').to(s,{opacity:0,duration:.25},'<0.05').to(e,{opacity:0,duration:.35,ease:'power2.in'},'<0.05').set(e,{display:'none'}),new Promise(e=>{d.eventCallback('onComplete',()=>e())})}().then(t)}async function fe(){if(!b.value&&J.value&&k.value&&ce.value&&ie(J.value.cost)){b.value=!0,E.value=!0;try{await B.play(U(k.value.name)),function(e){const t=r.data.é¿éš¾æ‰€.è®¾æ–½?.[e];t&&(t.ç­‰çº§=Math.max(t.ç­‰çº§??0,1),t.è€ä¹…=100,t.æ•ˆç‡=100,t.çŠ¶æ€='è¿è¡Œä¸­','å‘ç”µæœº'===e&&(ue(t.ç­‰çº§),de(t.ç­‰çº§)))}(k.value.name),h.value=!1}finally{b.value=!1,E.value=!1}}}function he(e){return'è¿è¡Œä¸­'===e?'success':'æŸå'===e?'danger':'å»ºé€ ä¸­'===e||'åœæœº'===e?'warning':''}return(0,c.onMounted)(()=>{l.from('.facility-grid',{opacity:0,duration:.35,ease:'power2.out'})}),t({playUpgrade:C.play,skipUpgrade:C.skip,isUpgrading:C.isPlaying,playBuild:B.play,skipBuild:B.skip,isBuilding:B.isPlaying}),(e,t)=>((0,c.openBlock)(),(0,c.createElementBlock)('div',wa,[(0,c.createElementVNode)('div',xa,[(0,c.createElementVNode)('button',{class:'pixel-btn sm',disabled:(0,c.unref)(f)<=1,onClick:H},'â—€',8,Sa),(0,c.createElementVNode)('div',Ca,(0,c.toDisplayString)((0,c.unref)(v)+1)+' / '+(0,c.toDisplayString)((0,c.unref)(f)),1),(0,c.createElementVNode)('button',{class:'pixel-btn sm',disabled:(0,c.unref)(f)<=1,onClick:X},'â–¶',8,Ba)]),(0,c.createVNode)(c.Transition,{name:'page-slide',mode:'out-in'},{default:(0,c.withCtx)(()=>[((0,c.openBlock)(),(0,c.createElementBlock)('div',{key:(0,c.unref)(v),class:'facility-pages'},['built'===(0,c.unref)(y)?((0,c.openBlock)(),(0,c.createElementBlock)('div',za,[(0,c.createElementVNode)('div',Ma,[t[6]||(t[6]=(0,c.createElementVNode)('div',{class:'header-icon'},null,-1)),t[7]||(t[7]=(0,c.createTextVNode)(' å·²å»ºè®¾æ–½ ',-1)),(0,c.createElementVNode)('div',$a,[(0,c.createElementVNode)('button',{class:(0,c.normalizeClass)(['filter-btn',{active:'all'===(0,c.unref)(o)}]),type:'button',onClick:t[0]||(t[0]=e=>o.value='all')},' å…¨éƒ¨ ',2),(0,c.createElementVNode)('button',{class:(0,c.normalizeClass)(['filter-btn warning',{active:'issues'===(0,c.unref)(o)}]),type:'button',onClick:t[1]||(t[1]=e=>o.value='issues')},' æŸå/åœæœº/å»ºé€ ä¸­ ',2)])]),(0,c.createElementVNode)('div',qa,[(0,c.createElementVNode)('div',_a,[((0,c.openBlock)(!0),(0,c.createElementBlock)(c.Fragment,null,(0,c.renderList)((0,c.unref)(m),([e,a])=>((0,c.openBlock)(),(0,c.createElementBlock)('div',{key:e,class:(0,c.normalizeClass)(['facility-item pixel-card',he(a.çŠ¶æ€)]),onClick:t=>function(e,t){k.value={name:e,data:t},g.value=!1,h.value=!0}(e,a)},[(0,c.createElementVNode)('div',Da,[(0,c.createElementVNode)('span',Ta,(0,c.toDisplayString)(U(e)),1),(0,c.createElementVNode)('span',{class:(0,c.normalizeClass)(['pixel-tag',he(a.çŠ¶æ€)])},' Lv.'+(0,c.toDisplayString)(a.ç­‰çº§),3)]),(0,c.createElementVNode)('div',ja,[(0,c.createElementVNode)('div',Aa,[t[8]||(t[8]=(0,c.createElementVNode)('span',{class:'bar-label'},'æ•ˆç‡',-1)),(0,c.createElementVNode)('div',{class:(0,c.normalizeClass)(['pixel-bar',a.æ•ˆç‡<50?'warning':''])},[(0,c.createElementVNode)('div',{class:'bar-fill',style:(0,c.normalizeStyle)({width:a.æ•ˆç‡+'%'})},null,4)],2)]),(0,c.createElementVNode)('div',Pa,[t[9]||(t[9]=(0,c.createElementVNode)('span',{class:'bar-label'},'è€ä¹…',-1)),(0,c.createElementVNode)('div',{class:(0,c.normalizeClass)(['pixel-bar',a.è€ä¹…<30?'danger':''])},[(0,c.createElementVNode)('div',{class:'bar-fill',style:(0,c.normalizeStyle)({width:a.è€ä¹…+'%'})},null,4)],2)])]),(0,c.createElementVNode)('div',{class:(0,c.normalizeClass)(['fac-status pixel-tag sm',he(a.çŠ¶æ€)])},(0,c.toDisplayString)(a.çŠ¶æ€),3)],10,La))),128))])])])):((0,c.openBlock)(),(0,c.createElementBlock)('div',Oa,[t[10]||(t[10]=(0,c.createElementVNode)('div',{class:'pixel-card-header'},[(0,c.createElementVNode)('div',{class:'header-icon'}),(0,c.createTextVNode)(' æœªè§£é” ')],-1)),(0,c.createElementVNode)('div',Ra,[(0,c.createElementVNode)('div',Ia,[((0,c.openBlock)(!0),(0,c.createElementBlock)(c.Fragment,null,(0,c.renderList)((0,c.unref)(p),([e])=>((0,c.openBlock)(),(0,c.createElementBlock)('span',{key:e,class:'locked-item',onClick:t=>function(e){k.value={name:e,data:{ç­‰çº§:0,çŠ¶æ€:'æœªè§£é”',æ•ˆç‡:0,è€ä¹…:0,è´Ÿè´£äºº:''}},g.value=!0,h.value=!0}(e)},(0,c.toDisplayString)(U(e)),9,Fa))),128))])])]))]))]),_:1}),(0,c.createVNode)(ye,{visible:(0,c.unref)(h),title:(0,c.unref)(k)?U((0,c.unref)(k).name):'',onClose:t[5]||(t[5]=e=>h.value=!1)},{default:(0,c.withCtx)(()=>[(0,c.unref)(k)&&(0,c.unref)(g)?((0,c.openBlock)(),(0,c.createElementBlock)('div',Ua,[t[17]||(t[17]=(0,c.createElementVNode)('div',{class:'locked-info'},[(0,c.createElementVNode)('div',{class:'locked-icon'},'ğŸ”’'),(0,c.createElementVNode)('div',{class:'locked-text'},'è¯¥è®¾æ–½å°šæœªå»ºé€ ')],-1)),(0,c.createElementVNode)('div',Ha,[t[11]||(t[11]=(0,c.createElementVNode)('span',{class:'detail-label'},'æ¸©åº¦ç­‰çº§',-1)),(0,c.createElementVNode)('span',{class:(0,c.normalizeClass)(['detail-value',(0,c.unref)(te)?'danger':''])},' éœ€æ±‚Lv.'+(0,c.toDisplayString)((0,c.unref)(ee))+' / å½“å‰Lv.'+(0,c.toDisplayString)((0,c.unref)(Q)),3)]),(0,c.unref)(te)?((0,c.openBlock)(),(0,c.createElementBlock)('div',Xa,[...t[12]||(t[12]=[(0,c.createElementVNode)('span',{class:'detail-label'},'æç¤º',-1),(0,c.createElementVNode)('span',{class:'detail-desc'},'æå‡å‘ç”µæœºç­‰çº§ä»¥æé«˜æ¸©åº¦ç­‰çº§ã€‚',-1)])])):(0,c.createCommentVNode)('v-if',!0),(0,c.createElementVNode)('div',Ya,[t[13]||(t[13]=(0,c.createElementVNode)('span',{class:'detail-label'},'ç§‘æŠ€è¦æ±‚',-1)),(0,c.createElementVNode)('span',Wa,[(0,c.unref)(ne).length?((0,c.openBlock)(),(0,c.createElementBlock)(c.Fragment,{key:0},[(0,c.createTextVNode)(' å‰ç½®ï¼š'+(0,c.toDisplayString)((0,c.unref)(ne).join('ã€'))+' ',1),(0,c.unref)(ae).length?((0,c.openBlock)(),(0,c.createElementBlock)('span',Ga,'ï¼ˆæœªè§£é”ï¼‰')):((0,c.openBlock)(),(0,c.createElementBlock)('span',Ka,'ï¼ˆå·²æ»¡è¶³ï¼‰'))],64)):((0,c.openBlock)(),(0,c.createElementBlock)(c.Fragment,{key:1},[(0,c.createTextVNode)('æ— ')],64))])]),(0,c.createElementVNode)('div',Za,[t[14]||(t[14]=(0,c.createElementVNode)('span',{class:'detail-label'},'ä½œç”¨',-1)),(0,c.createElementVNode)('span',Ja,(0,c.toDisplayString)(I((0,c.unref)(k).name)),1)]),'ä»“åº“'===(0,c.unref)(k).name?((0,c.openBlock)(),(0,c.createElementBlock)('div',Qa,[...t[15]||(t[15]=[(0,c.createElementVNode)('span',{class:'detail-label'},'æç¤º',-1),(0,c.createElementVNode)('span',{class:'detail-desc'},'èµ„æºä¸Šé™=ç­‰çº§Ã—200ï¼Œæœ€é«˜1000ã€‚',-1)])])):(0,c.createCommentVNode)('v-if',!0),F((0,c.unref)(k).name).length?((0,c.openBlock)(),(0,c.createElementBlock)('div',en,[t[16]||(t[16]=(0,c.createElementVNode)('span',{class:'detail-label'},'ç­‰çº§',-1)),(0,c.createElementVNode)('div',tn,[((0,c.openBlock)(!0),(0,c.createElementBlock)(c.Fragment,null,(0,c.renderList)(F((0,c.unref)(k).name),(e,t)=>((0,c.openBlock)(),(0,c.createElementBlock)('div',{key:t,class:(0,c.normalizeClass)(['level-item',{active:t+1===(0,c.unref)(k).data.ç­‰çº§}])},[(0,c.createElementVNode)('span',an,'Lv.'+(0,c.toDisplayString)(t+1),1),(0,c.createElementVNode)('span',nn,(0,c.toDisplayString)(e),1)],2))),128))])])):(0,c.createCommentVNode)('v-if',!0),(0,c.createElementVNode)('button',{class:(0,c.normalizeClass)(['action-btn success',{disabled:!(0,c.unref)(ce)}]),disabled:!(0,c.unref)(ce),onClick:fe},[(0,c.createTextVNode)(' ğŸ—ï¸ '+(0,c.toDisplayString)((0,c.unref)(b)?'å»ºé€ ä¸­...':'å»ºé€ è®¾æ–½')+' ',1),(0,c.unref)(J)&&!(0,c.unref)(b)?((0,c.openBlock)(),(0,c.createElementBlock)('span',rn,' (æ¶ˆè€— '+(0,c.toDisplayString)(Y((0,c.unref)(J).cost))+' | ç°æœ‰ '+(0,c.toDisplayString)(W((0,c.unref)(J).cost))+') ',1)):(0,c.createCommentVNode)('v-if',!0)],10,ln),(0,c.createElementVNode)('div',{ref_key:'buildOverlayRef',ref:N,class:'build-overlay',onClick:t[2]||(t[2]=e=>(0,c.unref)(B).skip())},null,512)])):(0,c.unref)(k)?((0,c.openBlock)(),(0,c.createElementBlock)('div',on,[(0,c.createElementVNode)('div',cn,[t[18]||(t[18]=(0,c.createElementVNode)('span',{class:'detail-label'},'ç­‰çº§',-1)),(0,c.createElementVNode)('span',sn,'Lv.'+(0,c.toDisplayString)((0,c.unref)(k).data.ç­‰çº§),1)]),(0,c.createElementVNode)('div',dn,[t[19]||(t[19]=(0,c.createElementVNode)('span',{class:'detail-label'},'çŠ¶æ€',-1)),(0,c.createElementVNode)('span',{class:(0,c.normalizeClass)(['pixel-tag sm',he((0,c.unref)(k).data.çŠ¶æ€)])},(0,c.toDisplayString)((0,c.unref)(k).data.çŠ¶æ€),3)]),(0,c.createElementVNode)('div',un,[t[20]||(t[20]=(0,c.createElementVNode)('span',{class:'detail-label'},'ä½œç”¨',-1)),(0,c.createElementVNode)('span',pn,(0,c.toDisplayString)(I((0,c.unref)(k).name)),1)]),F((0,c.unref)(k).name).length?((0,c.openBlock)(),(0,c.createElementBlock)('div',mn,[t[21]||(t[21]=(0,c.createElementVNode)('span',{class:'detail-label'},'ç­‰çº§',-1)),(0,c.createElementVNode)('div',vn,[((0,c.openBlock)(!0),(0,c.createElementBlock)(c.Fragment,null,(0,c.renderList)(F((0,c.unref)(k).name),(e,t)=>((0,c.openBlock)(),(0,c.createElementBlock)('div',{key:t,class:(0,c.normalizeClass)(['level-item',{active:t+1===(0,c.unref)(k).data.ç­‰çº§}])},[(0,c.createElementVNode)('span',fn,'Lv.'+(0,c.toDisplayString)(t+1),1),(0,c.createElementVNode)('span',yn,(0,c.toDisplayString)(e),1)],2))),128))])])):(0,c.createCommentVNode)('v-if',!0),(0,c.createElementVNode)('div',hn,[t[22]||(t[22]=(0,c.createElementVNode)('span',{class:'detail-label'},'æ•ˆç‡',-1)),(0,c.createElementVNode)('div',kn,[(0,c.createElementVNode)('div',{class:'bar-fill',style:(0,c.normalizeStyle)({width:(0,c.unref)(k).data.æ•ˆç‡+'%'})},null,4)]),(0,c.createElementVNode)('span',gn,(0,c.toDisplayString)((0,c.unref)(k).data.æ•ˆç‡)+'%',1)]),(0,c.createElementVNode)('div',bn,[t[23]||(t[23]=(0,c.createElementVNode)('span',{class:'detail-label'},'è€ä¹…',-1)),(0,c.createElementVNode)('div',En,[(0,c.createElementVNode)('div',{class:'bar-fill',style:(0,c.normalizeStyle)({width:(0,c.unref)(k).data.è€ä¹…+'%'})},null,4)]),(0,c.createElementVNode)('span',Vn,(0,c.toDisplayString)((0,c.unref)(k).data.è€ä¹…)+'%',1)]),(0,c.createElementVNode)('div',Nn,[t[24]||(t[24]=(0,c.createElementVNode)('span',{class:'detail-label'},'è´Ÿè´£äºº',-1)),(0,c.createElementVNode)('span',wn,(0,c.toDisplayString)((0,c.unref)(k).data.è´Ÿè´£äºº||'æ— '),1)]),(0,c.createElementVNode)('div',xn,[t[25]||(t[25]=(0,c.createElementVNode)('span',{class:'detail-label'},'ç§‘æŠ€è¦æ±‚',-1)),(0,c.createElementVNode)('span',Sn,[(0,c.unref)(re).length?((0,c.openBlock)(),(0,c.createElementBlock)(c.Fragment,{key:0},[(0,c.createTextVNode)(' å‡çº§å‰ç½®ï¼š'+(0,c.toDisplayString)((0,c.unref)(re).join('ã€'))+' ',1),(0,c.unref)(le).length?((0,c.openBlock)(),(0,c.createElementBlock)('span',Cn,'ï¼ˆæœªè§£é”ï¼‰')):((0,c.openBlock)(),(0,c.createElementBlock)('span',Bn,'ï¼ˆå·²æ»¡è¶³ï¼‰'))],64)):((0,c.openBlock)(),(0,c.createElementBlock)(c.Fragment,{key:1},[(0,c.createTextVNode)('æ— ')],64))])]),(0,c.createElementVNode)('div',zn,[(0,c.unref)(k).data.ç­‰çº§<5?((0,c.openBlock)(),(0,c.createElementBlock)('button',{key:0,class:(0,c.normalizeClass)(['action-btn',{disabled:!(0,c.unref)(se)}]),disabled:!(0,c.unref)(se),onClick:pe},[t[26]||(t[26]=(0,c.createTextVNode)(' â¬†ï¸ å‡çº§ ',-1)),(0,c.unref)(G)?((0,c.openBlock)(),(0,c.createElementBlock)('span',$n,' (æ¶ˆè€— '+(0,c.toDisplayString)(Y((0,c.unref)(G).cost))+' | ç°æœ‰ '+(0,c.toDisplayString)(W((0,c.unref)(G).cost))+') ',1)):(0,c.createCommentVNode)('v-if',!0)],10,Mn)):(0,c.createCommentVNode)('v-if',!0),(0,c.unref)(k).data.è€ä¹…<100?((0,c.openBlock)(),(0,c.createElementBlock)('button',{key:1,class:(0,c.normalizeClass)(['action-btn warning',{disabled:!(0,c.unref)(K)?.affordable}]),disabled:!(0,c.unref)(K)?.affordable,onClick:me},[t[27]||(t[27]=(0,c.createTextVNode)(' ğŸ”§ ä¿®å¤ ',-1)),(0,c.unref)(K)?((0,c.openBlock)(),(0,c.createElementBlock)('span',_n,' (æ¶ˆè€— '+(0,c.toDisplayString)(Y((0,c.unref)(K).cost))+' | ç°æœ‰ '+(0,c.toDisplayString)(W((0,c.unref)(K).cost))+') ',1)):(0,c.createCommentVNode)('v-if',!0)],10,qn)):(0,c.createCommentVNode)('v-if',!0),!(0,c.unref)(L).has((0,c.unref)(k).name)||'è¿è¡Œä¸­'!==(0,c.unref)(k).data.çŠ¶æ€&&'åœæœº'!==(0,c.unref)(k).data.çŠ¶æ€?(0,c.createCommentVNode)('v-if',!0):((0,c.openBlock)(),(0,c.createElementBlock)('button',{key:2,class:(0,c.normalizeClass)(['action-btn',['è¿è¡Œä¸­'===(0,c.unref)(k).data.çŠ¶æ€?'danger':'success',{disabled:!(0,c.unref)(Z)?.affordable}]]),disabled:!(0,c.unref)(Z)?.affordable,onClick:ve},[(0,c.createTextVNode)((0,c.toDisplayString)('è¿è¡Œä¸­'===(0,c.unref)(k).data.çŠ¶æ€?'â¸ï¸ åœæœº':'â–¶ï¸ å¯åŠ¨')+' ',1),(0,c.unref)(Z)&&Object.keys((0,c.unref)(Z).cost).length?((0,c.openBlock)(),(0,c.createElementBlock)('span',Dn,' (æ¶ˆè€— '+(0,c.toDisplayString)(Y((0,c.unref)(Z).cost))+' | ç°æœ‰ '+(0,c.toDisplayString)(W((0,c.unref)(Z).cost))+') ',1)):(0,c.createCommentVNode)('v-if',!0)],10,Ln))]),(0,c.createElementVNode)('div',{ref_key:'upgradeOverlayRef',ref:V,class:'upgrade-overlay',onClick:t[3]||(t[3]=e=>(0,c.unref)(C).skip())},null,512),(0,c.createElementVNode)('div',{ref_key:'repairOverlayRef',ref:w,class:'repair-overlay',onClick:t[4]||(t[4]=e=>(0,c.unref)(M).skip())},null,512),(0,c.createElementVNode)('div',{ref_key:'stopOverlayRef',ref:x,class:'stop-overlay'},[t[28]||(t[28]=(0,c.createElementVNode)('div',{class:'stop-grid'},null,-1)),t[29]||(t[29]=(0,c.createElementVNode)('div',{class:'stop-scan'},null,-1)),t[30]||(t[30]=(0,c.createElementVNode)('div',{class:'stop-pulse'},null,-1)),t[31]||(t[31]=(0,c.createElementVNode)('div',{class:'stop-flicker f1'},null,-1)),t[32]||(t[32]=(0,c.createElementVNode)('div',{class:'stop-flicker f2'},null,-1)),(0,c.createElementVNode)('div',Tn,[((0,c.openBlock)(),(0,c.createElementBlock)(c.Fragment,null,(0,c.renderList)(12,e=>(0,c.createElementVNode)('span',{key:e,class:'spark'})),64))]),t[33]||(t[33]=(0,c.createElementVNode)('div',{class:'stop-noise'},null,-1)),t[34]||(t[34]=(0,c.createElementVNode)('div',{class:'stop-flash'},null,-1)),t[35]||(t[35]=(0,c.createElementVNode)('div',{class:'stop-panel'},[(0,c.createElementVNode)('div',{class:'stop-icon'},'â¸'),(0,c.createElementVNode)('div',{class:'stop-title'},'ç³»ç»Ÿåœæœº'),(0,c.createElementVNode)('div',{class:'stop-status'},'èƒ½æºå›è·¯å…³é—­ä¸­...')],-1))],512),(0,c.createElementVNode)('div',{ref_key:'startOverlayRef',ref:S,class:'start-overlay'},[...t[36]||(t[36]=[(0,c.createElementVNode)('div',{class:'start-grid'},null,-1),(0,c.createElementVNode)('div',{class:'start-scan'},null,-1),(0,c.createElementVNode)('div',{class:'start-pulse'},null,-1),(0,c.createElementVNode)('div',{class:'start-ray r1'},null,-1),(0,c.createElementVNode)('div',{class:'start-ray r2'},null,-1),(0,c.createElementVNode)('div',{class:'start-ray r3'},null,-1),(0,c.createElementVNode)('div',{class:'start-noise'},null,-1),(0,c.createElementVNode)('div',{class:'start-flash'},null,-1),(0,c.createElementVNode)('div',{class:'start-panel'},[(0,c.createElementVNode)('div',{class:'start-icon'},'â–¶'),(0,c.createElementVNode)('div',{class:'start-title'},'ç³»ç»Ÿå¯åŠ¨'),(0,c.createElementVNode)('div',{class:'start-status'},'èƒ½æºå›è·¯ç‚¹ç«ä¸­...')],-1)])],512)])):(0,c.createCommentVNode)('v-if',!0)]),_:1},8,['visible','title'])]))}}),An=(0,ue.A)(jn,[['__scopeId','data-v-72bc7369']]);function Pn(e){const t=(0,c.ref)(!1);let a=null,n=null,r=null;function o(){n&&(n.kill(),n=null),a&&(a.kill(),a=null),t.value=!1,r&&(r(),r=null)}function s(){t.value&&o()}return(0,c.onUnmounted)(o),{playResearch:async function(i){if(t.value)return;t.value=!0,await(0,c.nextTick)();const d=e.containerEl.value;if(!d)return void(t.value=!1);d.innerHTML=function(e,t){const a=Array.from({length:25},(_,e)=>{const t=100*Math.random(),a=60+30*Math.random(),n=1.5+2.5*Math.random();return`<div class="data-particle" data-idx="${e}" style="\n        left:${t}%;top:${a}%;\n        width:${n}px;height:${n}px;\n      "></div>`}).join('');return`\n      <div class="tech-scene research-scene">\n        <div class="lab-bg">\n          <div class="circuit-pattern"></div>\n          <div class="grid-overlay"></div>\n        </div>\n        <div class="lab-glow"></div>\n        <div class="mech-gearbox">\n          <div class="gear g1"></div>\n          <div class="gear g2"></div>\n          <div class="gear g3"></div>\n        </div>\n        <div class="mech-piston">\n          <div class="piston-head"></div>\n          <div class="piston-rod"></div>\n        </div>\n        <div class="console">\n          <div class="console-screen">\n            <div class="scan"></div>\n            <div class="trace"></div>\n          </div>\n          <div class="console-keys">\n            ${Array.from({length:12},()=>'<span class="key"></span>').join('')}\n          </div>\n        </div>\n        <div class="chip-board">\n          <div class="chip"></div>\n          <div class="chip-lines">\n            <span class="line l1"></span>\n            <span class="line l2"></span>\n            <span class="line l3"></span>\n            <span class="line l4"></span>\n          </div>\n        </div>\n        <div class="data-particles">${a}</div>\n        <div class="tech-ui">\n          <div class="tech-title">\n            <span class="tech-icon">ğŸ”¬</span>\n            <span class="tech-name">${e}</span>\n          </div>\n          <div class="progress-bar">\n            <div class="progress-fill" style="width:${t}%"></div>\n            <span class="progress-text">${t}%</span>\n          </div>\n          <div class="tech-status">æ•°æ®å†™å…¥ä¸­<span class="dots"></span></div>\n        </div>\n        <div class="scene-skip">ç‚¹å‡»è·³è¿‡</div>\n      </div>\n    `}(i.techName,i.oldProgress);const u=d.querySelector('.tech-scene');return u.addEventListener('click',s),new Promise(e=>{r=e,a=l.context(()=>{const e=d.querySelectorAll('.data-particle'),t=d.querySelector('.console'),a=d.querySelector('.console-screen'),r=d.querySelector('.scan'),c=d.querySelector('.trace'),s=d.querySelectorAll('.key'),p=d.querySelector('.chip'),m=d.querySelectorAll('.chip-lines .line'),v=d.querySelectorAll('.mech-gearbox .gear'),f=d.querySelector('.mech-piston'),y=d.querySelector('.tech-ui'),h=d.querySelector('.progress-fill'),k=d.querySelector('.progress-text'),g=d.querySelector('.dots'),b=d.querySelector('.scene-skip');if(n=l.timeline({onComplete:o}),n.fromTo(u,{opacity:0},{opacity:1,duration:.3}),n.to(y,{opacity:1,duration:.4},.2),n.to(b,{opacity:1,duration:.3},.4),l.set(t,{opacity:0,y:8}),l.set(a,{opacity:0}),l.set(r,{opacity:0}),l.set(c,{opacity:0,scaleX:0,transformOrigin:'left center'}),l.set(s,{opacity:0}),l.set(p,{opacity:0,scale:.8}),l.set(m,{opacity:0,scaleX:0,transformOrigin:'left center'}),l.set(v,{opacity:0,scale:.7}),l.set(f,{opacity:0,y:6}),n.to(v,{opacity:1,scale:1,duration:.3,stagger:.08},.2),n.to(f,{opacity:1,y:0,duration:.3},.3),n.to(t,{opacity:1,y:0,duration:.3},.2),n.to(a,{opacity:1,duration:.3},.35),n.to(s,{opacity:.7,duration:.2,stagger:.03},.4),n.to(p,{opacity:1,scale:1,duration:.3,ease:'back.out(1.4)'},.45),n.to(m,{opacity:.6,scaleX:1,duration:.35,stagger:.05},.55),v.forEach((e,t)=>{l.to(e,{rotation:t%2==0?360:-360,duration:1.2+.5*t,repeat:-1,ease:'none'})}),f&&l.to(f,{y:8,duration:.25,repeat:-1,yoyo:!0,ease:'sine.inOut'}),l.to(r,{opacity:.6,y:40,duration:1.2,repeat:-1,ease:'sine.inOut',yoyo:!0}),l.to(c,{opacity:.7,scaleX:1,duration:.8,repeat:-1,yoyo:!0,ease:'sine.inOut'}),e.forEach((e,t)=>{const a=.4+t/25*.8;l.fromTo(e,{opacity:0,scale:0},{opacity:.8,scale:1,duration:.3,delay:a}),l.to(e,{left:'60%',top:'52%',opacity:0,scale:.3,duration:1.2,delay:a+.3,ease:'power2.in'})}),h&&k){const e={val:i.oldProgress};n.to(h,{width:`${i.newProgress}%`,duration:1,ease:'power2.out'},1),n.to(e,{val:i.newProgress,duration:1,ease:'power2.out',onUpdate:()=>{k&&(k.textContent=`${Math.round(e.val)}%`)}},1)}let E=0;const V=setInterval(()=>{E=(E+1)%4,g&&(g.textContent='.'.repeat(E))},300);n.call(()=>clearInterval(V),[],3.5),n.to(u,{opacity:0,duration:.3},3.7)})})},playMaxUnlock:async function(i){if(t.value)return;t.value=!0,await(0,c.nextTick)();const d=e.containerEl.value;if(!d)return void(t.value=!1);d.innerHTML=function(e,t){const a=Array.from({length:50},(_,e)=>{const t=100*Math.random(),a=100*Math.random(),n=1.5+2.5*Math.random();return`<div class="data-particle" data-idx="${e}" style="\n        left:${t}%;top:${a}%;\n        width:${n}px;height:${n}px;\n      "></div>`}).join('');return`\n      <div class="tech-scene unlock-scene">\n        <div class="lab-bg">\n          <div class="circuit-pattern"></div>\n          <div class="grid-overlay"></div>\n        </div>\n        <div class="vault">\n          <div class="vault-door"></div>\n          <div class="vault-lock"></div>\n          <div class="vault-glow"></div>\n        </div>\n        <div class="unlock-clamps">\n          <div class="clamp c1"></div>\n          <div class="clamp c2"></div>\n        </div>\n        <div class="unlock-beams">\n          <div class="beam b1"></div>\n          <div class="beam b2"></div>\n          <div class="beam b3"></div>\n        </div>\n        <div class="screen-flash"></div>\n        <div class="wormhole">\n          <div class="wormhole-core"></div>\n          <div class="wormhole-ring wr1"></div>\n          <div class="wormhole-ring wr2"></div>\n          <div class="wormhole-ring wr3"></div>\n        </div>\n        <div class="unlock-burst"></div>\n        <div class="unlock-flare"></div>\n        <div class="unlock-shock"></div>\n        <div class="unlock-sparks">\n          ${Array.from({length:18},(_,e)=>`<div class="unlock-spark us-${e}"></div>`).join('')}\n        </div>\n        <div class="unlock-shards">\n          ${Array.from({length:16},(_,e)=>`<div class="shard sh-${e}"></div>`).join('')}\n        </div>\n        <div class="data-particles">${a}</div>\n        <div class="tech-header">\n          <span class="tech-icon">ğŸ”“</span>\n          <span class="tech-name">${e}</span>\n        </div>\n        <div class="tech-footer">\n          <div class="progress-bar">\n            <div class="progress-fill" style="width:${t}%"></div>\n            <span class="progress-text">${t}%</span>\n          </div>\n          <div class="tech-status">è§£é”ä¸­<span class="dots"></span></div>\n        </div>\n        <div class="scene-skip">ç‚¹å‡»è·³è¿‡</div>\n      </div>\n    `}(i.techName,i.oldProgress);const u=d.querySelector('.tech-scene');return u.addEventListener('click',s),new Promise(e=>{r=e,a=l.context(()=>{const e=d.querySelectorAll('.data-particle'),t=d.querySelector('.vault'),a=d.querySelector('.vault-door'),r=d.querySelector('.vault-lock'),c=d.querySelector('.vault-glow'),s=d.querySelectorAll('.unlock-clamps .clamp'),p=d.querySelectorAll('.unlock-beams .beam'),m=d.querySelector('.screen-flash'),v=d.querySelector('.wormhole'),f=d.querySelector('.wormhole-core'),y=d.querySelectorAll('.wormhole-ring'),h=d.querySelector('.unlock-burst'),k=d.querySelector('.unlock-flare'),g=d.querySelector('.unlock-shock'),b=d.querySelectorAll('.unlock-spark'),E=d.querySelectorAll('.shard'),V=d.querySelector('.tech-header'),N=d.querySelector('.tech-footer'),w=d.querySelector('.progress-fill'),x=d.querySelector('.progress-text'),S=d.querySelector('.tech-status'),C=d.querySelector('.dots'),B=d.querySelector('.scene-skip');n=l.timeline({onComplete:o}),n.fromTo(u,{opacity:0},{opacity:1,duration:.3}),n.to(V,{opacity:1,duration:.4},.2),n.to(N,{opacity:1,duration:.4},.3),n.to(B,{opacity:1,duration:.3},.4),l.set(t,{opacity:0,scale:.9}),l.set(a,{opacity:0}),l.set(r,{opacity:0,scale:.6}),l.set(c,{opacity:0}),l.set(s,{opacity:0,x:0}),l.set(p,{opacity:0,scaleY:.6}),l.set(m,{opacity:0}),l.set(v,{opacity:0,scale:.6}),l.set(f,{opacity:0,scale:.6}),l.set(y,{opacity:0,scale:.6}),l.set(h,{opacity:0,scale:.6}),l.set(k,{opacity:0,scale:.6}),l.set(g,{opacity:0,scale:.6}),l.set(b,{opacity:0,scale:0}),l.set(E,{opacity:0,scale:0}),n.to(t,{opacity:1,scale:1,duration:.4},.35),n.to(a,{opacity:1,duration:.3},.5),n.to(r,{opacity:1,scale:1,duration:.3,ease:'back.out(1.6)'},.6),n.to(c,{opacity:.6,duration:.4},.7),n.to(s,{opacity:1,x:6,duration:.3,stagger:.1},.55),n.to(p,{opacity:.7,scaleY:1,duration:.4,stagger:.1},.55),n.to(v,{opacity:.7,scale:1,duration:.5,ease:'power2.out'},.75),n.to(f,{opacity:.9,scale:1,duration:.4,ease:'power2.out'},.85),n.to(y,{opacity:.7,scale:1,duration:.4,stagger:.08},.9),y.forEach((e,t)=>{l.to(e,{rotation:t%2==0?360:-360,duration:4+t,repeat:-1,ease:'none'})}),l.to(r,{boxShadow:'0 0 16px rgba(90, 190, 200, 0.7)',duration:.8,repeat:-1,yoyo:!0,ease:'sine.inOut'}),e.forEach((e,t)=>{const a=1.5+1*Math.random(),n=2*Math.random();l.to(e,{left:'50%',top:'50%',opacity:0,duration:a,delay:n,ease:'power2.in',repeat:-1,onRepeat:function(){l.set(e,{left:100*Math.random()+'%',top:100*Math.random()+'%',opacity:.6})}})});const M=Math.max(2,(100-i.oldProgress)/10*.2);if(w&&x){const e={val:i.oldProgress};n.to(w,{width:'100%',duration:M,ease:'power2.out'},.8),n.to(e,{val:100,duration:M,ease:'power2.out',onUpdate:()=>{x&&(x.textContent=`${Math.round(e.val)}%`)}},.8)}const q=.8+M;n.add(()=>{h&&(m&&(l.fromTo(m,{opacity:.8},{opacity:0,duration:.2,ease:'power1.out'}),l.fromTo(m,{opacity:.6},{opacity:0,duration:.2,ease:'power1.out',delay:.12})),l.fromTo(h,{opacity:.6,scale:.6},{opacity:0,scale:2.2,duration:.6,ease:'power2.out'}),l.fromTo(k,{opacity:.7,scale:.6},{opacity:0,scale:2.6,duration:.7,ease:'power2.out'}),l.fromTo(g,{opacity:.6,scale:.6},{opacity:0,scale:3.2,duration:.8,ease:'power1.out'}),b.forEach((e,t)=>{const a=t/b.length*Math.PI*2+.6*Math.random(),n=34+20*Math.random();l.set(e,{opacity:1,scale:1,x:0,y:0}),l.to(e,{x:Math.cos(a)*n,y:Math.sin(a)*n,opacity:0,scale:0,duration:.6,ease:'power2.out'})}),E.forEach((e,t)=>{const a=t/E.length*Math.PI*2+.4*Math.random(),n=26+18*Math.random();l.set(e,{opacity:1,scale:1,x:0,y:0}),l.to(e,{x:Math.cos(a)*n,y:Math.sin(a)*n,opacity:0,scale:0,duration:.5,ease:'power2.out'})}))},[],q),S&&n.to(S,{textContent:'è§£é”å®Œæˆï¼',duration:.1},q+.2);let L=0;const D=setInterval(()=>{L=(L+1)%4,C&&(C.textContent='.'.repeat(L))},300);n.call(()=>{clearInterval(D),C&&(C.textContent='')},[],q),n.to(u,{opacity:0,duration:.4},4.6)})})},skip:s,isPlaying:t}}const On={class:'tech-tree'},Rn={class:'tree-pager'},In=['disabled'],Fn={class:'pager-text'},Un=['disabled'],Hn={class:'branch-title'},Xn={class:'branch-name'},Yn={class:'branch-meta'},Wn={class:'pixel-card-body'},Gn={class:'branch-layout'},Kn={class:'tech-nodes'},Zn=['onClick'],Jn={class:'node-core'},Qn={class:'node-name'},el={key:0,class:'node-lock'},tl={key:0,class:'node-progress'},al={class:'pixel-bar sm'},nl={key:0,class:'tech-detail'},ll={key:0,class:'locked-info'},rl={class:'detail-row'},ol={class:'detail-value'},cl={class:'detail-row'},sl={class:'detail-row'},il={class:'detail-value'},dl={key:0,class:'detail-row'},ul={class:'pixel-bar',style:{flex:'1'}},pl={class:'detail-num'},ml={key:1,class:'action-btns'},vl=['disabled'],fl={key:0,class:'cost-hint'},yl=['disabled'],hl={key:0,class:'cost-hint'},kl=(0,c.defineComponent)({__name:'TechTree',props:{ç§‘æŠ€æ ‘:{},èµ„æº:{}},setup(e){const t=e,a=(0,c.computed)(()=>Qe(t.èµ„æº)),n=oe(),r={ç”Ÿå­˜ç§‘æŠ€:'warning',å†œä¸šç§‘æŠ€:'success',åŒ»ç–—ç§‘æŠ€:'danger',å·¥ç¨‹ç§‘æŠ€:'',æ­¦å™¨ç§‘æŠ€:'danger',æ¢ç´¢ç§‘æŠ€:'frost'},o={ç”Ÿå­˜ç§‘æŠ€:['åŸºç¡€ä¾›æš–','éš”çƒ­æ”¹é€ ','çƒ­èƒ½å›æ”¶','åœ°çƒ­åˆ©ç”¨','æ ¸å¿ƒç†”ç‚‰'],å†œä¸šç§‘æŠ€:['ç®€æ˜“ç§æ¤','æ°´åŸ¹æŠ€æœ¯','äººå·¥å…‰ç…§','åŸºå› æ”¹è‰¯','è‡ªåŠ¨çŒæº‰'],åŒ»ç–—ç§‘æŠ€:['æ€¥æ•‘çŸ¥è¯†','è‰è¯å­¦','æ¶ˆæ¯’æŠ€æœ¯','å¤–ç§‘æ‰‹æœ¯','æŠ—æ„ŸæŸ“è¡€æ¸…','ä¹‰è‚¢æŠ€æœ¯'],å·¥ç¨‹ç§‘æŠ€:['åŸºç¡€ç»´ä¿®','å¼ºåŒ–ææ–™','ç”µåŠ›ç³»ç»Ÿ','è‡ªåŠ¨åŒ–','æ¨¡å—æ‰©å±•'],æ­¦å™¨ç§‘æŠ€:['ç®€æ˜“æ­¦å™¨','é”»é€ æŠ€æœ¯','å¼©å¼“åˆ¶ä½œ','æŠ¤ç”²é”»é€ ','ç«è¯é…æ–¹','é™·é˜±å·¥è‰º'],æ¢ç´¢ç§‘æŠ€:['åœ°å›¾ç»˜åˆ¶','é‡å¤–ç”Ÿå­˜','ä¿¡å·è¿½è¸ª','è½¦è¾†æ”¹è£…','é›ªåœ°è½½å…·']},s=Object.keys(o),i=(0,c.computed)(()=>{const e=s.filter(e=>t.ç§‘æŠ€æ ‘[e]).map(e=>[e,t.ç§‘æŠ€æ ‘[e]]),a=Object.entries(t.ç§‘æŠ€æ ‘).filter(([e])=>!s.includes(e));return e.concat(a)}),d=(0,c.ref)(0),u=(0,c.computed)(()=>Math.max(1,Math.ceil(i.value.length/2))),p=(0,c.computed)(()=>i.value.slice(2*d.value,2*(d.value+1)));function m(){d.value=(d.value-1+u.value)%u.value}function v(){d.value=(d.value+1)%u.value}(0,c.watch)(u,e=>{d.value>e-1&&(d.value=0)});const f=(0,c.ref)(!1),y=(0,c.ref)(null),h=(0,c.ref)(),k=Pn({containerEl:h});function g(e){return{total:Object.keys(e).length,unlocked:Object.values(e).filter(e=>e.å·²è§£é”).length}}function b(e,t){const a=o[t];if(!a?.length)return Object.keys(e);const n=a.filter(t=>e[t]),l=Object.keys(e).filter(e=>!a.includes(e));return n.concat(l)}function E(e,t,a,n){if(n.å·²è§£é”)return!1;const l=b(e,t),r=l.indexOf(a);if(r<=0)return!1;const o=l[r-1];return!!o&&!e[o]?.å·²è§£é”}function V(e,t){return b(t,e).map(e=>[e,t[e]]).filter(([,e])=>e)}const N=(0,c.computed)(()=>{if(!y.value||y.value.data.å·²è§£é”||y.value.locked)return null;const{branch:e,name:t,data:n}=y.value;return a.value.tech.research(e,t,n.ç ”ç©¶è¿›åº¦)}),w=(0,c.computed)(()=>{if(!y.value||y.value.data.å·²è§£é”||y.value.locked)return null;const{branch:e,name:t,data:n}=y.value;return a.value.tech.researchMax(e,t,n.ç ”ç©¶è¿›åº¦)}),x=(0,c.computed)(()=>y.value?Xe(y.value.branch,y.value.name):'');function S(e){const t=n.data.é¿éš¾æ‰€.èµ„æº;return!!Object.entries(e).every(([e,a])=>t[e]>=a)&&(Object.entries(e).forEach(([e,a])=>{t[e]=Math.max((t[e]??0)-a,0)}),!0)}function C(e){if(!e)return'';const t=Object.entries(e).filter(([_,e])=>e>0);return t.length?t.map(([e,t])=>`${e}${t}`).join(' '):'æ— '}function B(e){if(!e)return'';const a=Object.keys(e);return a.length?a.map(e=>`${e}${t.èµ„æº?.[e]??0}`).join(' '):'æ— '}function M(e,t,a){const l=n.data.ç§‘æŠ€æ ‘?.[e]?.[t];l&&(l.ç ”ç©¶è¿›åº¦=a,a>=100&&(l.å·²è§£é”=!0))}async function q(){if(!N.value||!y.value||k.isPlaying.value)return;if(!S(N.value.cost))return;const e=y.value.data.ç ”ç©¶è¿›åº¦,t=Math.min(e+10,100);await k.playResearch({techName:y.value.name,oldProgress:e,newProgress:t}),M(y.value.branch,y.value.name,t),f.value=!1}async function L(){if(!w.value||!y.value||k.isPlaying.value)return;if(!S(w.value.cost))return;const e=y.value.data.ç ”ç©¶è¿›åº¦;await k.playMaxUnlock({techName:y.value.name,oldProgress:e,newProgress:100}),M(y.value.branch,y.value.name,100),f.value=!1}return(0,c.onMounted)(()=>{const e=l.timeline({defaults:{ease:'power2.out'}});e.from('.branch-card',{opacity:0,y:12,duration:.35,stagger:.08}),e.from('.branch-spine',{scaleY:0,transformOrigin:'top',duration:.3,stagger:.08},'-=0.2'),e.from('.tech-node',{opacity:0,x:-8,scale:.96,stagger:.02,duration:.25},'-=0.2')}),(e,t)=>((0,c.openBlock)(),(0,c.createElementBlock)('div',On,[(0,c.createElementVNode)('div',Rn,[(0,c.createElementVNode)('button',{class:'pixel-btn sm',disabled:(0,c.unref)(u)<=1,onClick:m},'â—€',8,In),(0,c.createElementVNode)('div',Fn,(0,c.toDisplayString)((0,c.unref)(d)+1)+' / '+(0,c.toDisplayString)((0,c.unref)(u)),1),(0,c.createElementVNode)('button',{class:'pixel-btn sm',disabled:(0,c.unref)(u)<=1,onClick:v},'â–¶',8,Un)]),(0,c.createVNode)(c.Transition,{name:'page-slide',mode:'out-in'},{default:(0,c.withCtx)(()=>[((0,c.openBlock)(),(0,c.createElementBlock)('div',{key:(0,c.unref)(d),class:'branches-container'},[((0,c.openBlock)(!0),(0,c.createElementBlock)(c.Fragment,null,(0,c.renderList)((0,c.unref)(p),([e,a])=>((0,c.openBlock)(),(0,c.createElementBlock)('div',{key:e,class:'pixel-card branch-card'},[(0,c.createElementVNode)('div',{class:(0,c.normalizeClass)(['pixel-card-header branch-header',r[e]])},[t[1]||(t[1]=(0,c.createElementVNode)('div',{class:'header-icon'},null,-1)),(0,c.createElementVNode)('div',Hn,[(0,c.createElementVNode)('div',Xn,(0,c.toDisplayString)(e),1),(0,c.createElementVNode)('div',Yn,(0,c.toDisplayString)(g(a).unlocked)+'/'+(0,c.toDisplayString)(g(a).total)+' å·²è§£é” ',1)])],2),(0,c.createElementVNode)('div',Wn,[(0,c.createElementVNode)('div',Gn,[(0,c.createElementVNode)('div',{class:(0,c.normalizeClass)(['branch-spine',r[e]])},null,2),(0,c.createElementVNode)('div',Kn,[((0,c.openBlock)(!0),(0,c.createElementBlock)(c.Fragment,null,(0,c.renderList)(V(e,a),([n,l])=>((0,c.openBlock)(),(0,c.createElementBlock)('div',{key:n,class:(0,c.normalizeClass)(['tech-node',{unlocked:l.å·²è§£é”,'in-progress':!l.å·²è§£é”&&l.ç ”ç©¶è¿›åº¦>0,locked:E(a,e,n,l),[r[e]]:l.å·²è§£é”}]),onClick:t=>function(e,t,a,n){y.value={branch:e,name:t,data:a,locked:n},f.value=!0}(e,n,l,E(a,e,n,l))},[t[2]||(t[2]=(0,c.createElementVNode)('span',{class:'node-link','aria-hidden':'true'},null,-1)),(0,c.createElementVNode)('div',Jn,[(0,c.createElementVNode)('div',{class:(0,c.normalizeClass)(['node-indicator',{active:l.å·²è§£é”}])},null,2),(0,c.createElementVNode)('span',Qn,(0,c.toDisplayString)(n),1),E(a,e,n,l)?((0,c.openBlock)(),(0,c.createElementBlock)('span',el,'ğŸ”’')):(0,c.createCommentVNode)('v-if',!0)]),!l.å·²è§£é”&&l.ç ”ç©¶è¿›åº¦>0?((0,c.openBlock)(),(0,c.createElementBlock)('div',tl,[(0,c.createElementVNode)('div',al,[(0,c.createElementVNode)('div',{class:'bar-fill',style:(0,c.normalizeStyle)({width:l.ç ”ç©¶è¿›åº¦+'%'})},null,4)])])):(0,c.createCommentVNode)('v-if',!0)],10,Zn))),128))])])])]))),128))]))]),_:1}),(0,c.createVNode)(ye,{visible:(0,c.unref)(f),title:(0,c.unref)(y)?.name,onClose:t[0]||(t[0]=e=>f.value=!1)},{default:(0,c.withCtx)(()=>[(0,c.unref)(y)?((0,c.openBlock)(),(0,c.createElementBlock)('div',nl,[(0,c.unref)(k).isPlaying.value?((0,c.openBlock)(),(0,c.createElementBlock)('div',{key:0,ref_key:'techContainerRef',ref:h,class:'tech-anim-container'},null,512)):((0,c.openBlock)(),(0,c.createElementBlock)(c.Fragment,{key:1},[(0,c.unref)(y).locked?((0,c.openBlock)(),(0,c.createElementBlock)('div',ll,[...t[3]||(t[3]=[(0,c.createElementVNode)('div',{class:'locked-icon'},'ğŸ”’',-1),(0,c.createElementVNode)('div',{class:'locked-text'},'éœ€å…ˆè§£é”å‰ç½®ç§‘æŠ€',-1)])])):((0,c.openBlock)(),(0,c.createElementBlock)(c.Fragment,{key:1},[(0,c.createElementVNode)('div',rl,[t[4]||(t[4]=(0,c.createElementVNode)('span',{class:'detail-label'},'åˆ†æ”¯',-1)),(0,c.createElementVNode)('span',ol,(0,c.toDisplayString)((0,c.unref)(y).branch),1)]),(0,c.createElementVNode)('div',cl,[t[5]||(t[5]=(0,c.createElementVNode)('span',{class:'detail-label'},'çŠ¶æ€',-1)),(0,c.createElementVNode)('span',{class:(0,c.normalizeClass)(['pixel-tag sm',(0,c.unref)(y).data.å·²è§£é”?'success':''])},(0,c.toDisplayString)((0,c.unref)(y).data.å·²è§£é”?'å·²è§£é”':'æœªè§£é”'),3)]),(0,c.createElementVNode)('div',sl,[t[6]||(t[6]=(0,c.createElementVNode)('span',{class:'detail-label'},'ä½œç”¨',-1)),(0,c.createElementVNode)('span',il,(0,c.toDisplayString)((0,c.unref)(x)),1)]),(0,c.unref)(y).data.å·²è§£é”?(0,c.createCommentVNode)('v-if',!0):((0,c.openBlock)(),(0,c.createElementBlock)('div',dl,[t[7]||(t[7]=(0,c.createElementVNode)('span',{class:'detail-label'},'è¿›åº¦',-1)),(0,c.createElementVNode)('div',ul,[(0,c.createElementVNode)('div',{class:'bar-fill',style:(0,c.normalizeStyle)({width:(0,c.unref)(y).data.ç ”ç©¶è¿›åº¦+'%'})},null,4)]),(0,c.createElementVNode)('span',pl,(0,c.toDisplayString)((0,c.unref)(y).data.ç ”ç©¶è¿›åº¦)+'%',1)])),(0,c.unref)(y).data.å·²è§£é”?(0,c.createCommentVNode)('v-if',!0):((0,c.openBlock)(),(0,c.createElementBlock)('div',ml,[(0,c.createElementVNode)('button',{class:(0,c.normalizeClass)(['action-btn',{disabled:!(0,c.unref)(N)?.affordable||(0,c.unref)(k).isPlaying.value}]),disabled:!(0,c.unref)(N)?.affordable||(0,c.unref)(k).isPlaying.value,onClick:q},[t[8]||(t[8]=(0,c.createTextVNode)(' ğŸ”¬ ç ”ç©¶ (+10%) ',-1)),(0,c.unref)(N)?((0,c.openBlock)(),(0,c.createElementBlock)('span',fl,' (æ¶ˆè€— '+(0,c.toDisplayString)(C((0,c.unref)(N).cost))+' | ç°æœ‰ '+(0,c.toDisplayString)(B((0,c.unref)(N).cost))+') ',1)):(0,c.createCommentVNode)('v-if',!0)],10,vl),(0,c.createElementVNode)('button',{class:(0,c.normalizeClass)(['action-btn success',{disabled:!(0,c.unref)(w)?.affordable||(0,c.unref)(k).isPlaying.value}]),disabled:!(0,c.unref)(w)?.affordable||(0,c.unref)(k).isPlaying.value,onClick:L},[t[9]||(t[9]=(0,c.createTextVNode)(' âš¡ ä¸€é”®æ»¡çº§ ',-1)),(0,c.unref)(w)?((0,c.openBlock)(),(0,c.createElementBlock)('span',hl,' (æ¶ˆè€— '+(0,c.toDisplayString)(C((0,c.unref)(w).cost))+' | ç°æœ‰ '+(0,c.toDisplayString)(B((0,c.unref)(w).cost))+') ',1)):(0,c.createCommentVNode)('v-if',!0)],10,yl)]))],64))],64))])):(0,c.createCommentVNode)('v-if',!0)]),_:1},8,['visible','title'])]))}}),gl=(0,ue.A)(kl,[['__scopeId','data-v-14042412']]);function bl(e){const t=(0,c.ref)(!1);let a=null,n=null,r=null;function o(){n&&(n.kill(),n=null),a&&(a.kill(),a=null),t.value=!1,r&&(r(),r=null)}function s(){t.value&&o()}return(0,c.onUnmounted)(o),{play:async function(i){if(t.value)return;t.value=!0,await(0,c.nextTick)();const d=e.containerEl.value;if(!d)return void(t.value=!1);d.innerHTML=function(e){const{characterName:t,interactionType:a,userInput:n}=e,l='è‰²è‰²'===a?{primary:'rgba(200, 100, 150, 0.8)',secondary:'rgba(180, 80, 130, 0.6)',glow:'rgba(220, 120, 170, 0.4)',bg:'linear-gradient(180deg, #1a0a12 0%, #120810 100%)'}:{primary:'rgba(100, 180, 200, 0.8)',secondary:'rgba(80, 160, 180, 0.6)',glow:'rgba(120, 200, 220, 0.4)',bg:'linear-gradient(180deg, #0a1218 0%, #081015 100%)'},r='è‰²è‰²'===a?'ğŸ’•':'ğŸ’¬',o=n.length>50?n.slice(0,50)+'...':n,c=Array.from({length:20},(_,e)=>{const t=100*Math.random(),a=100*Math.random(),n=2+3*Math.random();return`<div class="interact-particle" data-idx="${e}" style="\n        left:${t}%;top:${a}%;\n        width:${n}px;height:${n}px;\n      "></div>`}).join('');return`\n      <div class="interact-scene" data-type="${a}">\n        <div class="interact-bg" style="background:${l.bg}">\n          <div class="interact-grid"></div>\n          <div class="interact-wave w1"></div>\n          <div class="interact-wave w2"></div>\n        </div>\n        <div class="interact-particles">${c}</div>\n        <div class="interact-character">\n          <div class="char-silhouette"></div>\n          <div class="char-glow"></div>\n        </div>\n        <div class="interact-ui">\n          <div class="interact-header">\n            <span class="interact-icon">${r}</span>\n            <span class="interact-name">${t}</span>\n          </div>\n          <div class="interact-type-badge">${a}</div>\n          <div class="interact-content">\n            <div class="content-text">${o}</div>\n          </div>\n          <div class="interact-status">äº’åŠ¨ä¸­<span class="dots"></span></div>\n        </div>\n        <div class="scene-skip">ç‚¹å‡»è·³è¿‡</div>\n      </div>\n    `}(i);const u=d.querySelector('.interact-scene');return u.addEventListener('click',s),new Promise(e=>{r=e,a=l.context(()=>{const e=d.querySelectorAll('.interact-particle'),t=d.querySelectorAll('.interact-wave'),a=d.querySelector('.interact-character'),r=d.querySelector('.char-glow'),c=d.querySelector('.interact-ui'),s=d.querySelector('.interact-header'),i=d.querySelector('.interact-type-badge'),p=d.querySelector('.interact-content'),m=d.querySelector('.interact-status'),v=d.querySelector('.dots'),f=d.querySelector('.scene-skip');n=l.timeline({onComplete:o}),n.fromTo(u,{opacity:0},{opacity:1,duration:.3}),n.to(a,{opacity:1,duration:.4},.2),n.to(c,{opacity:1,duration:.4},.3),n.to(f,{opacity:1,duration:.3},.5),n.fromTo(s,{y:-10,opacity:0},{y:0,opacity:1,duration:.3},.4),n.fromTo(i,{scale:.8,opacity:0},{scale:1,opacity:1,duration:.3},.5),n.fromTo(p,{y:10,opacity:0},{y:0,opacity:1,duration:.4},.6),n.to(m,{opacity:1,duration:.3},.8),l.to(r,{scale:1.2,opacity:.8,duration:1.5,repeat:-1,yoyo:!0,ease:'sine.inOut'}),t.forEach((e,t)=>{l.fromTo(e,{scale:.5,opacity:.5},{scale:2,opacity:0,duration:2.5,delay:.8*t,repeat:-1,ease:'power1.out'})}),e.forEach(e=>{const t=1.5+1*Math.random(),a=1.5*Math.random();l.to(e,{y:'-=30',opacity:0,duration:t,delay:a,ease:'power1.out',repeat:-1,onRepeat:function(){l.set(e,{left:100*Math.random()+'%',top:70+30*Math.random()+'%',opacity:.6})}})});let y=0;const h=setInterval(()=>{y=(y+1)%4,v&&(v.textContent='.'.repeat(y))},300);n.call(()=>clearInterval(h),[],3),n.to(m,{textContent:'äº’åŠ¨å®Œæˆï¼',duration:.1},2.7),n.to(u,{opacity:0,duration:.4},3.1)})})},skip:s,isPlaying:t}}const El={class:'survivor-panel'},Vl={class:'pixel-card'},Nl={class:'pixel-card-body'},wl={class:'survivor-grid'},xl=['onClick'],Sl={class:'surv-core'},Cl={class:'surv-identity'},Bl={class:'name-line'},zl={class:'surv-name'},Ml={class:'surv-meta'},$l={class:'meta-chip'},ql={class:'meta-chip dim'},_l={class:'status-chips'},Ll={class:'task-chip'},Dl={class:'surv-body'},Tl={class:'stat-stack'},jl={class:'stat-track'},Al={class:'track-bar'},Pl={class:'stat-track'},Ol={class:'track-bar'},Rl={class:'stat-track'},Il={class:'track-bar'},Fl={class:'stat-track'},Ul={class:'track-bar'},Hl={class:'surv-aside'},Xl={class:'skill-list'},Yl={key:0,class:'survivor-pager'},Wl=['disabled'],Gl={class:'pager-status'},Kl=['disabled'],Zl={key:0,class:'survivor-detail'},Jl={class:'detail-row'},Ql={class:'detail-value'},er={class:'detail-row'},tr={class:'detail-row'},ar={class:'detail-value'},nr={class:'detail-row'},lr={class:'pixel-tag sm'},rr={class:'detail-row'},or={key:0,class:'relation-section'},cr={class:'relation-bars'},sr={class:'bar-row'},ir={class:'pixel-bar'},dr={class:'bar-val'},ur={class:'skill-section'},pr={class:'skill-grid'},mr={class:'skill-name'},vr={class:'skill-val'},fr={key:1,class:'interact-section'},yr={class:'input-area'},hr={class:'interact-btns'},kr=['disabled'],gr=['disabled'],br=(0,c.defineComponent)({__name:'SurvivorPanel',props:{ç”·æ€§å¹¸å­˜è€…:{},å¥³æ€§å¹¸å­˜è€…:{},èµ„æº:{}},setup(e){const t=e,a=(0,c.computed)(()=>Qe(t.èµ„æº)),n=(0,c.computed)(()=>[...Object.entries(t.ç”·æ€§å¹¸å­˜è€…).map(([e,t])=>({key:e,gender:'male',...t})),...Object.entries(t.å¥³æ€§å¹¸å­˜è€…).map(([e,t])=>({key:e,gender:'female',...t}))]),r=(0,c.ref)(0),o=(0,c.computed)(()=>Math.max(1,Math.ceil(n.value.length/2))),s=(0,c.computed)(()=>{const e=2*r.value;return n.value.slice(e,e+2)}),i=(0,c.ref)(!1),d=(0,c.ref)(null),u=(0,c.ref)('äº¤æµ'),p=(0,c.ref)(''),m=(0,c.ref)(),v=bl({containerEl:m});function f(e){return e>=80?'success':e>=50?'warning':'danger'}function y(e){return e>=60?'high':e>=30?'mid':'low'}function h(e){return Math.round(Math.max(0,100-e))}function k(e){return e>=70?'success':e>=40?'warning':'danger'}function g(e){return e>=36.5?'success':e>=35.5?'warning':'danger'}function b(e){return e>=85?'danger':e>=60?'warning':'success'}function E(e){return e>=70?'high':e>=40?'mid':'low'}function V(e){const t=e?.toUpperCase?.()??'N';return'UR'===t?'ur':'SSR'===t?'ssr':'SR'===t?'sr':'R'===t?'r':'n'}function N(e){const t=Math.max(30,Math.min(e,40));return Math.round((t-30)/10*100)}async function w(e){if(!d.value||!p.value.trim()||v.isPlaying.value)return;u.value=e;const t=d.value.å§“å,n=p.value.trim();await v.play({characterName:t,interactionType:e,userInput:n});je(('è‰²è‰²'===e?a.value.interaction.intimate:a.value.interaction.chat)(t,n).text),i.value=!1}return(0,c.onMounted)(()=>{l.from('.survivor-grid',{opacity:0,duration:.35,ease:'power2.out'})}),(0,c.watch)(o,e=>{r.value>=e&&(r.value=Math.max(0,e-1))}),(e,t)=>((0,c.openBlock)(),(0,c.createElementBlock)('div',El,[(0,c.createElementVNode)('div',Vl,[t[11]||(t[11]=(0,c.createElementVNode)('div',{class:'pixel-card-header'},[(0,c.createElementVNode)('div',{class:'header-icon'}),(0,c.createTextVNode)(' å¹¸å­˜è€…åˆ—è¡¨ ')],-1)),(0,c.createElementVNode)('div',Nl,[(0,c.createElementVNode)('div',wl,[((0,c.openBlock)(!0),(0,c.createElementBlock)(c.Fragment,null,(0,c.renderList)((0,c.unref)(s),e=>{return(0,c.openBlock)(),(0,c.createElementBlock)('div',{key:e.key,class:(0,c.normalizeClass)(['survivor-item pixel-card',[e.gender,`rarity-${V(e.ç¨€æœ‰åº¦)}`]]),onClick:t=>function(e){d.value=e,p.value='',i.value=!0}(e)},[(0,c.createElementVNode)('div',Sl,[(0,c.createElementVNode)('div',Cl,[(0,c.createElementVNode)('div',Bl,[(0,c.createElementVNode)('span',zl,(0,c.toDisplayString)(e.å§“å),1),(0,c.createElementVNode)('span',{class:(0,c.normalizeClass)(['pixel-tag mini',e.gender])},(0,c.toDisplayString)('female'===e.gender?'â™€':'â™‚'),3)]),(0,c.createElementVNode)('div',Ml,[(0,c.createElementVNode)('span',$l,(0,c.toDisplayString)(e.å¹´é¾„)+'å²',1),(0,c.createElementVNode)('span',ql,'ä»»åŠ¡ï¼š'+(0,c.toDisplayString)(e.å½“å‰ä»»åŠ¡),1)])]),(0,c.createElementVNode)('div',_l,[(0,c.createElementVNode)('span',Ll,(0,c.toDisplayString)(e.å½“å‰ä»»åŠ¡),1),(0,c.createElementVNode)('span',{class:(0,c.normalizeClass)(['rarity-chip',V(e.ç¨€æœ‰åº¦)])},(0,c.toDisplayString)(e.ç¨€æœ‰åº¦),3)])]),(0,c.createElementVNode)('div',Dl,[(0,c.createElementVNode)('div',Tl,[(0,c.createElementVNode)('div',jl,[t[6]||(t[6]=(0,c.createElementVNode)('span',{class:'track-label'},'å¥åº·',-1)),(0,c.createElementVNode)('div',Al,[(0,c.createElementVNode)('div',{class:(0,c.normalizeClass)(['track-fill',f(e.ç”Ÿå­˜çŠ¶æ€.å¥åº·å€¼)]),style:(0,c.normalizeStyle)({width:e.ç”Ÿå­˜çŠ¶æ€.å¥åº·å€¼+'%'})},null,6)]),(0,c.createElementVNode)('span',{class:(0,c.normalizeClass)(['track-value',f(e.ç”Ÿå­˜çŠ¶æ€.å¥åº·å€¼)])},(0,c.toDisplayString)(Math.round(e.ç”Ÿå­˜çŠ¶æ€.å¥åº·å€¼)),3)]),(0,c.createElementVNode)('div',Pl,[t[7]||(t[7]=(0,c.createElementVNode)('span',{class:'track-label'},'é¥±é£Ÿ',-1)),(0,c.createElementVNode)('div',Ol,[(0,c.createElementVNode)('div',{class:(0,c.normalizeClass)(['track-fill',k(h(e.ç”Ÿå­˜çŠ¶æ€.é¥¥é¥¿åº¦))]),style:(0,c.normalizeStyle)({width:h(e.ç”Ÿå­˜çŠ¶æ€.é¥¥é¥¿åº¦)+'%'})},null,6)]),(0,c.createElementVNode)('span',{class:(0,c.normalizeClass)(['track-value',k(h(e.ç”Ÿå­˜çŠ¶æ€.é¥¥é¥¿åº¦))])},(0,c.toDisplayString)(h(e.ç”Ÿå­˜çŠ¶æ€.é¥¥é¥¿åº¦)),3)]),(0,c.createElementVNode)('div',Rl,[t[8]||(t[8]=(0,c.createElementVNode)('span',{class:'track-label'},'ä½“æ¸©',-1)),(0,c.createElementVNode)('div',Il,[(0,c.createElementVNode)('div',{class:(0,c.normalizeClass)(['track-fill',g(e.ç”Ÿå­˜çŠ¶æ€.ä½“æ¸©)]),style:(0,c.normalizeStyle)({width:N(e.ç”Ÿå­˜çŠ¶æ€.ä½“æ¸©)+'%'})},null,6)]),(0,c.createElementVNode)('span',{class:(0,c.normalizeClass)(['track-value',g(e.ç”Ÿå­˜çŠ¶æ€.ä½“æ¸©)])},(0,c.toDisplayString)(e.ç”Ÿå­˜çŠ¶æ€.ä½“æ¸©.toFixed(1)),3)]),(0,c.createElementVNode)('div',Fl,[t[9]||(t[9]=(0,c.createElementVNode)('span',{class:'track-label'},'ç–²åŠ³',-1)),(0,c.createElementVNode)('div',Ul,[(0,c.createElementVNode)('div',{class:(0,c.normalizeClass)(['track-fill',b(e.ç”Ÿå­˜çŠ¶æ€.ç–²åŠ³åº¦)]),style:(0,c.normalizeStyle)({width:e.ç”Ÿå­˜çŠ¶æ€.ç–²åŠ³åº¦+'%'})},null,6)]),(0,c.createElementVNode)('span',{class:(0,c.normalizeClass)(['track-value',b(e.ç”Ÿå­˜çŠ¶æ€.ç–²åŠ³åº¦)])},(0,c.toDisplayString)(Math.round(e.ç”Ÿå­˜çŠ¶æ€.ç–²åŠ³åº¦)),3)])]),(0,c.createElementVNode)('div',Hl,[t[10]||(t[10]=(0,c.createElementVNode)('div',{class:'skill-title'},'ä¼˜åŠ¿æŠ€èƒ½',-1)),(0,c.createElementVNode)('div',Xl,[((0,c.openBlock)(!0),(0,c.createElementBlock)(c.Fragment,null,(0,c.renderList)((a=e.æŠ€èƒ½,Object.entries(a).sort((e,t)=>t[1]-e[1]).slice(0,2)),([e,t])=>((0,c.openBlock)(),(0,c.createElementBlock)('span',{key:e,class:'skill-chip'},(0,c.toDisplayString)(e)+' '+(0,c.toDisplayString)(Math.round(t)),1))),128))]),'female'===e.gender&&e.å…³ç³»æ•°æ®?((0,c.openBlock)(),(0,c.createElementBlock)('div',{key:0,class:(0,c.normalizeClass)(['relation-chip',y(e.å…³ç³»æ•°æ®?.å¥½æ„Ÿåº¦??0)])},' å¥½æ„Ÿ '+(0,c.toDisplayString)(Math.round(e.å…³ç³»æ•°æ®?.å¥½æ„Ÿåº¦??0)),3)):(0,c.createCommentVNode)('v-if',!0),(0,c.createElementVNode)('div',{class:(0,c.normalizeClass)(['loyalty-chip',E(e.å¿ è¯šåº¦)])},' å¿ è¯š '+(0,c.toDisplayString)(Math.round(e.å¿ è¯šåº¦)),3)])])],10,xl);var a}),128))]),(0,c.unref)(n).length>2?((0,c.openBlock)(),(0,c.createElementBlock)('div',Yl,[(0,c.createElementVNode)('button',{class:'pager-btn',disabled:0===(0,c.unref)(r),onClick:t[0]||(t[0]=e=>r.value-=1)},'â€¹',8,Wl),(0,c.createElementVNode)('div',Gl,'ç¬¬ '+(0,c.toDisplayString)((0,c.unref)(r)+1)+' / '+(0,c.toDisplayString)((0,c.unref)(o))+' é¡µ',1),(0,c.createElementVNode)('button',{class:'pager-btn',disabled:(0,c.unref)(r)>=(0,c.unref)(o)-1,onClick:t[1]||(t[1]=e=>r.value+=1)},'â€º',8,Kl)])):(0,c.createCommentVNode)('v-if',!0)])]),(0,c.createVNode)(ye,{visible:(0,c.unref)(i),title:(0,c.unref)(d)?.å§“å,onClose:t[5]||(t[5]=e=>i.value=!1)},{default:(0,c.withCtx)(()=>{return[(0,c.unref)(d)?((0,c.openBlock)(),(0,c.createElementBlock)('div',Zl,[(0,c.unref)(v).isPlaying.value?((0,c.openBlock)(),(0,c.createElementBlock)('div',{key:0,ref_key:'animContainerRef',ref:m,class:'interact-anim-container'},null,512)):((0,c.openBlock)(),(0,c.createElementBlock)(c.Fragment,{key:1},[(0,c.createElementVNode)('div',Jl,[t[12]||(t[12]=(0,c.createElementVNode)('span',{class:'detail-label'},'å¹´é¾„',-1)),(0,c.createElementVNode)('span',Ql,(0,c.toDisplayString)((0,c.unref)(d).å¹´é¾„)+'å²',1)]),(0,c.createElementVNode)('div',er,[t[13]||(t[13]=(0,c.createElementVNode)('span',{class:'detail-label'},'å¥åº·',-1)),(0,c.createElementVNode)('span',{class:(0,c.normalizeClass)(['detail-value',f((0,c.unref)(d).ç”Ÿå­˜çŠ¶æ€.å¥åº·å€¼)])},(0,c.toDisplayString)(Math.round((0,c.unref)(d).ç”Ÿå­˜çŠ¶æ€.å¥åº·å€¼)),3)]),(0,c.createElementVNode)('div',tr,[t[14]||(t[14]=(0,c.createElementVNode)('span',{class:'detail-label'},'é¥±é£Ÿåº¦',-1)),(0,c.createElementVNode)('span',ar,(0,c.toDisplayString)(Math.round(100-(0,c.unref)(d).ç”Ÿå­˜çŠ¶æ€.é¥¥é¥¿åº¦)),1)]),(0,c.createElementVNode)('div',nr,[t[15]||(t[15]=(0,c.createElementVNode)('span',{class:'detail-label'},'ä»»åŠ¡',-1)),(0,c.createElementVNode)('span',lr,(0,c.toDisplayString)((0,c.unref)(d).å½“å‰ä»»åŠ¡),1)]),(0,c.createElementVNode)('div',rr,[t[16]||(t[16]=(0,c.createElementVNode)('span',{class:'detail-label'},'å¿ è¯šåº¦',-1)),(0,c.createElementVNode)('span',{class:(0,c.normalizeClass)(['detail-value',E((0,c.unref)(d).å¿ è¯šåº¦)])},(0,c.toDisplayString)(Math.round((0,c.unref)(d).å¿ è¯šåº¦)),3)]),'female'===(0,c.unref)(d).gender&&(0,c.unref)(d).å…³ç³»æ•°æ®?((0,c.openBlock)(),(0,c.createElementBlock)('div',or,[t[18]||(t[18]=(0,c.createElementVNode)('div',{class:'section-title'},'å…³ç³»æ•°æ®',-1)),(0,c.createElementVNode)('div',cr,[(0,c.createElementVNode)('div',sr,[t[17]||(t[17]=(0,c.createElementVNode)('span',{class:'bar-label'},'å¥½æ„Ÿ',-1)),(0,c.createElementVNode)('div',ir,[(0,c.createElementVNode)('div',{class:(0,c.normalizeClass)(['bar-fill',y((0,c.unref)(d).å…³ç³»æ•°æ®?.å¥½æ„Ÿåº¦??0)]),style:(0,c.normalizeStyle)({width:Math.abs((e=(0,c.unref)(d).å…³ç³»æ•°æ®?.å¥½æ„Ÿåº¦??0,Math.max(-100,Math.min(e,100))))+'%'})},null,6)]),(0,c.createElementVNode)('span',dr,(0,c.toDisplayString)(Math.round((0,c.unref)(d).å…³ç³»æ•°æ®?.å¥½æ„Ÿåº¦??0)),1)])])])):(0,c.createCommentVNode)('v-if',!0),(0,c.createElementVNode)('div',ur,[t[19]||(t[19]=(0,c.createElementVNode)('div',{class:'section-title'},'æŠ€èƒ½',-1)),(0,c.createElementVNode)('div',pr,[((0,c.openBlock)(!0),(0,c.createElementBlock)(c.Fragment,null,(0,c.renderList)((0,c.unref)(d).æŠ€èƒ½,(e,t)=>((0,c.openBlock)(),(0,c.createElementBlock)('div',{key:t,class:'skill-item'},[(0,c.createElementVNode)('span',mr,(0,c.toDisplayString)(t),1),(0,c.createElementVNode)('span',vr,(0,c.toDisplayString)(Math.round(e)),1)]))),128))])]),'female'===(0,c.unref)(d).gender?((0,c.openBlock)(),(0,c.createElementBlock)('div',fr,[t[20]||(t[20]=(0,c.createElementVNode)('div',{class:'section-title'},'äº’åŠ¨',-1)),(0,c.createElementVNode)('div',yr,[(0,c.withDirectives)((0,c.createElementVNode)('textarea',{'onUpdate:modelValue':t[2]||(t[2]=e=>(0,c.isRef)(p)?p.value=e:null),class:'interact-input',placeholder:'è¾“å…¥äº’åŠ¨å†…å®¹...',rows:'2'},null,512),[[c.vModelText,(0,c.unref)(p)]])]),(0,c.createElementVNode)('div',hr,[(0,c.createElementVNode)('button',{class:(0,c.normalizeClass)(['action-btn',{disabled:!(0,c.unref)(p).trim()||(0,c.unref)(v).isPlaying.value}]),disabled:!(0,c.unref)(p).trim()||(0,c.unref)(v).isPlaying.value,onClick:t[3]||(t[3]=e=>w('äº¤æµ'))},' ğŸ’¬ äº¤æµ ',10,kr),(0,c.createElementVNode)('button',{class:(0,c.normalizeClass)(['action-btn intimate',{disabled:!(0,c.unref)(p).trim()||(0,c.unref)(v).isPlaying.value}]),disabled:!(0,c.unref)(p).trim()||(0,c.unref)(v).isPlaying.value,onClick:t[4]||(t[4]=e=>w('è‰²è‰²'))},' ğŸ’• è‰²è‰² ',10,gr)])])):(0,c.createCommentVNode)('v-if',!0)],64))])):(0,c.createCommentVNode)('v-if',!0)];var e}),_:1},8,['visible','title'])]))}}),Er=(0,ue.A)(br,[['__scopeId','data-v-257fbce6']]);const Vr={class:'map-panel'},Nr={key:0,class:'pixel-card expedition-card'},wr={class:'pixel-card-body'},xr={class:'exp-info'},Sr={class:'pixel-tag accent'},Cr={class:'exp-members'},Br={class:'exp-meta'},zr={class:'exp-line'},Mr={class:'exp-value'},$r={class:'exp-line'},qr={class:'exp-value'},_r={class:'pixel-card'},Lr={class:'pixel-card-body'},Dr={class:'area-grid'},Tr=['onClick'],jr={class:'area-header'},Ar={class:'area-name'},Pr={key:0,class:'lock-icon'},Or={class:'area-type'},Rr={key:0,class:'area-threat'},Ir={class:'threat-icon'},Fr={key:2,class:'locked-hint'},Ur={key:0},Hr={key:1},Xr={key:0,class:'area-detail'},Yr={class:'locked-info'},Wr={class:'locked-hint-modal'},Gr={key:0},Kr={key:1},Zr={key:1,class:'area-detail'},Jr={class:'detail-row'},Qr={class:'detail-value'},eo={class:'detail-row'},to={class:'detail-row'},ao={class:'threat-icon'},no={class:'detail-row'},lo={class:'detail-value'},ro={class:'detail-row'},oo={class:'detail-value'},co={class:'detail-row'},so={class:'pixel-bar',style:{flex:'1'}},io={class:'detail-num'},uo={class:'team-input'},po={class:'team-row'},mo={class:'team-toggle'},vo={key:0,class:'team-quick'},fo={class:'team-quick-list'},yo=['onClick'],ho={class:'chip-name'},ko={key:0,class:'chip-task'},go=['disabled'],bo={key:0,class:'cost-hint'},Eo=['disabled'],Vo={key:0,class:'cost-hint'},No=['disabled'],wo={key:0,class:'cost-hint'},xo=(0,c.defineComponent)({__name:'MapPanel',props:{åœ°å›¾:{},èµ„æº:{},å¹¸å­˜è€…:{}},setup(e){const t={é¿éš¾æ‰€å‘¨è¾¹:{åç§°:'é¿éš¾æ‰€å‘¨è¾¹',ç±»å‹:'åºŸå¢Ÿ',çŠ¶æ€:'å·²è§£é”',å±é™©ç­‰çº§:1,æ¢ç´¢è¿›åº¦:30,å‰ç½®åŒºåŸŸ:[]},åºŸå¼ƒè¶…å¸‚:{åç§°:'åºŸå¼ƒè¶…å¸‚',ç±»å‹:'è¶…å¸‚',çŠ¶æ€:'å·²è§£é”',å±é™©ç­‰çº§:2,æ¢ç´¢è¿›åº¦:0,å‰ç½®åŒºåŸŸ:['é¿éš¾æ‰€å‘¨è¾¹']},å±…æ°‘åŒºåºŸå¢Ÿ:{åç§°:'å±…æ°‘åŒºåºŸå¢Ÿ',ç±»å‹:'å±…æ°‘åŒº',çŠ¶æ€:'å·²è§£é”',å±é™©ç­‰çº§:2,æ¢ç´¢è¿›åº¦:0,å‰ç½®åŒºåŸŸ:['åºŸå¼ƒè¶…å¸‚']},åºŸå¼ƒå·¥å‚:{åç§°:'åºŸå¼ƒå·¥å‚',ç±»å‹:'å·¥å‚',çŠ¶æ€:'å·²è§£é”',å±é™©ç­‰çº§:3,æ¢ç´¢è¿›åº¦:0,å‰ç½®åŒºåŸŸ:['å±…æ°‘åŒºåºŸå¢Ÿ']},åœ°é“ç«™:{åç§°:'åœ°é“ç«™',ç±»å‹:'åœ°é“ç«™',çŠ¶æ€:'å·²è§£é”',å±é™©ç­‰çº§:3,æ¢ç´¢è¿›åº¦:0,å‰ç½®åŒºåŸŸ:['åºŸå¼ƒå·¥å‚']},å¸‚ç«‹åŒ»é™¢:{åç§°:'å¸‚ç«‹åŒ»é™¢',ç±»å‹:'åŒ»é™¢',çŠ¶æ€:'å·²è§£é”',å±é™©ç­‰çº§:4,æ¢ç´¢è¿›åº¦:0,å‰ç½®åŒºåŸŸ:['åœ°é“ç«™']},å†°å°å­¦æ ¡:{åç§°:'å†°å°å­¦æ ¡',ç±»å‹:'å­¦æ ¡',çŠ¶æ€:'å·²è§£é”',å±é™©ç­‰çº§:4,æ¢ç´¢è¿›åº¦:0,å‰ç½®åŒºåŸŸ:['å¸‚ç«‹åŒ»é™¢']},å†›äº‹åŸºåœ°:{åç§°:'å†›äº‹åŸºåœ°',ç±»å‹:'å†›äº‹åŸºåœ°',çŠ¶æ€:'å·²è§£é”',å±é™©ç­‰çº§:5,æ¢ç´¢è¿›åº¦:0,å‰ç½®åŒºåŸŸ:['å†°å°å­¦æ ¡']},ç”Ÿç‰©ç ”ç©¶æ‰€:{åç§°:'ç”Ÿç‰©ç ”ç©¶æ‰€',ç±»å‹:'ç ”ç©¶æ‰€',çŠ¶æ€:'å·²è§£é”',å±é™©ç­‰çº§:5,æ¢ç´¢è¿›åº¦:0,å‰ç½®åŒºåŸŸ:['å†›äº‹åŸºåœ°']}},a=e,n=(0,c.computed)(()=>Qe(a.èµ„æº)),r=oe(),o={å±…æ°‘åŒºåºŸå¢Ÿ:{branch:'æ¢ç´¢ç§‘æŠ€',tech:'åœ°å›¾ç»˜åˆ¶'},åœ°é“ç«™:{branch:'æ¢ç´¢ç§‘æŠ€',tech:'é‡å¤–ç”Ÿå­˜'},å†°å°å­¦æ ¡:{branch:'æ¢ç´¢ç§‘æŠ€',tech:'ä¿¡å·è¿½è¸ª'},å†›äº‹åŸºåœ°:{branch:'æ¢ç´¢ç§‘æŠ€',tech:'è½¦è¾†æ”¹è£…'},ç”Ÿç‰©ç ”ç©¶æ‰€:{branch:'æ¢ç´¢ç§‘æŠ€',tech:'é›ªåœ°è½½å…·'}},s=(0,c.computed)(()=>Object.keys(a.åœ°å›¾.å·²è§£é”åŒºåŸŸ).length>0?a.åœ°å›¾.å·²è§£é”åŒºåŸŸ:t),i=(0,c.computed)(()=>Object.entries(s.value));function d(e){const t=e.å‰ç½®åŒºåŸŸ??[];return t.length?t.every(e=>s.value[e]?.æ¢ç´¢è¿›åº¦>=100)&&p(e):p(e)}function u(e){return(e.å‰ç½®åŒºåŸŸ??[]).filter(e=>(s.value[e]?.æ¢ç´¢è¿›åº¦??0)<100)}function p(e){const t=o[e.åç§°];return!t||!!r.data.ç§‘æŠ€æ ‘?.[t.branch]?.[t.tech]?.å·²è§£é”}function m(e){const t=o[e.åç§°];return t?p(e)?[]:[`${t.branch}.${t.tech}`]:[]}const v=(0,c.ref)(!1),f=(0,c.ref)(null),y=(0,c.ref)(),h=(0,c.ref)(''),k=(0,c.ref)(!1),g=function(e){const t=(0,c.ref)(!1);let a=null,n=null,r=null,o=null;function s(){n&&(n.kill(),n=null),a&&(a.kill(),a=null),o&&(clearInterval(o),o=null),t.value=!1,r&&(r(),r=null)}function i(){t.value&&s()}return(0,c.onUnmounted)(s),{play:async function(d){if(t.value)return;t.value=!0,await(0,c.nextTick)();const u=e.containerEl.value;if(!u)return void(t.value=!1);var p,m;u.innerHTML=(p=d.areaName,`\n      <div class="explore-scene lite ${(m=d.dangerLevel)>=4?'danger':m>=3?'warning':''}">\n        <div class="scene-bg snow-bg"></div>\n        <div class="snow-haze"></div>\n        <div class="snow-sheet s1"></div>\n        <div class="snow-sheet s2"></div>\n        <div class="snow-field"></div>\n        <div class="explorer-track">\n          <div class="explorer-sprite lite">\n            <div class="sprite-body"></div>\n            <div class="sprite-pack"></div>\n            <div class="sprite-legs">\n              <div class="sleg sleg-l"></div>\n              <div class="sleg sleg-r"></div>\n            </div>\n          </div>\n        </div>\n        <div class="scene-ui">\n          <div class="scene-title">\n            <span class="title-icon">ğŸ—ºï¸</span>\n            <span class="title-name">${p}</span>\n          </div>\n          <div class="scene-status">æ¢ç´¢ä¸­<span class="dots"></span></div>\n        </div>\n        <div class="scene-skip">ç‚¹å‡»è·³è¿‡</div>\n      </div>\n    `);const v=u.querySelector('.explore-scene');return v.addEventListener('click',i),new Promise(e=>{r=e,a=l.context(()=>{const e=u.querySelector('.scene-ui'),t=u.querySelector('.dots'),a=u.querySelector('.scene-skip');n=l.timeline({onComplete:()=>{s()}}),n.fromTo(v,{opacity:0},{opacity:1,duration:.3}),n.to(e,{opacity:1,duration:.4},.2),n.to(a,{opacity:1,duration:.3},.4);let r=0;o=setInterval(()=>{r=(r+1)%4,t&&(t.textContent='.'.repeat(r))},400),n.to(v,{opacity:0,duration:.3},4.4-.3)})})},skip:i,isPlaying:t}}({containerEl:y});const b=(0,c.computed)(()=>{const e=h.value.split(/[\s,ï¼Œã€;ï¼›\n\r]+/g).map(e=>e.trim()).filter(Boolean);return Array.from(new Set(e.filter(e=>'<user>'!==e)))});const E=(0,c.computed)(()=>(a.å¹¸å­˜è€…??[]).map(e=>({...e,å§“å:e.å§“å.trim()})).filter(e=>e.å§“å&&'<user>'!==e.å§“å));const V=(0,c.computed)(()=>{if(!f.value||f.value.data.æ¢ç´¢è¿›åº¦>=100)return null;const{data:e}=f.value;return n.value.map.explore(e.åç§°,e.å±é™©ç­‰çº§,e.æ¢ç´¢è¿›åº¦,b.value,k.value)}),N=(0,c.computed)(()=>{if(!f.value)return null;const{data:e}=f.value;return n.value.map.quickExplore(e.åç§°,e.å±é™©ç­‰çº§,e.æ¢ç´¢è¿›åº¦,b.value,k.value)}),w=(0,c.computed)(()=>{if(!f.value||f.value.data.æ¢ç´¢è¿›åº¦<100)return null;const{data:e}=f.value;return n.value.map.scavenge(e.åç§°,e.ç±»å‹,e.å±é™©ç­‰çº§)}),x=(0,c.computed)(()=>f.value?Ye(f.value.data.ç±»å‹):'');function S(e,t){if(t<=0)return;const a=r.data.åœ°å›¾;a.å·²è§£é”åŒºåŸŸ[e.åç§°]||(a.å·²è§£é”åŒºåŸŸ[e.åç§°]={...e});const n=a.å·²è§£é”åŒºåŸŸ[e.åç§°],l=n.æ¢ç´¢è¿›åº¦??0,o=C('ç­æœ›å¡”'),c=Math.min(100,l+t+o);n.æ¢ç´¢è¿›åº¦=c,l<100&&c>=100&&function(){const e=C('é™·é˜±åŒº');if(e<=0)return;const t=r.data.é¿éš¾æ‰€.èµ„æº,a=r.data.é¿éš¾æ‰€.èµ„æºä¸Šé™;t.ææ–™=Math.min(a.ææ–™??t.ææ–™,t.ææ–™+e)}()}function C(e){const t=r.data.é¿éš¾æ‰€.è®¾æ–½?.[e];return t&&'è¿è¡Œä¸­'===t.çŠ¶æ€?Math.max(0,Math.min(5,t.ç­‰çº§??0)):0}async function B(){if(!V.value||!f.value||g.isPlaying.value)return;const{data:e}=f.value;await g.play({areaName:e.åç§°,dangerLevel:e.å±é™©ç­‰çº§}),S(e,V.value.progressDelta??0),je(V.value.text),v.value=!1}async function M(){if(!N.value||!f.value||g.isPlaying.value)return;const{data:e}=f.value;await g.play({areaName:e.åç§°,dangerLevel:e.å±é™©ç­‰çº§}),je(N.value.text),v.value=!1}async function q(){if(!w.value||!f.value||g.isPlaying.value)return;if(!function(e){const t=r.data.é¿éš¾æ‰€.èµ„æº;return!!Object.entries(e).every(([e,a])=>t[e]>=a)&&(Object.entries(e).forEach(([e,a])=>{t[e]=Math.max((t[e]??0)-a,0)}),!0)}(w.value.cost))return;const{data:e}=f.value;await g.play({areaName:e.åç§°,dangerLevel:e.å±é™©ç­‰çº§}),je(w.value.text),v.value=!1}function L(e){if(!e)return'';const t=Object.entries(e).filter(([_,e])=>e>0);return t.length?t.map(([e,t])=>`${e}${t}`).join(' '):'æ— '}function D(e){if(!e)return'';const t=Object.keys(e);return t.length?t.map(e=>`${e}${a.èµ„æº?.[e]??0}`).join(' '):'æ— '}function T(e){return e>=4?'danger':e>=3?'warning':''}function j(e){return e>=4?'é«˜å¨èƒ':e>=3?'ä¸­å¨èƒ':'ä½å¨èƒ'}function A(e){return e>=4?'â˜ ':e>=3?'âš ':'â„'}return(0,c.onMounted)(()=>{l.from('.area-grid',{opacity:0,duration:.35,ease:'power2.out'})}),(t,a)=>((0,c.openBlock)(),(0,c.createElementBlock)('div',Vr,[e.åœ°å›¾.æ¢ç´¢é˜Ÿä¼.æˆå‘˜.length||e.åœ°å›¾.æ¢ç´¢é˜Ÿä¼.ç›®æ ‡åŒºåŸŸ||e.åœ°å›¾.æ¢ç´¢é˜Ÿä¼.å‡ºå‘æ—¶é—´||e.åœ°å›¾.æ¢ç´¢é˜Ÿä¼.é¢„è®¡è¿”å›?((0,c.openBlock)(),(0,c.createElementBlock)('div',Nr,[a[5]||(a[5]=(0,c.createElementVNode)('div',{class:'pixel-card-header accent'},[(0,c.createElementVNode)('div',{class:'header-icon'}),(0,c.createTextVNode)(' æ¢é™©é˜ŸçŠ¶æ€ ')],-1)),(0,c.createElementVNode)('div',wr,[(0,c.createElementVNode)('div',xr,[(0,c.createElementVNode)('span',Sr,(0,c.toDisplayString)(e.åœ°å›¾.æ¢ç´¢é˜Ÿä¼.ç›®æ ‡åŒºåŸŸ||'å¾…å‘½'),1),(0,c.createElementVNode)('span',Cr,(0,c.toDisplayString)(e.åœ°å›¾.æ¢ç´¢é˜Ÿä¼.æˆå‘˜.length)+'äºº',1)]),(0,c.createElementVNode)('div',Br,[(0,c.createElementVNode)('div',zr,[a[3]||(a[3]=(0,c.createElementVNode)('span',{class:'exp-label'},'å‡ºå‘',-1)),(0,c.createElementVNode)('span',Mr,(0,c.toDisplayString)(e.åœ°å›¾.æ¢ç´¢é˜Ÿä¼.å‡ºå‘æ—¶é—´||'â€”'),1)]),(0,c.createElementVNode)('div',$r,[a[4]||(a[4]=(0,c.createElementVNode)('span',{class:'exp-label'},'é¢„è®¡è¿”ç¨‹',-1)),(0,c.createElementVNode)('span',qr,(0,c.toDisplayString)(e.åœ°å›¾.æ¢ç´¢é˜Ÿä¼.é¢„è®¡è¿”å›||'â€”'),1)])])])])):(0,c.createCommentVNode)('v-if',!0),(0,c.createElementVNode)('div',_r,[a[7]||(a[7]=(0,c.createElementVNode)('div',{class:'pixel-card-header'},[(0,c.createElementVNode)('div',{class:'header-icon'}),(0,c.createTextVNode)(' æ¢ç´¢åŒºåŸŸ ')],-1)),(0,c.createElementVNode)('div',Lr,[(0,c.createElementVNode)('div',Dr,[((0,c.openBlock)(!0),(0,c.createElementBlock)(c.Fragment,null,(0,c.renderList)((0,c.unref)(i),([e,t],n)=>((0,c.openBlock)(),(0,c.createElementBlock)('div',{key:e,class:(0,c.normalizeClass)(['area-item pixel-card',{cleared:t.æ¢ç´¢è¿›åº¦>=100,locked:!d(t)}]),onClick:a=>function(e,t,a){f.value={key:e,data:t,locked:a},v.value=!0}(e,t,!d(t))},[(0,c.createElementVNode)('div',jr,[(0,c.createElementVNode)('span',Ar,(0,c.toDisplayString)(t.åç§°),1),d(t)?((0,c.openBlock)(),(0,c.createElementBlock)('span',{key:1,class:(0,c.normalizeClass)(['pixel-tag sm',T(t.å±é™©ç­‰çº§)])},' Lv.'+(0,c.toDisplayString)(t.å±é™©ç­‰çº§),3)):((0,c.openBlock)(),(0,c.createElementBlock)('span',Pr,'ğŸ”’'))]),(0,c.createElementVNode)('div',Or,(0,c.toDisplayString)(t.ç±»å‹),1),d(t)?((0,c.openBlock)(),(0,c.createElementBlock)('div',Rr,[(0,c.createElementVNode)('span',{class:(0,c.normalizeClass)(['pixel-tag sm',T(t.å±é™©ç­‰çº§)])},[(0,c.createElementVNode)('span',Ir,(0,c.toDisplayString)(A(t.å±é™©ç­‰çº§)),1),(0,c.createTextVNode)(' '+(0,c.toDisplayString)(j(t.å±é™©ç­‰çº§)),1)],2)])):(0,c.createCommentVNode)('v-if',!0),d(t)?((0,c.openBlock)(),(0,c.createElementBlock)('div',{key:1,class:(0,c.normalizeClass)(['pixel-bar',t.æ¢ç´¢è¿›åº¦>=100?'success':''])},[(0,c.createElementVNode)('div',{class:'bar-fill',style:(0,c.normalizeStyle)({width:t.æ¢ç´¢è¿›åº¦+'%'})},null,4)],2)):((0,c.openBlock)(),(0,c.createElementBlock)('div',Fr,[a[6]||(a[6]=(0,c.createTextVNode)(' éœ€å®Œæˆå‰ç½®åŒºåŸŸ/ç§‘æŠ€ ',-1)),u(t).length?((0,c.openBlock)(),(0,c.createElementBlock)('span',Ur,' ï¼š'+(0,c.toDisplayString)(u(t).join('ã€')),1)):(0,c.createCommentVNode)('v-if',!0),m(t).length?((0,c.openBlock)(),(0,c.createElementBlock)('span',Hr,(0,c.toDisplayString)(u(t).length?' + ':'ï¼š')+(0,c.toDisplayString)(m(t).join('ã€')),1)):(0,c.createCommentVNode)('v-if',!0)]))],10,Tr))),128))])])]),(0,c.createVNode)(ye,{visible:(0,c.unref)(v),title:(0,c.unref)(f)?.data.åç§°,onClose:a[2]||(a[2]=e=>v.value=!1)},{default:(0,c.withCtx)(()=>{return[(0,c.unref)(f)&&(0,c.unref)(f).locked?((0,c.openBlock)(),(0,c.createElementBlock)('div',Xr,[(0,c.createElementVNode)('div',Yr,[a[9]||(a[9]=(0,c.createElementVNode)('div',{class:'locked-icon'},'ğŸ”’',-1)),a[10]||(a[10]=(0,c.createElementVNode)('div',{class:'locked-text'},'è¯¥åŒºåŸŸå°šæœªè§£é”',-1)),(0,c.createElementVNode)('div',Wr,[a[8]||(a[8]=(0,c.createTextVNode)(' éœ€å®Œæˆå‰ç½®åŒºåŸŸ/ç§‘æŠ€ ',-1)),u((0,c.unref)(f).data).length?((0,c.openBlock)(),(0,c.createElementBlock)('span',Gr,' ï¼š'+(0,c.toDisplayString)(u((0,c.unref)(f).data).join('ã€')),1)):(0,c.createCommentVNode)('v-if',!0),m((0,c.unref)(f).data).length?((0,c.openBlock)(),(0,c.createElementBlock)('span',Kr,(0,c.toDisplayString)(u((0,c.unref)(f).data).length?' + ':'ï¼š')+(0,c.toDisplayString)(m((0,c.unref)(f).data).join('ã€')),1)):(0,c.createCommentVNode)('v-if',!0)])])])):(0,c.unref)(f)?((0,c.openBlock)(),(0,c.createElementBlock)('div',Zr,[(0,c.unref)(g).isPlaying.value?((0,c.openBlock)(),(0,c.createElementBlock)('div',{key:0,ref_key:'exploreContainerRef',ref:y,class:'explore-container'},null,512)):((0,c.openBlock)(),(0,c.createElementBlock)(c.Fragment,{key:1},[(0,c.createElementVNode)('div',Jr,[a[11]||(a[11]=(0,c.createElementVNode)('span',{class:'detail-label'},'ç±»å‹',-1)),(0,c.createElementVNode)('span',Qr,(0,c.toDisplayString)((0,c.unref)(f).data.ç±»å‹),1)]),(0,c.createElementVNode)('div',eo,[a[12]||(a[12]=(0,c.createElementVNode)('span',{class:'detail-label'},'å±é™©',-1)),(0,c.createElementVNode)('span',{class:(0,c.normalizeClass)(['pixel-tag sm',T((0,c.unref)(f).data.å±é™©ç­‰çº§)])},' Lv.'+(0,c.toDisplayString)((0,c.unref)(f).data.å±é™©ç­‰çº§),3)]),(0,c.createElementVNode)('div',to,[a[13]||(a[13]=(0,c.createElementVNode)('span',{class:'detail-label'},'å¨èƒ',-1)),(0,c.createElementVNode)('span',{class:(0,c.normalizeClass)(['pixel-tag sm',T((0,c.unref)(f).data.å±é™©ç­‰çº§)])},[(0,c.createElementVNode)('span',ao,(0,c.toDisplayString)(A((0,c.unref)(f).data.å±é™©ç­‰çº§)),1),(0,c.createTextVNode)(' '+(0,c.toDisplayString)(j((0,c.unref)(f).data.å±é™©ç­‰çº§)),1)],2)]),(0,c.createElementVNode)('div',no,[a[14]||(a[14]=(0,c.createElementVNode)('span',{class:'detail-label'},'æ¦‚å†µ',-1)),(0,c.createElementVNode)('span',lo,(0,c.toDisplayString)((e=(0,c.unref)(f).data.å±é™©ç­‰çº§,e>=4?'å¯èƒ½é­é‡é«˜å¨èƒåŠ¿åŠ›/å¤§å‹å˜å¼‚ç”Ÿç‰©ã€‚':e>=3?'å¯èƒ½é­é‡ç»„ç»‡åŒ–å›¢ä¼™æˆ–ç¾¤å±…æ é£Ÿè€…ã€‚':'å¤šä¸ºå°å‹æ å¤ºæˆ–è½»åº¦å˜å¼‚ç”Ÿç‰©ã€‚')),1)]),(0,c.createElementVNode)('div',ro,[a[15]||(a[15]=(0,c.createElementVNode)('span',{class:'detail-label'},'èµ„æº',-1)),(0,c.createElementVNode)('span',oo,(0,c.toDisplayString)((0,c.unref)(x)),1)]),(0,c.createElementVNode)('div',co,[a[16]||(a[16]=(0,c.createElementVNode)('span',{class:'detail-label'},'è¿›åº¦',-1)),(0,c.createElementVNode)('div',so,[(0,c.createElementVNode)('div',{class:'bar-fill',style:(0,c.normalizeStyle)({width:(0,c.unref)(f).data.æ¢ç´¢è¿›åº¦+'%'})},null,4)]),(0,c.createElementVNode)('span',io,(0,c.toDisplayString)((0,c.unref)(f).data.æ¢ç´¢è¿›åº¦)+'%',1)]),(0,c.createElementVNode)('div',uo,[(0,c.createElementVNode)('div',po,[a[17]||(a[17]=(0,c.createElementVNode)('span',{class:'team-label'},'æ¢ç´¢æˆå‘˜',-1)),(0,c.withDirectives)((0,c.createElementVNode)('input',{'onUpdate:modelValue':a[0]||(a[0]=e=>(0,c.isRef)(h)?h.value=e:null),class:'team-input-field',placeholder:'å§“åç”¨é€—å·/ç©ºæ ¼åˆ†éš”'},null,512),[[c.vModelText,(0,c.unref)(h)]])]),(0,c.createElementVNode)('label',mo,[(0,c.withDirectives)((0,c.createElementVNode)('input',{'onUpdate:modelValue':a[1]||(a[1]=e=>(0,c.isRef)(k)?k.value=e:null),type:'checkbox'},null,512),[[c.vModelCheckbox,(0,c.unref)(k)]]),a[18]||(a[18]=(0,c.createTextVNode)(' åŒ…å«<user> ',-1))]),(0,c.unref)(E).length?((0,c.openBlock)(),(0,c.createElementBlock)('div',vo,[a[19]||(a[19]=(0,c.createElementVNode)('div',{class:'team-quick-title'},'å¿«æ·é€‰æ‹©',-1)),(0,c.createElementVNode)('div',fo,[((0,c.openBlock)(!0),(0,c.createElementBlock)(c.Fragment,null,(0,c.renderList)((0,c.unref)(E),e=>((0,c.openBlock)(),(0,c.createElementBlock)('button',{key:e.å§“å,class:(0,c.normalizeClass)(['team-chip',{active:(0,c.unref)(b).includes(e.å§“å)}]),type:'button',onClick:t=>function(e){const t=new Set(b.value);t.has(e)?t.delete(e):t.add(e),h.value=Array.from(t).join('ã€')}(e.å§“å)},[(0,c.createElementVNode)('span',ho,(0,c.toDisplayString)(e.å§“å),1),e.å½“å‰ä»»åŠ¡?((0,c.openBlock)(),(0,c.createElementBlock)('span',ko,(0,c.toDisplayString)(e.å½“å‰ä»»åŠ¡),1)):(0,c.createCommentVNode)('v-if',!0)],10,yo))),128))])])):(0,c.createCommentVNode)('v-if',!0)]),a[23]||(a[23]=(0,c.createElementVNode)('div',{class:'detail-note'},' èµ„æºéšè¿›åº¦ç”±å°‘åˆ°å¤šï¼Œå®ŒæˆåæŒ‰å±é™©ç­‰çº§ç³»æ•°ç»“ç®—ï¼Œä¸”ä¸å¾—ä½äºæœ¬æ¬¡æ¶ˆè€—ã€‚ ',-1)),(0,c.unref)(f).data.æ¢ç´¢è¿›åº¦<100?((0,c.openBlock)(),(0,c.createElementBlock)('button',{key:0,class:(0,c.normalizeClass)(['action-btn',{disabled:!(0,c.unref)(V)?.affordable}]),disabled:!(0,c.unref)(V)?.affordable,onClick:B},[a[20]||(a[20]=(0,c.createTextVNode)(' ğŸ—ºï¸ æ´¾é£æ¢ç´¢ ',-1)),(0,c.unref)(V)?((0,c.openBlock)(),(0,c.createElementBlock)('span',bo,' (æ¶ˆè€— '+(0,c.toDisplayString)(L((0,c.unref)(V).cost))+' | ç°æœ‰ '+(0,c.toDisplayString)(D((0,c.unref)(V).cost))+') ',1)):(0,c.createCommentVNode)('v-if',!0)],10,go)):(0,c.createCommentVNode)('v-if',!0),(0,c.unref)(N)?((0,c.openBlock)(),(0,c.createElementBlock)('button',{key:1,class:(0,c.normalizeClass)(['action-btn quick',{disabled:!(0,c.unref)(N)?.affordable}]),disabled:!(0,c.unref)(N)?.affordable,onClick:M},[a[21]||(a[21]=(0,c.createTextVNode)(' âš¡ å¿«é€Ÿæ¢ç´¢ ',-1)),(0,c.unref)(N)?((0,c.openBlock)(),(0,c.createElementBlock)('span',Vo,' (æ¶ˆè€— '+(0,c.toDisplayString)(L((0,c.unref)(N).cost))+' | ç°æœ‰ '+(0,c.toDisplayString)(D((0,c.unref)(N).cost))+') ',1)):(0,c.createCommentVNode)('v-if',!0)],10,Eo)):(0,c.createCommentVNode)('v-if',!0),(0,c.unref)(f).data.æ¢ç´¢è¿›åº¦>=100?((0,c.openBlock)(),(0,c.createElementBlock)('button',{key:2,class:(0,c.normalizeClass)(['action-btn scavenge',{disabled:!(0,c.unref)(w)?.affordable}]),disabled:!(0,c.unref)(w)?.affordable,onClick:q},[a[22]||(a[22]=(0,c.createTextVNode)(' ğŸ“¦ æœåˆ®èµ„æº ',-1)),(0,c.unref)(w)?((0,c.openBlock)(),(0,c.createElementBlock)('span',wo,' (æ¶ˆè€— '+(0,c.toDisplayString)(L((0,c.unref)(w).cost))+' | ç°æœ‰ '+(0,c.toDisplayString)(D((0,c.unref)(w).cost))+') ',1)):(0,c.createCommentVNode)('v-if',!0)],10,No)):(0,c.createCommentVNode)('v-if',!0)],64))])):(0,c.createCommentVNode)('v-if',!0)];var e}),_:1},8,['visible','title'])]))}}),So=(0,ue.A)(xo,[['__scopeId','data-v-bb9df514']]);function Co(e){const t=(0,c.ref)(!1);let a=null,n=null;function r(){const l=e.containerEl.value;a&&(a.revert(),a=null),l&&(l.classList.remove('active'),l.style.display='none',l.innerHTML=''),t.value=!1,n&&(n(),n=null)}function o(){t.value&&r()}return(0,c.onUnmounted)(r),{play:async function(s,i){if(t.value)return;t.value=!0,await(0,c.nextTick)();const d=e.containerEl.value;if(!d)return void(t.value=!1);d.innerHTML=function(e,t){const a='craft'===e?'æ­¦å™¨é”»é€ å®Œæˆ':'ç ”å‘è§£é”å®Œæˆ',n='craft'===e?`Lv${t.level} Â· ${t.name??''}`:`Lv${t.level}`,l='craft'===e?'âš™':'âœ¦',r=Array.from({length:40},(_,e)=>{const t=2+4*Math.random();return`<div class="forge-particle" data-idx="${e}" style="\n        width:${t}px;height:${t}px;\n        background:rgba(140,210,255,0.85);\n        box-shadow:0 0 ${2*t}px rgba(120,200,240,0.6);\n      "></div>`}).join('');return`\n      <div class="forge-scene" data-mode="${e}">\n        <div class="forge-bg"></div>\n        <div class="forge-grid"></div>\n        <div class="forge-vignette"></div>\n        <div class="forge-flash"></div>\n        <div class="gear-field">${Array.from({length:10},(_,e)=>{const t=30+70*Math.random();return`<div class="field-gear" data-idx="${e}" style="\n        width:${t}px;height:${t}px;\n        left:${100*Math.random()}%;top:${100*Math.random()}%;\n      "></div>`}).join('')}</div>\n        <div class="forge-particles">${r}</div>\n        <div class="forge-ring outer"></div>\n        <div class="forge-ring inner"></div>\n        <div class="forge-core">\n          <div class="core-glow"></div>\n          <div class="core-burst"></div>\n          <div class="core-icon">${l}</div>\n        </div>\n        <div class="forge-machinery">\n          <div class="gear g1"></div>\n          <div class="gear g2"></div>\n          <div class="gear g3"></div>\n          <div class="piston">\n            <div class="piston-head"></div>\n            <div class="piston-rod"></div>\n          </div>\n          <div class="hammer">\n            <div class="hammer-arm"></div>\n            <div class="hammer-head"></div>\n          </div>\n          <div class="steam">\n            <span class="steam-puff p1"></span>\n            <span class="steam-puff p2"></span>\n            <span class="steam-puff p3"></span>\n          </div>\n          <div class="forge-sparks">\n            <span class="spark s1"></span>\n            <span class="spark s2"></span>\n            <span class="spark s3"></span>\n            <span class="spark s4"></span>\n          </div>\n        </div>\n        <div class="forge-ui">\n          <div class="forge-title">${a}</div>\n          <div class="forge-subtitle">${n}</div>\n          <div class="forge-status">èƒ½é‡å‡èšä¸­<span class="dots"></span></div>\n        </div>\n        <div class="forge-skip">ç‚¹å‡»è·³è¿‡</div>\n      </div>\n    `}(s,i),d.style.display='block',d.classList.add('active');const u=d.querySelector('.forge-scene');return u.addEventListener('click',o),new Promise(e=>{n=e,a=l.context(()=>{const e=3.8,t=d.querySelector('.forge-flash'),a=d.querySelectorAll('.forge-particle'),n=d.querySelector('.forge-ring.outer'),o=d.querySelector('.forge-ring.inner'),c=d.querySelector('.forge-core'),i=d.querySelector('.core-burst'),p=d.querySelector('.core-icon'),m=d.querySelector('.forge-ui'),v=d.querySelector('.dots'),f=d.querySelector('.forge-skip'),y=d.querySelector('.forge-machinery'),h=d.querySelectorAll('.forge-machinery .gear'),k=d.querySelectorAll('.gear-field .field-gear'),g=d.querySelector('.forge-machinery .piston'),b=d.querySelector('.forge-machinery .hammer'),E=d.querySelectorAll('.forge-machinery .steam-puff'),V=d.querySelectorAll('.forge-machinery .spark'),N=l.timeline({onComplete:r});N.fromTo(u,{opacity:0},{opacity:1,duration:.3}),N.fromTo(t,{opacity:0},{opacity:.85,duration:.2},.15),N.to(t,{opacity:0,duration:.5},.35),N.to(m,{opacity:1,duration:.4},.4),N.to(f,{opacity:.5,duration:.3},.6),a.forEach((e,t)=>{const a=Math.random()*Math.PI*2,n=180+120*Math.random();l.set(e,{left:'50%',top:'50%',x:Math.cos(a)*n,y:Math.sin(a)*n,opacity:0}),N.to(e,{x:0,y:0,opacity:1,duration:.9,ease:'power2.in'},.5+.01*t)}),'craft'===s?(N.to(y,{opacity:1,duration:.35},.9),N.to(c,{opacity:1,scale:1,duration:.35},1),N.fromTo(i,{scale:.3,opacity:0},{scale:2.6,opacity:.9,duration:.35},1.1),N.to(i,{scale:3.4,opacity:0,duration:.35},1.45),l.to(p,{rotation:360,duration:1.6,repeat:-1,ease:'none'}),l.to(h,{rotation:360,duration:1.2,repeat:-1,ease:'none'}),k.forEach((e,t)=>{const a=6+6*Math.random(),n=t%2==0?360:-360,r=.6+.6*Math.random();l.set(e,{opacity:.25,scale:r}),l.to(e,{rotation:n,duration:a,repeat:-1,ease:'none'})}),l.to(g,{y:8,duration:.25,repeat:-1,yoyo:!0,ease:'power1.inOut'}),l.to(b,{rotation:18,duration:.28,repeat:-1,yoyo:!0,ease:'power2.inOut',transformOrigin:'90% 10%'}),l.to(E,{opacity:.8,y:-10,duration:.6,repeat:-1,yoyo:!0,ease:'sine.inOut',stagger:.15}),N.fromTo(V,{opacity:0,scale:0},{opacity:1,scale:1,duration:.25,stagger:.05},1.2),N.to(V,{opacity:0,scale:.3,duration:.3,stagger:.05},1.5)):(N.to(y,{opacity:0,duration:.1},0),N.to(c,{opacity:1,scale:1,duration:.45},1),N.fromTo(i,{scale:.5,opacity:0},{scale:2.8,opacity:.8,duration:.5},1.15),N.to(i,{scale:3.6,opacity:0,duration:.45},1.6),l.to(p,{rotation:360,duration:2.6,repeat:-1,ease:'none'})),N.to(n,{opacity:.8,scale:1,duration:.4},1.25),N.to(o,{opacity:.9,scale:1,duration:.35},1.3),l.to(n,{rotation:360,duration:'craft'===s?4:6,repeat:-1,ease:'none'}),l.to(o,{rotation:-360,duration:'craft'===s?3:4.5,repeat:-1,ease:'none'});let w=0;const x=setInterval(()=>{w=(w+1)%4,v&&(v.textContent='.'.repeat(w))},300);N.call(()=>clearInterval(x),[],e-.6),N.to(t,{opacity:.6,duration:.2},3.3),N.to(t,{opacity:0,duration:.25},3.5),N.to(u,{opacity:0,duration:.35},3.5)})})},skip:o,isPlaying:t}}const Bo={class:'weapon-workbench'},zo={class:'pixel-card'},Mo={class:'pixel-card-header'},$o={class:'header-left'},qo={class:'header-tabs'},_o={class:'pixel-card-body'},Lo={class:'module-title'},Do={class:'pixel-tag sm'},To={class:'module-req'},jo={key:0,class:'panel-lock'},Ao={class:'workbench-pager'},Po=['disabled'],Oo={class:'pager-text'},Ro=['disabled'],Io={class:'workbench-levels'},Fo={class:'level-head'},Uo={class:'level-name'},Ho={class:'level-tech'},Xo={class:'level-items'},Yo={class:'item-top'},Wo=['innerHTML'],Go={class:'item-title'},Ko={key:0,class:'item-note'},Zo={class:'item-meta'},Jo={class:'item-cost'},Qo=['disabled','onClick'],ec={key:0,class:'level-lock research-lock'},tc=['disabled','onClick'],ac={class:'center-hint'},nc={key:1,class:'level-lock'},lc={class:'lock-desc'},rc=(0,c.defineComponent)({__name:'WeaponWorkbench',props:{è®¾æ–½:{},èµ„æº:{}},setup(e){const t=e,a=oe(),n=(0,c.computed)(()=>t.è®¾æ–½?.æ­¦å™¨åº“),l=(0,c.computed)(()=>{const e=n.value;return!!e&&'æœªè§£é”'!==e.çŠ¶æ€&&e.ç­‰çº§>0}),r={1:2,2:4,3:6,4:8,5:10},o=['#5aa6ff','#6ce2b1','#ffd36a','#ff9d5c','#ff6b6b','#d77bff','#6f7bff','#4fd1ff','#f4c05f','#ff8aa1'],s=(0,c.computed)(()=>{if(!l.value)return 0;const e=Math.min(n.value?.ç­‰çº§??0,5);return r[e]??0}),i=(0,c.computed)(()=>n.value?l.value?`å·²æ»¡è¶³å‰ç½®ï¼šæ­¦å™¨åº“ Lv.${n.value.ç­‰çº§}ï¼ˆåˆ¶é€ å°ä¸Šé™ Lv.${s.value}ï¼‰`:'éœ€è¦æ­¦å™¨åº“ Lv.1':'æ­¦å™¨åº“æœªé…ç½®'),d={melee:'<svg viewBox="0 0 24 24" aria-hidden="true"><path d="M3 20l5-5 1 1-5 5H3zm8-8l6-6 2 2-6 6-2-2zm3-7l2-2 5 5-2 2-5-5z" fill="currentColor"/></svg>',firearm:'<svg viewBox="0 0 24 24" aria-hidden="true"><path d="M3 10h9l2-2h4l3 3-2 2h-3l-2-2H9v3h2v3H3v-3h3v-4z" fill="currentColor"/></svg>',ammo:'<svg viewBox="0 0 24 24" aria-hidden="true"><path d="M7 3h4l2 4v12l-2 2H7l-2-2V7l2-4zm6 4h4l2 3v9l-2 2h-4l-2-2V10l2-3z" fill="currentColor"/></svg>',armor:'<svg viewBox="0 0 24 24" aria-hidden="true"><path d="M12 2l7 3v6c0 5-3 8-7 11-4-3-7-6-7-11V5l7-3zm0 4l-4 2v3h8V8l-4-2z" fill="currentColor"/></svg>',tool:'<svg viewBox="0 0 24 24" aria-hidden="true"><path d="M14 3l2 2-4 4-2-2 4-4zm5 5l2 2-6 6-2-2 6-6zM5 14l5 5-2 2-5-5 2-2z" fill="currentColor"/></svg>',sci:'<svg viewBox="0 0 24 24" aria-hidden="true"><path d="M9 2h6v2l-1 1v5l5 9v3H5v-3l5-9V5L9 4V2zm3 10l-3 6h6l-3-6z" fill="currentColor"/></svg>',ranged:'<svg viewBox="0 0 24 24" aria-hidden="true"><path d="M5 4c4 2 7 7 7 8 0 1-3 6-7 8l1 1c5-2 8-8 8-9 0-1-3-7-8-9L5 4zm7 8l7-3v2l-3 1 3 1v2l-7-3z" fill="currentColor"/></svg>'},u=[{level:1,tech:5,items:[{name:'ç®€æ˜“æ£æ£’',parts:6,fuel:4,type:'melee'},{name:'ç®€æ˜“åŒ•é¦–',parts:8,fuel:4,type:'melee'},{name:'æœ¨çŸ›',parts:7,fuel:4,type:'melee'},{name:'æœ¨å¼“',parts:8,fuel:4,type:'ranged'},{name:'ç®­çŸ¢(10æ”¯)',parts:6,fuel:4,type:'ammo',note:'é€‚é…ï¼šæœ¨å¼“ / çŸ­å¼“ / çŒå¼“'},{name:'ç®€æ˜“çŸ­æ£’',parts:6,fuel:4,type:'melee'},{name:'ç²—åˆ¶ç åˆ€',parts:9,fuel:4,type:'melee'},{name:'æœ¨åˆ¶æŠ¤è‡‚',parts:5,fuel:4,type:'armor'},{name:'æœ¨å¼©',parts:10,fuel:4,type:'ranged'},{name:'å¼©ç®­(5æ”¯)',parts:6,fuel:4,type:'ammo',note:'é€‚é…ï¼šæœ¨å¼© / å¼© / è½»å‹å¼© / æˆ˜æœ¯å¼© / é‡å‹æˆ˜æœ¯å¼©'}]},{level:2,tech:10,items:[{name:'çŸ­æ–§',parts:10,fuel:6,type:'melee'},{name:'é•¿çŸ›',parts:11,fuel:6,type:'melee'},{name:'æœ¨ç›¾',parts:9,fuel:6,type:'armor'},{name:'çŸ­å¼“',parts:12,fuel:6,type:'ranged'},{name:'ç®­çŸ¢(20æ”¯)',parts:10,fuel:6,type:'ammo',note:'é€‚é…ï¼šæœ¨å¼“ / çŸ­å¼“ / çŒå¼“'},{name:'å°å‹æˆ˜æ–§',parts:12,fuel:6,type:'melee'},{name:'é‡æœ¨ç›¾',parts:12,fuel:6,type:'armor'},{name:'åŠ é•¿çŸ›',parts:13,fuel:6,type:'melee'},{name:'çŒå¼“',parts:14,fuel:6,type:'ranged'}]},{level:3,tech:15,items:[{name:'ç®€æ˜“æ‰‹æª',parts:18,fuel:10,type:'firearm'},{name:'å¼©',parts:16,fuel:8,type:'ranged'},{name:'å¼©ç®­(10æ”¯)',parts:10,fuel:6,type:'ammo',note:'é€‚é…ï¼šå¼© / è½»å‹å¼© / æˆ˜æœ¯å¼© / é‡å‹æˆ˜æœ¯å¼©'},{name:'å•å‘æ”¹è£…æ‰‹æª',parts:20,fuel:10,type:'firearm'},{name:'è½»å‹å¼©',parts:14,fuel:8,type:'ranged'},{name:'å¼©ç®­(20æ”¯)',parts:16,fuel:6,type:'ammo',note:'é€‚é…ï¼šå¼© / è½»å‹å¼© / æˆ˜æœ¯å¼© / é‡å‹æˆ˜æœ¯å¼©'},{name:'9mmå¼¹(20å‘)',parts:6,fuel:4,type:'ammo',note:'é€‚é…ï¼šç®€æ˜“æ‰‹æª / å•å‘æ”¹è£…æ‰‹æª'},{name:'9mmå¼¹(10å‘)',parts:4,fuel:4,type:'ammo',note:'é€‚é…ï¼šç®€æ˜“æ‰‹æª / å•å‘æ”¹è£…æ‰‹æª'}]},{level:4,tech:20,items:[{name:'éœ°å¼¹æª',parts:24,fuel:12,type:'firearm'},{name:'é’¢çŸ›',parts:18,fuel:10,type:'melee'},{name:'è½»å‹æŠ¤ç”²',parts:20,fuel:12,type:'armor'},{name:'åŒç®¡éœ°å¼¹æª',parts:26,fuel:12,type:'firearm'},{name:'é’¢åˆ¶çŸ­æª',parts:20,fuel:10,type:'melee'},{name:'è½»å‹æŠ¤ç”²ç»„ä»¶',parts:16,fuel:12,type:'armor'},{name:'éœ°å¼¹(10å‘)',parts:8,fuel:6,type:'ammo',note:'é€‚é…ï¼šéœ°å¼¹æª / åŒç®¡éœ°å¼¹æª'},{name:'éœ°å¼¹(5å‘)',parts:5,fuel:6,type:'ammo',note:'é€‚é…ï¼šéœ°å¼¹æª / åŒç®¡éœ°å¼¹æª'}]},{level:5,tech:25,items:[{name:'æ “åŠ¨æ­¥æª',parts:30,fuel:16,type:'firearm'},{name:'æ­¥æªå¼¹(20å‘)',parts:12,fuel:8,type:'ammo',note:'é€‚é…ï¼šæ “åŠ¨æ­¥æª / çŸ­æ “åŠ¨å¡å®¾'},{name:'å†›åˆ€',parts:22,fuel:12,type:'melee'},{name:'ç»´æŠ¤åŒ…',parts:16,fuel:8,type:'tool'},{name:'çŸ­æ “åŠ¨å¡å®¾',parts:28,fuel:16,type:'firearm'},{name:'é‡å†›åˆ€',parts:26,fuel:12,type:'melee'},{name:'é«˜çº§ç»´æŠ¤åŒ…',parts:20,fuel:8,type:'tool'}]},{level:6,tech:30,items:[{name:'å†²é”‹æª',parts:38,fuel:20,type:'firearm'},{name:'å†²é”‹æªå¼¹(30å‘)',parts:14,fuel:10,type:'ammo',note:'é€‚é…ï¼šå†²é”‹æª / çŸ­çªå†²'},{name:'é•¿æŸ„æ­¦å™¨(æˆŸ/é•°)',parts:26,fuel:14,type:'melee'},{name:'ä¸­å‹æŠ¤ç”²',parts:34,fuel:20,type:'armor'},{name:'çŸ­çªå†²',parts:36,fuel:20,type:'firearm'},{name:'é•¿æŸ„é’©é•°',parts:28,fuel:14,type:'melee'},{name:'ä¸­å‹æŠ¤ç”²ç»„ä»¶',parts:28,fuel:20,type:'armor'}]},{level:7,tech:40,items:[{name:'åŠè‡ªåŠ¨æ­¥æª',parts:42,fuel:24,type:'firearm'},{name:'åŠè‡ªåŠ¨æ­¥æªå¼¹(20å‘)',parts:18,fuel:12,type:'ammo',note:'é€‚é…ï¼šåŠè‡ªåŠ¨æ­¥æª / åŠè‡ªåŠ¨å¡å®¾'},{name:'æˆ˜æœ¯å¼©',parts:30,fuel:16,type:'ranged'},{name:'å·¥ç¨‹å·¥å…·',parts:24,fuel:12,type:'tool'},{name:'åŠè‡ªåŠ¨å¡å®¾',parts:40,fuel:24,type:'firearm'},{name:'é‡å‹æˆ˜æœ¯å¼©',parts:34,fuel:16,type:'ranged'},{name:'å·¥ç¨‹å·¥å…·å¥—è£…',parts:30,fuel:12,type:'tool'}]},{level:8,tech:50,items:[{name:'è½»æœºæª',parts:52,fuel:28,type:'firearm'},{name:'ç©¿ç”²å¼¹(20å‘)',parts:32,fuel:20,type:'ammo',note:'é€‚é…ï¼šè½»æœºæª / è½»æœºæªæ”¹è¿›å‹'},{name:'é‡å‹æŠ¤ç”²',parts:48,fuel:28,type:'armor'},{name:'è½»æœºæªæ”¹è¿›å‹',parts:56,fuel:28,type:'firearm'},{name:'ç©¿ç”²å¼¹(10å‘)',parts:20,fuel:20,type:'ammo',note:'é€‚é…ï¼šè½»æœºæª / è½»æœºæªæ”¹è¿›å‹'},{name:'é‡å‹æŠ¤ç”²ç»„ä»¶',parts:40,fuel:28,type:'armor'}]},{level:9,tech:60,items:[{name:'ç²¾å‡†æ­¥æª',parts:58,fuel:30,type:'firearm'},{name:'ç²¾å‡†æ­¥æªå¼¹(20å‘)',parts:22,fuel:14,type:'ammo',note:'é€‚é…ï¼šç²¾å‡†æ­¥æª / ç²¾å‡†æ­¥æªæ”¹è£…å‹ / çŸ­å¡å®¾ / æˆ˜æœ¯çŸ­å¡å®¾'},{name:'çŸ­å¡å®¾',parts:54,fuel:28,type:'firearm'},{name:'é‡å‹ç›¾',parts:40,fuel:24,type:'armor'},{name:'ç²¾å‡†æ­¥æªæ”¹è£…å‹',parts:62,fuel:30,type:'firearm'},{name:'æˆ˜æœ¯çŸ­å¡å®¾',parts:50,fuel:28,type:'firearm'},{name:'ç ´é—¨å·¥å…·',parts:28,fuel:16,type:'tool'},{name:'ç ´é—¨å·¥å…·æ”¹è£…',parts:32,fuel:16,type:'tool'}]},{level:10,tech:80,items:[{name:'é‡æœºæª',parts:80,fuel:40,type:'firearm'},{name:'é‡æœºæªå¼¹é“¾(50å‘)',parts:40,fuel:26,type:'ammo',note:'é€‚é…ï¼šé‡æœºæª / é‡æœºæªæ”¹è¿›å‹'},{name:'ä¾¿æºç«ç„°å–·å°„å™¨',parts:70,fuel:44,type:'firearm'},{name:'å•å‘æ¦´å¼¹å™¨',parts:68,fuel:36,type:'firearm'},{name:'ç£è½¨æª(ç³»ç»Ÿäº§ç‰©)',parts:90,fuel:48,type:'sci'},{name:'é‡æœºæªæ”¹è¿›å‹',parts:86,fuel:40,type:'firearm'},{name:'ç«ç„°å–·å°„å™¨ç‡ƒæ–™ç½',parts:40,fuel:30,type:'ammo',note:'é€‚é…ï¼šä¾¿æºç«ç„°å–·å°„å™¨'},{name:'æ¦´å¼¹(5å‘)',parts:30,fuel:24,type:'ammo',note:'é€‚é…ï¼šå•å‘æ¦´å¼¹å™¨'},{name:'é«˜èƒ½ç£è½¨å¼¹(5å‘)',parts:50,fuel:30,type:'ammo',note:'é€‚é…ï¼šç£è½¨æª(ç³»ç»Ÿäº§ç‰©)'}]}],p=(0,c.ref)(0),m=(0,c.computed)(()=>Math.max(1,Math.ceil(u.length/1))),v=(0,c.computed)(()=>u.slice(1*p.value,1*(p.value+1)));function f(){p.value=(p.value-1+m.value)%m.value}function y(){p.value=(p.value+1)%m.value}(0,c.watch)(m,e=>{p.value>e-1&&(p.value=0)});const h=(0,c.ref)(l.value?'craft':'intro');function k(){h.value='intro'}function g(){h.value='craft'}function b(e){return!l.value||e>s.value}function E(e,a){return(t.èµ„æº?.æ­¦å™¨é…ä»¶??0)>=e&&(t.èµ„æº?.ç‡ƒæ–™??0)>=a}(0,c.watch)(l,e=>{e||(h.value='intro')});const V=(0,c.computed)(()=>a.data?.é¿éš¾æ‰€?.æ¨¡å—?.æ­¦å™¨åˆ¶é€ å°?.å·²ç ”å‘ç­‰çº§??0),N=(0,c.ref)(!1),w=(0,c.ref)(!1),x=(0,c.ref)(),S=Co({containerEl:x});function C(e){return e<=V.value}function B(e,a){return!b(e)&&(e===V.value+1&&(t.èµ„æº?.ç§‘æŠ€ç‚¹??0)>=a)}async function M(e,t){N.value||S.isPlaying.value||!B(e,t)||function(e){const t=a.data.é¿éš¾æ‰€.èµ„æº;return!!Object.entries(e).every(([e,a])=>t[e]>=a)&&(Object.entries(e).forEach(([e,a])=>{t[e]=Math.max(t[e]-a,0)}),!0)}({ç§‘æŠ€ç‚¹:t})&&(N.value=!0,a.data.é¿éš¾æ‰€.æ¨¡å—||(a.data.é¿éš¾æ‰€.æ¨¡å—={}),a.data.é¿éš¾æ‰€.æ¨¡å—.æ­¦å™¨åˆ¶é€ å°||(a.data.é¿éš¾æ‰€.æ¨¡å—.æ­¦å™¨åˆ¶é€ å°={å·²ç ”å‘ç­‰çº§:0}),a.data.é¿éš¾æ‰€.æ¨¡å—.æ­¦å™¨åˆ¶é€ å°.å·²ç ”å‘ç­‰çº§=e,await S.play('research',{level:e}),N.value=!1)}const q=(0,c.ref)(null);let L,D=null;async function T(e,t,a,n){var l;w.value||S.isPlaying.value||!b(e)&&C(e)&&E(a,n)&&(w.value=!0,l=`${e}-${t}`,q.value=l,L&&window.clearTimeout(L),L=window.setTimeout(()=>{q.value=null},750),async function(){const e=window.AudioContext||window.webkitAudioContext;if(!e)return;if(D&&'closed'!==D.state||(D=new e),!D)return;'suspended'===D.state&&await D.resume();const t=D.currentTime,a=D.createGain();a.gain.setValueAtTime(1e-4,t),a.gain.exponentialRampToValueAtTime(.4,t+.03),a.gain.exponentialRampToValueAtTime(1e-4,t+.5),a.connect(D.destination);const n=D.createOscillator();n.type='triangle',n.frequency.setValueAtTime(620,t),n.frequency.exponentialRampToValueAtTime(260,t+.18),n.connect(a),n.start(t),n.stop(t+.5);const l=D.createOscillator();l.type='square',l.frequency.setValueAtTime(180,t),l.frequency.exponentialRampToValueAtTime(90,t+.12);const r=D.createGain();r.gain.setValueAtTime(.001,t),r.gain.exponentialRampToValueAtTime(.15,t+.02),r.gain.exponentialRampToValueAtTime(1e-4,t+.25),l.connect(r),r.connect(a),l.start(t),l.stop(t+.3)}(),je(`ã€åˆ¶é€ ã€‘æ­¦å™¨åˆ¶é€ å° Lv.${e} - ${t}\næ¶ˆè€—ï¼šæ­¦å™¨é…ä»¶-${a}ï¼Œç‡ƒæ–™-${n}\nè¯´æ˜ï¼šè¯·æ‰£é™¤èµ„æºå¹¶è®°å½•åˆ¶é€ å®Œæˆï¼ŒåŒæ—¶åŠ å…¥èƒŒåŒ…ã€‚`),await S.play('craft',{level:e,name:t}),w.value=!1)}return(e,t)=>((0,c.openBlock)(),(0,c.createElementBlock)('div',Bo,[(0,c.createElementVNode)('div',{ref_key:'animOverlayEl',ref:x,class:'forge-anim-overlay'},null,512),(0,c.createElementVNode)('div',zo,[(0,c.createElementVNode)('div',Mo,[(0,c.createElementVNode)('div',$o,[t[0]||(t[0]=(0,c.createElementVNode)('div',{class:'header-icon'},null,-1)),t[1]||(t[1]=(0,c.createTextVNode)(' æ­¦å™¨åˆ¶é€ å° ',-1)),'intro'===(0,c.unref)(h)?((0,c.openBlock)(),(0,c.createElementBlock)('span',{key:0,class:(0,c.normalizeClass)(['pixel-tag sm',(0,c.unref)(l)?'success':'warning'])},(0,c.toDisplayString)((0,c.unref)(l)?'å¯è§£é”':'å‰ç½®ä¸è¶³'),3)):(0,c.createCommentVNode)('v-if',!0)]),(0,c.createElementVNode)('div',qo,[(0,c.createElementVNode)('button',{class:(0,c.normalizeClass)(['pixel-btn sm',{active:'intro'===(0,c.unref)(h)}]),onClick:k},' æ¨¡å—è¯´æ˜ ',2),(0,c.createElementVNode)('button',{class:(0,c.normalizeClass)(['pixel-btn sm',{active:'craft'===(0,c.unref)(h)}]),onClick:g},' åˆ¶é€ é…æ–¹ ',2)])]),(0,c.createElementVNode)('div',_o,[(0,c.createVNode)(c.Transition,{name:'page-slide',mode:'out-in'},{default:(0,c.withCtx)(()=>[((0,c.openBlock)(),(0,c.createElementBlock)('div',{key:(0,c.unref)(h)},['intro'===(0,c.unref)(h)?((0,c.openBlock)(),(0,c.createElementBlock)('div',{key:0,class:(0,c.normalizeClass)(['module-card pixel-card',(0,c.unref)(l)?'success':'warning'])},[(0,c.createElementVNode)('div',Lo,[t[2]||(t[2]=(0,c.createElementVNode)('span',{class:'module-name'},'æ­¦å™¨åˆ¶é€ å°æ¨¡å—',-1)),(0,c.createElementVNode)('span',Do,(0,c.toDisplayString)((0,c.unref)(l)?'å°±ç»ª':'é”å®š'),1)]),t[3]||(t[3]=(0,c.createElementVNode)('div',{class:'module-desc'},' ç ”å‘æ¶ˆè€—ç§‘æŠ€ç‚¹ï¼Œåˆ¶é€ æ¶ˆè€—æ­¦å™¨é…ä»¶+ç‡ƒæ–™ï¼Œä¾èµ–æ­¦å™¨åº“ä½œä¸ºå‰ç½®æ¨¡å—ã€‚ ',-1)),(0,c.createElementVNode)('div',To,' å‰ç½®ï¼š'+(0,c.toDisplayString)((0,c.unref)(i)),1),(0,c.createElementVNode)('div',{class:(0,c.normalizeClass)(['module-hint',{ready:(0,c.unref)(l)}])},(0,c.toDisplayString)((0,c.unref)(l)?'å·²æ»¡è¶³å‰ç½®ï¼Œå¯è¿›è¡Œæ¨¡å—è§£é”ã€‚':'å»ºé€ æ­¦å™¨åº“åå¼€æ”¾æ¨¡å—ã€‚'),3)],2)):((0,c.openBlock)(),(0,c.createElementBlock)('div',{key:1,class:(0,c.normalizeClass)(['workbench-content',{locked:!(0,c.unref)(l)}])},[(0,c.unref)(l)?(0,c.createCommentVNode)('v-if',!0):((0,c.openBlock)(),(0,c.createElementBlock)('div',jo,[...t[4]||(t[4]=[(0,c.createElementVNode)('div',{class:'lock-title'},'åˆ¶é€ å°æœªè§£é”',-1),(0,c.createElementVNode)('div',{class:'lock-desc'},'éœ€è¦å…ˆå»ºé€ æ­¦å™¨åº“ï¼ˆLv.1ï¼‰',-1)])])),(0,c.createElementVNode)('div',Ao,[(0,c.createElementVNode)('button',{class:'pixel-btn sm',disabled:(0,c.unref)(m)<=1,onClick:f},'â—€',8,Po),(0,c.createElementVNode)('div',Oo,(0,c.toDisplayString)((0,c.unref)(p)+1)+' / '+(0,c.toDisplayString)((0,c.unref)(m)),1),(0,c.createElementVNode)('button',{class:'pixel-btn sm',disabled:(0,c.unref)(m)<=1,onClick:y},'â–¶',8,Ro)]),(0,c.createElementVNode)('div',Io,[t[8]||(t[8]=(0,c.createElementVNode)('div',{class:'rule-title'},'åˆ¶é€ é…æ–¹',-1)),(0,c.createVNode)(c.Transition,{name:'page-slide',mode:'out-in'},{default:(0,c.withCtx)(()=>[((0,c.openBlock)(),(0,c.createElementBlock)('div',{key:(0,c.unref)(p),class:'levels-page'},[((0,c.openBlock)(!0),(0,c.createElementBlock)(c.Fragment,null,(0,c.renderList)((0,c.unref)(v),e=>{return(0,c.openBlock)(),(0,c.createElementBlock)('div',{key:`lvl-${e.level}`,class:(0,c.normalizeClass)(['level-card',{locked:b(e.level)}]),style:(0,c.normalizeStyle)({'--level-color':o[e.level-1]})},[(0,c.createElementVNode)('div',Fo,[(0,c.createElementVNode)('div',Uo,'Lv'+(0,c.toDisplayString)(e.level),1),(0,c.createElementVNode)('div',Ho,'ç ”å‘ï¼š'+(0,c.toDisplayString)(e.tech)+' ç§‘æŠ€ç‚¹',1)]),(0,c.createElementVNode)('div',Xo,[((0,c.openBlock)(!0),(0,c.createElementBlock)(c.Fragment,null,(0,c.renderList)(e.items,a=>{return(0,c.openBlock)(),(0,c.createElementBlock)('div',{key:a.name,class:(0,c.normalizeClass)(['item-card',{crafting:(0,c.unref)(q)===`${e.level}-${a.name}`}])},[t[5]||(t[5]=(0,c.createElementVNode)('div',{class:'craft-fx','aria-hidden':'true'},[(0,c.createElementVNode)('span',{class:'fx-ring'}),(0,c.createElementVNode)('span',{class:'fx-burst'}),(0,c.createElementVNode)('span',{class:'fx-spark s1'}),(0,c.createElementVNode)('span',{class:'fx-spark s2'}),(0,c.createElementVNode)('span',{class:'fx-spark s3'})],-1)),(0,c.createElementVNode)('div',Yo,[(0,c.createElementVNode)('span',{class:'item-icon',innerHTML:d[a.type]},null,8,Wo),(0,c.createElementVNode)('span',Go,(0,c.toDisplayString)(a.name),1)]),a.note?((0,c.openBlock)(),(0,c.createElementBlock)('div',Ko,(0,c.toDisplayString)(a.note),1)):(0,c.createCommentVNode)('v-if',!0),(0,c.createElementVNode)('div',Zo,[(0,c.createElementVNode)('span',Jo,(0,c.toDisplayString)((n=a.parts,l=a.fuel,`é…ä»¶${n}/ç‡ƒæ–™${l}`)),1),(0,c.createElementVNode)('button',{class:(0,c.normalizeClass)(['pixel-btn sm craft-btn',{shake:(0,c.unref)(q)===`${e.level}-${a.name}`}]),disabled:b(e.level)||!C(e.level)||!E(a.parts,a.fuel),onClick:t=>T(e.level,a.name,a.parts,a.fuel)},' åˆ¶é€  ',10,Qo)])],2);var n,l}),128))]),C(e.level)||b(e.level)?(0,c.createCommentVNode)('v-if',!0):((0,c.openBlock)(),(0,c.createElementBlock)('div',ec,[(0,c.createElementVNode)('button',{class:'pixel-btn research-center',disabled:!B(e.level,e.tech)||(0,c.unref)(N),onClick:t=>M(e.level,e.tech)},[t[6]||(t[6]=(0,c.createTextVNode)(' ç ”å‘è§£é” ',-1)),(0,c.createElementVNode)('span',ac,'æ¶ˆè€— ç§‘æŠ€ç‚¹-'+(0,c.toDisplayString)(e.tech),1)],8,tc)])),b(e.level)?((0,c.openBlock)(),(0,c.createElementBlock)('div',nc,[t[7]||(t[7]=(0,c.createElementVNode)('div',{class:'lock-title'},'æœªè§£é”',-1)),(0,c.createElementVNode)('div',lc,'éœ€è¦æ­¦å™¨åº“ Lv.'+(0,c.toDisplayString)((a=e.level,a<=2?1:a<=4?2:a<=6?3:a<=8?4:5)),1)])):(0,c.createCommentVNode)('v-if',!0)],6);var a}),128))]))]),_:1})])],2))]))]),_:1})])])]))}}),oc=(0,ue.A)(rc,[['__scopeId','data-v-54eea983']]);function cc(e){const t=(0,c.ref)(!1);let a=null,n=null,r=null;function o(){const l=e.containerEl.value;n&&(n.kill(),n=null),a&&(a.kill(),a=null),l&&(l.style.display='none',l.innerHTML=''),t.value=!1,r&&(r(),r=null)}function s(){t.value&&o()}return(0,c.onUnmounted)(o),{play:async function(i='ten'){if(t.value)return;t.value=!0,await(0,c.nextTick)();const d=e.containerEl.value;if(!d)return void(t.value=!1);d.innerHTML=function(e){const t='single'===e,a=t?16:50,n=t?6:15,l=t?1:10;return`\n      <div class="recruit-scene" data-mode="${e}">\n        <div class="recruit-bg">\n          <div class="bg-gradient"></div>\n          <div class="bg-grid"></div>\n          <div class="bg-vignette"></div>\n        </div>\n        <div class="flash-layer"></div>\n        <div class="particle-layer">${Array.from({length:a},(_,e)=>{const t=2+5*Math.random(),a=180+50*Math.random();return`<div class="recruit-particle" data-idx="${e}" style="\n        width:${t}px;height:${t}px;\n        background:hsla(${a},80%,65%,0.8);\n        box-shadow:0 0 ${2*t}px hsla(${a},80%,65%,0.6);\n      "></div>`}).join('')}</div>\n        <div class="star-layer">${Array.from({length:n},(_,e)=>`<div class="recruit-star" data-idx="${e}" style="font-size:${8+12*Math.random()}px;">âœ¦</div>`).join('')}</div>\n        <div class="energy-ring ring-outer"></div>\n        <div class="energy-ring ring-inner"></div>\n        <div class="card-container">${Array.from({length:l},(_,e)=>`<div class="recruit-card-slot" data-idx="${e}">\n        <div class="card-wrapper">\n          <div class="card-face card-back"><div class="card-pattern"></div></div>\n          <div class="card-face card-front"><span class="card-rank">?</span></div>\n        </div>\n      </div>`).join('')}</div>\n        <div class="center-core">\n          <div class="core-burst"></div>\n          <div class="core-glow"></div>\n          <div class="core-icon">â˜…</div>\n        </div>\n        <div class="scene-ui">\n          <div class="scene-title">${t?'å­¤æ³¨ä¸€æ·':'å‘½è¿æŠ½é€‰'}</div>\n          <div class="scene-status">å‡èšä¸­<span class="dots"></span></div>\n        </div>\n        <div class="scene-skip">ç‚¹å‡»è·³è¿‡</div>\n      </div>\n    `}(i),d.style.display='block';const u=d.querySelector('.recruit-scene');return u.addEventListener('click',s),new Promise(e=>{r=e,a=l.context(()=>{const e='single'===i,t=e?2.6:5,a=d.querySelectorAll('.recruit-particle'),r=d.querySelectorAll('.recruit-star'),c=d.querySelector('.flash-layer'),s=d.querySelector('.ring-outer'),p=d.querySelector('.ring-inner'),m=d.querySelectorAll('.recruit-card-slot'),v=d.querySelector('.center-core'),f=d.querySelector('.core-burst'),y=d.querySelector('.core-glow'),h=d.querySelector('.core-icon'),k=d.querySelector('.scene-ui'),g=d.querySelector('.dots'),b=d.querySelector('.scene-skip');n=l.timeline({onComplete:()=>o()}),n.fromTo(u,{opacity:0},{opacity:1,duration:.3}),n.fromTo(c,{opacity:0},{opacity:.9,duration:.15},.1),n.to(c,{opacity:0,duration:.4},.25),n.to(k,{opacity:1,duration:.4},.3),n.to(b,{opacity:.5,duration:.3},.5),a.forEach((e,t)=>{const a=Math.random()*Math.PI*2,r=150+100*Math.random();l.set(e,{position:'absolute',left:'50%',top:'50%',x:Math.cos(a)*r,y:Math.sin(a)*r,opacity:0}),n.to(e,{x:0,y:0,opacity:1,duration:.8,ease:'power2.in'},.3+.02*t)}),r.forEach((e,t)=>{const a=Math.random()*Math.PI*2,r=80+120*Math.random(),o=Math.cos(a)*r,c=Math.sin(a)*r;l.set(e,{position:'absolute',left:'50%',top:'50%',x:o,y:c,opacity:0,scale:0}),n.to(e,{opacity:1,scale:1,duration:.5,ease:'back.out(2)'},1.2+.1*t);const s=15+20*Math.random(),i=Math.random()*Math.PI*2;l.to(e,{x:o+Math.cos(i)*s,y:c+Math.sin(i)*s,duration:1.5+Math.random(),repeat:-1,yoyo:!0,ease:'sine.inOut',delay:1.2+.1*t}),l.to(e,{rotation:360,duration:3+2*Math.random(),repeat:-1,ease:'none',delay:1.2+.1*t}),l.to(e,{scale:.7+.6*Math.random(),duration:.8+.5*Math.random(),repeat:-1,yoyo:!0,ease:'sine.inOut',delay:1.5+.1*t})}),n.to(v,{opacity:1,scale:1,duration:.3},.8),n.fromTo(f,{scale:.5,opacity:0},{scale:2,opacity:.8,duration:.4},1),n.to(f,{scale:3,opacity:0,duration:.3},1.4),n.to(y,{opacity:1,scale:1.2,duration:.3},1),l.to(h,{rotation:360,duration:2,repeat:-1,ease:'none'}),n.to(s,{opacity:.7,scale:1,duration:.4},1.2),n.to(p,{opacity:.8,scale:1,duration:.3},1.3),l.to(s,{rotation:360,duration:6,repeat:-1,ease:'none'}),l.to(p,{rotation:-360,duration:4,repeat:-1,ease:'none'}),m.forEach((t,a)=>{const r=Math.floor(a/5),o=e?0:68*(a%5-2),c=e?0:95*(r-.5),s=e?1.5:2+.12*a;l.set(t,{x:0,y:-250,opacity:0,rotateY:180}),n.to(t,{x:o,y:c,opacity:1,duration:.5,ease:'back.out(1.2)'},s),n.to(t,{rotateY:0,duration:.4,ease:'power2.out'},s+.2)});let E=0;const V=setInterval(()=>{E=(E+1)%4,g&&(g.textContent='.'.repeat(E))},300);n.call(()=>clearInterval(V),[],t-.6),n.to(c,{opacity:.6,duration:.15},t-.5),n.to(c,{opacity:0,duration:.2},t-.35),n.to(u,{opacity:0,duration:.3},t-.3)})})},skip:s,isPlaying:t}}const sc={class:'recruit-panel'},ic={class:'recruit-main pixel-card'},dc={class:'recruit-costs'},uc={class:'cost-grid'},pc={class:'cost-row'},mc={class:'cost-rate'},vc={class:'cost-row'},fc={class:'cost-rate'},yc={class:'cost-row'},hc={class:'cost-rate'},kc={class:'cost-row'},gc={class:'cost-rate'},bc={class:'cost-row'},Ec={class:'cost-rate'},Vc={class:'recruit-actions'},Nc=['disabled'],wc=['disabled'],xc={class:'recruit-modal'},Sc={key:0,class:'rolling-state'},Cc=['onClick'],Bc={class:'roll-name'},zc={class:'roll-meta'},Mc={key:0,class:'roll-select'},$c={class:'pick-hint'},qc=['disabled'],_c=['disabled'],Lc=(0,c.defineComponent)({__name:'RecruitPanel',props:{èµ„æº:{}},setup(e){const t=e,a=(0,c.computed)(()=>Qe(t.èµ„æº)),n=oe(),l=(0,c.ref)(!1),r=(0,c.ref)(!1),o=(0,c.ref)(!1),s=(0,c.ref)([]),i=(0,c.ref)([]),d=(0,c.ref)('ten'),u=(0,c.ref)([]),p=(0,c.ref)(),m=cc({containerEl:p}),v=[{key:'N',weight:55},{key:'R',weight:25},{key:'SR',weight:12},{key:'SSR',weight:6},{key:'UR',weight:2}],f=(0,c.computed)(()=>{const e={};return v.forEach(t=>{e[t.key]=t.weight}),e});function y(){const e=v.reduce((e,t)=>e+t.weight,0),t=Math.random()*e;let a=0;for(const e of v)if(a+=e.weight,t<=a)return e.key;return'N'}function h(){return{å§“å:'æœªçŸ¥å¹¸å­˜è€…',ç¨€æœ‰åº¦:y(),æ¥æº:'æœªçŸ¥'}}async function k(){x.value&&N(E)&&(o.value=!0,d.value='ten',s.value=[],i.value=[],u.value=[],await m.play('ten'),s.value=Array.from({length:10},()=>h()),o.value=!1,l.value=!0)}async function g(){w.value&&N(b)&&(o.value=!0,d.value='single',s.value=[],i.value=[],u.value=[],await m.play('single'),i.value=[h()],o.value=!1,l.value=!0)}const b={é£Ÿç‰©:1},E={é£Ÿç‰©:5,å‡€æ°´:5};function V(e){return Object.entries(e).every(([e,a])=>t.èµ„æº[e]>=a)}function N(e){const t=n.data.é¿éš¾æ‰€.èµ„æº;return!!Object.entries(e).every(([e,a])=>t[e]>=a)&&(Object.entries(e).forEach(([e,a])=>{t[e]=Math.max((t[e]??0)-a,0)}),!0)}const w=(0,c.computed)(()=>V(b)),x=(0,c.computed)(()=>V(E)),S=(0,c.computed)(()=>{if(!s.value.length)return null;const e=s.value.map(e=>({rarity:e.ç¨€æœ‰åº¦||'N',source:e.æ¥æº}));return a.value.recruit.tenBatch(e)}),C=(0,c.computed)(()=>{if(1!==i.value.length)return null;const e=i.value[0];return a.value.recruit.single({rarity:e.ç¨€æœ‰åº¦||'N',source:e.æ¥æº})});async function B(){if(!S.value||0===u.value.length)return;const e=u.value.length,t=`ã€è¡ŒåŠ¨ã€‘åè¿æ‹›å‹Ÿï¼ˆæŠ½å¡ç»“æœå·²å®šï¼‰\næŠ½å¡ç»“æœï¼š\n${u.value.map((e,t)=>{const a=s.value[e];if(!a)return null;const n=a.æ¥æº?` æ¥æº:${a.æ¥æº}`:'';return`${t+1}) ç¨€æœ‰åº¦:${a.ç¨€æœ‰åº¦||'N'}${n}`}).filter(Boolean).join('\n')}\nè¦æ±‚ï¼šæŒ‰åºå·ä¸ç¨€æœ‰åº¦ç”Ÿæˆ${e}åå€™é€‰å¹¸å­˜è€…ï¼Œç¨€æœ‰åº¦ä¸å¾—è°ƒæ•´ã€‚\nè¦æ±‚ï¼šæ¯åå€™é€‰ç»™å‡ºå§“å/æ€§åˆ«/å¹´é¾„/å¤–è²Œæè¿°/èƒŒæ™¯æ•…äº‹/æ ¸å¿ƒæŠ€èƒ½/ä¸“é•¿æ ‡ç­¾/æ‹›å‹ŸåŠ¨æœºã€‚\nè¦æ±‚ï¼šä¸¥æ ¼æŒ‰ç…§æœ¬æç¤ºå†…å®¹æ‰§è¡Œæ‹›å‹Ÿï¼Œä»…ç”Ÿæˆä»¥ä¸Š${e}åå€™é€‰ï¼Œåºå·ä»¥æœ¬åˆ—è¡¨ä¸ºå‡†ã€‚\nè¦æ±‚ï¼šç¦æ­¢è¾“å‡ºé™¤ä¸Šè¿°å€™é€‰å¤–çš„ä»»ä½•å…¶ä»–æ‹›å‹Ÿäººå‘˜/å€™é€‰åå•/è¡¥å……å€™é€‰ã€‚\nè¯´æ˜ï¼šæœ¬æ­¥ä»…ç”Ÿæˆå€™é€‰ï¼Œä¸ç»“ç®—ç¨€æœ‰åº¦èµ„æºï¼Œé€‰æ‹©åå†æŒ‰ç¨€æœ‰åº¦ç»“ç®—ã€‚\nè¯´æ˜ï¼šå¿…é¡»å‚è€ƒ<recruit_rules>çš„å†…å®¹\nè¯´æ˜ï¼šå¿…é¡»å‚è€ƒ<recruit_gacha>çš„å†…å®¹\nè¯´æ˜ï¼šå¿…é¡»å‚è€ƒ<recruit_character_guide>çš„å†…å®¹\nè¯´æ˜ï¼šå¿…é¡»å‚è€ƒ<population_cap>çš„å†…å®¹`;await q(t),l.value=!1}async function M(){C.value&&(await q(C.value.text),l.value=!1)}async function q(e){const t=e.trim();if(!t)return;const a=t.replace(/\r/g,'');await triggerSlash(`/send raw=true ${a}`),await triggerSlash('/trigger')}function L(){!s.value.length&&!i.value.length||o.value?l.value=!1:r.value=!0}function D(){r.value=!1,l.value=!1}function T(){r.value=!1}return(e,t)=>((0,c.openBlock)(),(0,c.createElementBlock)('div',sc,[(0,c.createElementVNode)('div',{ref_key:'animOverlayEl',ref:p,class:'recruit-anim-overlay'},null,512),t[20]||(t[20]=(0,c.createStaticVNode)('<div class="recruit-hero" data-v-4cf8abd8><div class="hero-icon" data-v-4cf8abd8>ğŸ‘¥</div><div class="hero-content" data-v-4cf8abd8><div class="hero-title" data-v-4cf8abd8>å¹¸å­˜è€…æ‹›å‹Ÿ</div><div class="hero-desc" data-v-4cf8abd8>åœ¨æœ«ä¸–ä¸­å¯»æ‰¾å¿—åŒé“åˆçš„ä¼™ä¼´</div></div></div>',1)),(0,c.createElementVNode)('div',ic,[(0,c.createElementVNode)('div',dc,[t[10]||(t[10]=(0,c.createElementVNode)('div',{class:'cost-title'},'ç¨€æœ‰åº¦æ‹›å‹Ÿæ¶ˆè€—',-1)),(0,c.createElementVNode)('div',uc,[(0,c.createElementVNode)('div',pc,[t[0]||(t[0]=(0,c.createElementVNode)('span',{class:'pixel-tag sm rarity-n'},'N',-1)),t[1]||(t[1]=(0,c.createElementVNode)('span',{class:'cost-text'},'é£Ÿç‰©10, å‡€æ°´8, ææ–™5',-1)),(0,c.createElementVNode)('span',mc,(0,c.toDisplayString)((0,c.unref)(f).N)+'%',1)]),(0,c.createElementVNode)('div',vc,[t[2]||(t[2]=(0,c.createElementVNode)('span',{class:'pixel-tag sm rarity-r'},'R',-1)),t[3]||(t[3]=(0,c.createElementVNode)('span',{class:'cost-text'},'é£Ÿç‰©14, å‡€æ°´11, ææ–™7',-1)),(0,c.createElementVNode)('span',fc,(0,c.toDisplayString)((0,c.unref)(f).R)+'%',1)]),(0,c.createElementVNode)('div',yc,[t[4]||(t[4]=(0,c.createElementVNode)('span',{class:'pixel-tag sm rarity-sr'},'SR',-1)),t[5]||(t[5]=(0,c.createElementVNode)('span',{class:'cost-text'},'é£Ÿç‰©20, å‡€æ°´16, ææ–™10',-1)),(0,c.createElementVNode)('span',hc,(0,c.toDisplayString)((0,c.unref)(f).SR)+'%',1)]),(0,c.createElementVNode)('div',kc,[t[6]||(t[6]=(0,c.createElementVNode)('span',{class:'pixel-tag sm rarity-ssr'},'SSR',-1)),t[7]||(t[7]=(0,c.createElementVNode)('span',{class:'cost-text'},'é£Ÿç‰©28, å‡€æ°´22, ææ–™14',-1)),(0,c.createElementVNode)('span',gc,(0,c.toDisplayString)((0,c.unref)(f).SSR)+'%',1)]),(0,c.createElementVNode)('div',bc,[t[8]||(t[8]=(0,c.createElementVNode)('span',{class:'pixel-tag sm rarity-ur'},'UR',-1)),t[9]||(t[9]=(0,c.createElementVNode)('span',{class:'cost-text'},'é£Ÿç‰©36, å‡€æ°´28, ææ–™18',-1)),(0,c.createElementVNode)('span',Ec,(0,c.toDisplayString)((0,c.unref)(f).UR)+'%',1)])])]),(0,c.createElementVNode)('div',Vc,[(0,c.createElementVNode)('button',{class:(0,c.normalizeClass)(['recruit-btn minor',{disabled:!(0,c.unref)(w)}]),disabled:!(0,c.unref)(w),onClick:g},[...t[11]||(t[11]=[(0,c.createElementVNode)('span',{class:'btn-icon'},'ğŸ´',-1),(0,c.createElementVNode)('span',{class:'btn-text'},'å•æŠ½',-1),(0,c.createElementVNode)('span',{class:'btn-cost'},'é£Ÿç‰©1',-1)])],10,Nc),(0,c.createElementVNode)('button',{class:(0,c.normalizeClass)(['recruit-btn',{disabled:!(0,c.unref)(x)}]),disabled:!(0,c.unref)(x),onClick:k},[...t[12]||(t[12]=[(0,c.createElementVNode)('span',{class:'btn-icon'},'ğŸ²',-1),(0,c.createElementVNode)('span',{class:'btn-text'},'åè¿æ‹›å‹Ÿ',-1),(0,c.createElementVNode)('span',{class:'btn-cost'},'é£Ÿç‰©5 å‡€æ°´5',-1)])],10,wc)]),t[13]||(t[13]=(0,c.createElementVNode)('div',{class:'recruit-tip warn'},' è­¦ç¤ºï¼šæ‹›å‹Ÿæ¶ˆè€—ä¸ºé¢å¤–è®¡ç®—ï¼Œç‚¹å‡»å³æ‰£é™¤èµ„æº ',-1))]),(0,c.createVNode)(ye,{visible:(0,c.unref)(l),title:'æ‹›å‹Ÿç»“æœ','block-close':!0,onRequestClose:L},{default:(0,c.withCtx)(()=>[(0,c.createElementVNode)('div',xc,[(0,c.unref)(o)?((0,c.openBlock)(),(0,c.createElementBlock)('div',Sc,[t[15]||(t[15]=(0,c.createElementVNode)('div',{class:'rolling-text'},'å‘½è¿æ­æ™“ä¸­...',-1)),t[16]||(t[16]=(0,c.createElementVNode)('div',{class:'rolling-glow'},null,-1)),t[17]||(t[17]=(0,c.createElementVNode)('div',{class:'rolling-ring'},null,-1)),(0,c.createElementVNode)('div',{class:(0,c.normalizeClass)(['rolling-grid',{single:'single'===(0,c.unref)(d)}])},[((0,c.openBlock)(!0),(0,c.createElementBlock)(c.Fragment,null,(0,c.renderList)('single'===(0,c.unref)(d)?1:10,e=>((0,c.openBlock)(),(0,c.createElementBlock)('div',{key:e,class:'rolling-card'},[...t[14]||(t[14]=[(0,c.createElementVNode)('span',{class:'rolling-rank'},'?',-1)])]))),128))],2),t[18]||(t[18]=(0,c.createElementVNode)('div',{class:'rolling-bar pixel-bar'},[(0,c.createElementVNode)('div',{class:'bar-fill rolling-fill'})],-1))])):((0,c.openBlock)(),(0,c.createElementBlock)(c.Fragment,{key:1},[(0,c.createElementVNode)('div',{class:(0,c.normalizeClass)(['roll-grid',{single:'single'===(0,c.unref)(d)}])},[((0,c.openBlock)(!0),(0,c.createElementBlock)(c.Fragment,null,(0,c.renderList)('single'===(0,c.unref)(d)?(0,c.unref)(i):(0,c.unref)(s),(e,t)=>((0,c.openBlock)(),(0,c.createElementBlock)('button',{key:t,class:(0,c.normalizeClass)(['roll-card pixel-card',[`rarity-${(e.ç¨€æœ‰åº¦||'N').toLowerCase()}`,{reveal:!0,active:(0,c.unref)(u).includes(t)&&'ten'===(0,c.unref)(d)}]]),style:(0,c.normalizeStyle)({animationDelay:.06*t+'s'}),type:'button',onClick:e=>function(e){if('ten'!==d.value)return;const t=new Set(u.value);t.has(e)?t.delete(e):t.add(e),u.value=Array.from(t).sort((e,t)=>e-t)}(t)},[(0,c.createElementVNode)('div',Bc,'å€™é€‰'+(0,c.toDisplayString)(t+1),1),(0,c.createElementVNode)('div',zc,[(0,c.createElementVNode)('span',{class:(0,c.normalizeClass)(['pixel-tag sm',`rarity-${(e.ç¨€æœ‰åº¦||'N').toLowerCase()}`])},(0,c.toDisplayString)(e.ç¨€æœ‰åº¦||'N'),3)]),'ten'===(0,c.unref)(d)?((0,c.openBlock)(),(0,c.createElementBlock)('div',Mc,(0,c.toDisplayString)((0,c.unref)(u).includes(t)?'å·²é€‰':'ç‚¹å‡»é€‰æ‹©'),1)):(0,c.createCommentVNode)('v-if',!0)],14,Cc))),128))],2),(0,c.createElementVNode)('div',$c,(0,c.toDisplayString)('ten'===(0,c.unref)(d)?'è¯·è‡³å°‘é€‰æ‹©1ååŠ å…¥åå‘é€':'æŠ½å¡ç»“æœå·²ç”Ÿæˆï¼Œå¯å‘é€ç»™AIç”Ÿæˆå€™é€‰'),1),'ten'===(0,c.unref)(d)?((0,c.openBlock)(),(0,c.createElementBlock)('button',{key:0,class:(0,c.normalizeClass)(['action-btn success',{disabled:!(0,c.unref)(S)||0===(0,c.unref)(u).length}]),disabled:!(0,c.unref)(S)||0===(0,c.unref)(u).length,onClick:B},' å‘é€æŠ½å¡ç»“æœ ',10,qc)):((0,c.openBlock)(),(0,c.createElementBlock)('button',{key:1,class:(0,c.normalizeClass)(['action-btn success',{disabled:!(0,c.unref)(C)}]),disabled:!(0,c.unref)(C),onClick:M},' å‘é€æŠ½å¡ç»“æœ ',10,_c))],64))])]),_:1},8,['visible']),(0,c.createVNode)(ye,{visible:(0,c.unref)(r),title:'ç¡®è®¤é€€å‡º',onClose:T},{default:(0,c.withCtx)(()=>[(0,c.createElementVNode)('div',{class:'confirm-body'},[t[19]||(t[19]=(0,c.createElementVNode)('div',{class:'confirm-text'},'ç¡®è®¤é€€å‡ºæ‹›å‹Ÿç»“æœï¼ŸæŠ½å¡æ¶ˆè€—ä¸è¿”è¿˜ã€‚',-1)),(0,c.createElementVNode)('div',{class:'confirm-actions'},[(0,c.createElementVNode)('button',{class:'action-btn',type:'button',onClick:T},'å–æ¶ˆ'),(0,c.createElementVNode)('button',{class:'action-btn danger',type:'button',onClick:D},'ç¡®è®¤é€€å‡º')])])]),_:1},8,['visible'])]))}}),Dc=(0,ue.A)(Lc,[['__scopeId','data-v-4cf8abd8']]),Tc=(0,c.defineComponent)({__name:'SnowEffect',props:{intensity:{},weather:{},wind:{},temperature:{}},setup(e){const t=e,a=(0,c.ref)([]),n=(0,c.computed)(()=>{const e=t.weather||'',a=t.temperature??-20,n=Math.min(1,Math.max(0,-a/80)),l={æ— é£:{drift:0,speed:1},å¾®é£:{drift:12,speed:.95},å¼ºé£:{drift:28,speed:.85},æš´é£:{drift:46,speed:.75}}[t.wind||'']||{drift:6,speed:.95};let r={light:15,normal:30,heavy:50,blizzard:80}[t.intensity||'normal'],o=[1,2.2],c=[5,8],s=.55+.2*n;return e.includes('æš´é£é›ª')?(r=80,o=[2,3.8],c=[3.2,5],s=.7+.2*n):e.includes('å¤§é›ª')?(r=55,o=[1.6,3],c=[4,6]):e.includes('å°é›ª')?(r=30,o=[1,2.2],c=[5,8]):e.includes('é˜´å¤©')?(r=8,o=[1,1.8],c=[7,10],s=.45+.15*n):e.includes('å¤šäº‘')?(r=12,o=[1,2],c=[6,9],s=.5+.15*n):e.includes('æ™´æœ—')&&(r=0),{count:r,size:o,duration:c,baseOpacity:s,windProfile:l}});function l(){const e=n.value,t=e.count;a.value=Array.from({length:t},(_,t)=>{const a=e.windProfile.drift,n=(Math.random()-.5)*a*2;return{id:t,x:100*Math.random(),delay:4*Math.random(),dur:(e.duration[0]+Math.random()*(e.duration[1]-e.duration[0]))*e.windProfile.speed,size:e.size[0]+Math.random()*(e.size[1]-e.size[0]),drift:n,opacity:Math.min(1,e.baseOpacity+.25*Math.random())}})}return(0,c.onMounted)(()=>{l()}),(0,c.watch)(n,()=>{l()}),(t,n)=>((0,c.openBlock)(),(0,c.createElementBlock)('div',{class:(0,c.normalizeClass)(['snow-layer',e.intensity])},[((0,c.openBlock)(!0),(0,c.createElementBlock)(c.Fragment,null,(0,c.renderList)((0,c.unref)(a),e=>((0,c.openBlock)(),(0,c.createElementBlock)('div',{key:e.id,class:'flake',style:(0,c.normalizeStyle)({left:e.x+'%',animationDelay:e.delay+'s',animationDuration:e.dur+'s',width:e.size+'px',height:e.size+'px',opacity:e.opacity,'--drift':e.drift+'px'})},null,4))),128))],2))}}),jc=(0,ue.A)(Tc,[['__scopeId','data-v-294122be']]),Ac={ç‡ƒæ–™:20,é£Ÿç‰©:30,è¯å“:20,å¥åº·å€¼:30,ä½“æ¸©:35};const Pc={class:'main-content'},Oc=(0,c.defineComponent)({__name:'App',setup(e){const t=oe(),a=(0,c.computed)(()=>t.data),n=(0,c.computed)(()=>t.prevData),l=(0,c.ref)('shelter'),r=[{key:'shelter',label:'é¿éš¾æ‰€'},{key:'facilities',label:'è®¾æ–½'},{key:'tech',label:'ç§‘æŠ€'},{key:'recruit',label:'æ‹›å‹Ÿ'},{key:'survivors',label:'å¹¸å­˜è€…'},{key:'map',label:'åœ°å›¾'},{key:'weaponbench',label:'æ­¦å™¨åˆ¶é€ å°'}],o={shelter:Ea,facilities:An,tech:gl,recruit:Dc,survivors:Er,map:So,weaponbench:oc},s=(0,c.computed)(()=>o[l.value]||Ea),i=(0,c.computed)(()=>{switch(l.value){case'shelter':return{ç¯å¢ƒ:a.value.ç¯å¢ƒ,é¿éš¾æ‰€:a.value.é¿éš¾æ‰€,prevç¯å¢ƒ:n.value?.ç¯å¢ƒ,prevèµ„æº:n.value?.é¿éš¾æ‰€?.èµ„æº,preväººå£:n.value?.é¿éš¾æ‰€?.äººå£ç»Ÿè®¡};case'facilities':case'weaponbench':return{è®¾æ–½:a.value.é¿éš¾æ‰€.è®¾æ–½,èµ„æº:a.value.é¿éš¾æ‰€.èµ„æº};case'tech':return{ç§‘æŠ€æ ‘:a.value.ç§‘æŠ€æ ‘,èµ„æº:a.value.é¿éš¾æ‰€.èµ„æº};case'survivors':return{ç”·æ€§å¹¸å­˜è€…:a.value.ç”·æ€§å¹¸å­˜è€…,å¥³æ€§å¹¸å­˜è€…:a.value.å¥³æ€§å¹¸å­˜è€…,èµ„æº:a.value.é¿éš¾æ‰€.èµ„æº};case'map':return{åœ°å›¾:a.value.åœ°å›¾,èµ„æº:a.value.é¿éš¾æ‰€.èµ„æº,å¹¸å­˜è€…:m.value};case'recruit':return{èµ„æº:a.value.é¿éš¾æ‰€.èµ„æº};default:return{}}}),d=(0,c.computed)(()=>{const e=a.value.ç¯å¢ƒ.å¤©æ°”çŠ¶æ€;return e.includes('æš´é£é›ª')?'blizzard':e.includes('å¤§é›ª')?'heavy':e.includes('å°é›ª')?'light':'normal'}),u=(0,c.computed)(()=>{const e=a.value.ç¯å¢ƒ.å½“å‰æ¸©åº¦;return e<=-50?'critical':e<=-40?'danger':e<=-30?'warning':'normal'}),p=(0,c.computed)(()=>[...Object.values(a.value.ç”·æ€§å¹¸å­˜è€…??{}),...Object.values(a.value.å¥³æ€§å¹¸å­˜è€…??{})]),m=(0,c.computed)(()=>p.value.map(e=>({å§“å:e.å§“å,å½“å‰ä»»åŠ¡:e.å½“å‰ä»»åŠ¡}))),v=(0,c.computed)(()=>{const e=[],t=a.value.é¿éš¾æ‰€.èµ„æº,n=p.value.filter(e=>(e?.ç”Ÿå­˜çŠ¶æ€?.ä½“æ¸©??36.5)<=35).length,l=p.value.filter(e=>(e?.ç”Ÿå­˜çŠ¶æ€?.ç–²åŠ³åº¦??0)>=85).length,r=p.value.filter(e=>(e?.ç”Ÿå­˜çŠ¶æ€?.å¥åº·å€¼??100)<=30).length;return t.ç‡ƒæ–™<=Ac.ç‡ƒæ–™&&e.push(`ç‡ƒæ–™ç´§å¼ ï¼š${t.ç‡ƒæ–™}`),t.é£Ÿç‰©<=Ac.é£Ÿç‰©&&e.push(`é£Ÿç‰©ä¸è¶³ï¼š${t.é£Ÿç‰©}`),t.è¯å“<=Ac.è¯å“&&e.push(`è¯å“ç´§ç¼ºï¼š${t.è¯å“}`),n&&e.push(`ä½ä½“æ¸©è­¦æŠ¥ï¼š${n}äºº`),r&&e.push(`å¥åº·å±é™©ï¼š${r}äºº`),l&&e.push(`ç–²åŠ³è¿‡é«˜ï¼š${l}äºº`),e.slice(0,3)}),f=(0,c.ref)();return(0,c.watch)(l,async()=>{await(0,c.nextTick)(),f.value?.focus()}),(e,t)=>((0,c.openBlock)(),(0,c.createElementBlock)('div',{class:(0,c.normalizeClass)(['app pixel-frame',(0,c.unref)(u)])},[t[1]||(t[1]=(0,c.createElementVNode)('div',{class:'atmo'},[(0,c.createElementVNode)('div',{class:'atmo-layer aurora'}),(0,c.createElementVNode)('div',{class:'atmo-layer fog'}),(0,c.createElementVNode)('div',{class:'atmo-layer grain'})],-1)),(0,c.createVNode)(jc,{intensity:(0,c.unref)(d),weather:(0,c.unref)(a).ç¯å¢ƒ.å¤©æ°”çŠ¶æ€,wind:(0,c.unref)(a).ç¯å¢ƒ.é£é€Ÿç­‰çº§,temperature:(0,c.unref)(a).ç¯å¢ƒ.å½“å‰æ¸©åº¦},null,8,['intensity','weather','wind','temperature']),t[2]||(t[2]=(0,c.createElementVNode)('div',{class:'frost-edge top'},null,-1)),t[3]||(t[3]=(0,c.createElementVNode)('div',{class:'frost-edge bottom'},null,-1)),(0,c.createVNode)(Ut,{å±æœºè­¦æŠ¥:(0,c.unref)(a).äº‹ä»¶.å±æœºè­¦æŠ¥,å±æœºç­‰çº§:(0,c.unref)(a).äº‹ä»¶.å±æœºç­‰çº§,çŠ¶æ€é¢„è­¦:(0,c.unref)(v)},null,8,['å±æœºè­¦æŠ¥','å±æœºç­‰çº§','çŠ¶æ€é¢„è­¦']),(0,c.createVNode)(qt,{é¿éš¾æ‰€:(0,c.unref)(a).é¿éš¾æ‰€,ç­¾åˆ°ç³»ç»Ÿ:(0,c.unref)(a).ç­¾åˆ°ç³»ç»Ÿ,å½“å‰æ—¶é—´:(0,c.unref)(a).ç¯å¢ƒ.å½“å‰æ—¶é—´,prevèµ„æº:(0,c.unref)(n)?.é¿éš¾æ‰€?.èµ„æº,preväººå£:(0,c.unref)(n)?.é¿éš¾æ‰€?.äººå£ç»Ÿè®¡},null,8,['é¿éš¾æ‰€','ç­¾åˆ°ç³»ç»Ÿ','å½“å‰æ—¶é—´','prevèµ„æº','preväººå£']),(0,c.createElementVNode)('div',Pc,[(0,c.createVNode)(Tt,{modelValue:(0,c.unref)(l),'onUpdate:modelValue':t[0]||(t[0]=e=>(0,c.isRef)(l)?l.value=e:null),tabs:r},null,8,['modelValue']),(0,c.createElementVNode)('div',{ref_key:'panelContainerRef',ref:f,class:(0,c.normalizeClass)(['panel-container',{'no-scroll':'weaponbench'===(0,c.unref)(l)}]),tabindex:'0'},[(0,c.createVNode)(c.Transition,{name:'fade',mode:'out-in'},{default:(0,c.withCtx)(()=>[((0,c.openBlock)(),(0,c.createBlock)(c.KeepAlive,null,[((0,c.openBlock)(),(0,c.createBlock)((0,c.resolveDynamicComponent)((0,c.unref)(s)),(0,c.mergeProps)({key:(0,c.unref)(l)},(0,c.unref)(i)),null,16))],1024))]),_:1})],2)])],2))}}),Rc=globalThis,Ic=(()=>{try{return window.parent||{}}catch{return{}}})();void 0===Rc.Element&&(Rc.Element=Rc.HTMLElement||Ic.Element||Ic.HTMLElement),void 0===Rc.Node&&(Rc.Node=Ic.Node||Rc.Element),void 0===Rc.SVGElement&&(Rc.SVGElement=Ic.SVGElement||Rc.Element),$(()=>{errorCatched(async()=>{try{await waitGlobalInitialized('Mvu',{timeout:5e3}),await e(()=>_.has(getVariables({type:'message'}),'stat_data'),{timeout:5e3})}catch(e){console.warn('MVU æˆ– stat_data æœªå°±ç»ªï¼Œä½¿ç”¨é»˜è®¤æ•°æ®',e)}const a=(0,c.createApp)(Oc);a.use(t()),a.mount('#app')})()});
//# sourceMappingURL=index.js.map</script><style>:root{--px:3px;--c-bg:#0B1118;--c-surface:#121C27;--c-surface-plus:#162334;--c-surface-hover:#1A2840;--c-border:rgba(34,50,69,0.6);--c-border-solid:#223245;--c-border-hover:rgba(58,174,188,0.3);--c-text:#E2ECF7;--c-text-muted:#93A7BD;--c-text-dim:#5A7088;--c-accent:#3AAEBC;--c-accent-dim:#2B7F8A;--c-accent-tint:#10262B;--c-danger:#E0646F;--c-danger-dim:#A04850;--c-warning:#D2A252;--c-warning-dim:#9A7840;--c-success:#5A9878;--c-success-dim:#3A6858;--c-bar-track:#0F1822;--c-bar-fill:var(--c-accent-dim);--c-tag-bg:#0F1822;--c-tag-text:#93A7BD;--shadow-subtle:0 1px 2px rgba(0,0,0,0.3);--shadow-card:0 2px 4px rgba(0,0,0,0.2);--pixel-border:var(--px) solid var(--c-border);--pixel-border-solid:var(--px) solid var(--c-border-solid)}*{box-sizing:border-box;margin:0;padding:0}body{font-family:'Microsoft YaHei','PingFang SC',sans-serif;background:transparent;color:var(--c-text);font-size:15px;line-height:1.4}.pixel-frame{background:var(--c-bg);border:var(--px) solid var(--c-border-solid);box-shadow:var(--shadow-card);position:relative}.pixel-card{background:var(--c-surface);border:var(--px) solid var(--c-border-solid);box-shadow:var(--shadow-subtle);position:relative;overflow:hidden}.pixel-card-header{background:var(--c-bg);padding:calc(var(--px)*4) calc(var(--px)*5);font-weight:bold;font-size:15px;color:var(--c-text);border-bottom:var(--px) solid var(--c-border-solid);display:flex;align-items:center;gap:calc(var(--px)*3);letter-spacing:1px}.pixel-card-header .header-icon{width:calc(var(--px)*4);height:calc(var(--px)*8);background:var(--c-accent)}.pixel-card-header.accent{border-left:calc(var(--px)*2) solid var(--c-accent)}.pixel-card-header.danger{border-left:calc(var(--px)*2) solid var(--c-danger);color:var(--c-danger)}.pixel-card-header.warning{border-left:calc(var(--px)*2) solid var(--c-warning);color:var(--c-warning)}.pixel-card-header.success{border-left:calc(var(--px)*2) solid var(--c-success);color:var(--c-success)}.pixel-card-body{padding:calc(var(--px)*4)}.pixel-btn{background:var(--c-surface-plus);border:var(--px) solid var(--c-border-solid);color:var(--c-text);padding:calc(var(--px)*2) calc(var(--px)*5);cursor:pointer;font-size:13px;font-weight:bold;transition:all 0.15s;letter-spacing:0.5px}.pixel-btn:hover{background:var(--c-surface-hover);border-color:var(--c-accent-dim)}.pixel-btn:active{background:var(--c-bg)}.pixel-btn.primary{background:transparent;border-color:var(--c-accent-dim);color:var(--c-accent)}.pixel-btn.primary:hover{background:var(--c-accent-tint);border-color:var(--c-accent)}.pixel-btn.danger{background:transparent;border-color:var(--c-danger-dim);color:var(--c-danger)}.pixel-btn.danger:hover{background:rgba(224,100,111,0.1);border-color:var(--c-danger)}.pixel-btn.sm{padding:var(--px) calc(var(--px)*3);font-size:12px}.pixel-btn.lg{padding:calc(var(--px)*3) calc(var(--px)*6);font-size:15px}.pixel-bar{height:calc(var(--px)*5);background:var(--c-bar-track);border:var(--px) solid var(--c-border-solid);position:relative;overflow:hidden}.pixel-bar .bar-fill{height:100%;background:var(--c-accent-dim);transition:width 0.4s ease}.pixel-bar.danger .bar-fill{background:var(--c-danger-dim)}.pixel-bar.warning .bar-fill{background:var(--c-warning-dim)}.pixel-bar.success .bar-fill{background:var(--c-success-dim)}.stat-row{display:flex;align-items:center;justify-content:space-between;padding:calc(var(--px)*2) 0;border-bottom:var(--px) dashed var(--c-border)}.stat-row:last-child{border-bottom:none}.stat-label{color:var(--c-text-muted);font-size:13px;display:flex;align-items:center;gap:calc(var(--px)*2)}.stat-value{color:var(--c-text);font-weight:bold;font-family:'Consolas','Monaco',monospace}.stat-value.danger{color:var(--c-danger)}.stat-value.warning{color:var(--c-warning)}.stat-value.success{color:var(--c-success)}.stat-value.accent{color:var(--c-accent)}.pixel-tag{display:inline-flex;align-items:center;gap:calc(var(--px)*2);background:var(--c-tag-bg);border:var(--px) solid var(--c-border-solid);padding:var(--px) calc(var(--px)*3);font-size:12px;color:var(--c-tag-text)}.pixel-tag.accent{border-left:calc(var(--px)*2) solid var(--c-accent-dim);color:var(--c-accent)}.pixel-tag.danger{border-left:calc(var(--px)*2) solid var(--c-danger-dim);color:var(--c-danger)}.pixel-tag.warning{border-left:calc(var(--px)*2) solid var(--c-warning-dim);color:var(--c-warning)}.pixel-tag.success{border-left:calc(var(--px)*2) solid var(--c-success-dim);color:var(--c-success)}.pixel-divider{height:var(--px);background:var(--c-border-solid);margin:calc(var(--px)*4) 0}.pixel-icon{width:calc(var(--px)*8);height:calc(var(--px)*8);display:inline-flex;align-items:center;justify-content:center;background:var(--c-surface);border:var(--px) solid var(--c-border-solid);font-size:10px}.accent-text{color:var(--c-accent)}.danger-text{color:var(--c-danger)}.warning-text{color:var(--c-warning)}@keyframes blink-danger{0%,100%{opacity:1}50%{opacity:0.6}}.blink-danger{animation:blink-danger 1.5s ease-in-out infinite}.fade-enter-active,.fade-leave-active{transition:opacity 0.2s ease,transform 0.2s ease}.fade-enter-from,.fade-leave-to{opacity:0;transform:translateY(calc(var(--px)*-2))}.slide-enter-active,.slide-leave-active{transition:all 0.3s cubic-bezier(0.4,0,0.2,1)}.slide-enter-from{opacity:0;transform:translateX(calc(var(--px)*-10))}.slide-leave-to{opacity:0;transform:translateX(calc(var(--px)*10))}::-webkit-scrollbar{width:calc(var(--px)*3);height:calc(var(--px)*3)}::-webkit-scrollbar-track{background:var(--c-bg)}::-webkit-scrollbar-thumb{background:var(--c-border-solid)}::-webkit-scrollbar-thumb:hover{background:var(--c-text-dim)}::-webkit-scrollbar-corner{background:var(--c-bg)}#toast-container{pointer-events:none}#toast-container>div{background:var(--c-surface);color:var(--c-text);border:var(--px) solid var(--c-border-solid);box-shadow:var(--shadow-card);padding:calc(var(--px)*3) calc(var(--px)*5);opacity:0.96}#toast-container>.toast-success{border-left:calc(var(--px)*2) solid var(--c-success)}#toast-container>.toast-warning{border-left:calc(var(--px)*2) solid var(--c-warning)}#toast-container>.toast-error{border-left:calc(var(--px)*2) solid var(--c-danger)}#toast-container .toast-title{font-weight:bold;letter-spacing:0.5px}#toast-container .toast-message{color:var(--c-text-muted)}

.value-badge[data-v-2afba9ec]{display:inline-flex;align-items:center;gap:calc(var(--px)*1);font-family:"Consolas",monospace;font-weight:bold;position:relative;transition:color .3s ease}.value-badge .highlight-bg[data-v-2afba9ec]{position:absolute;inset:calc(var(--px)*-1);border-radius:2px;opacity:0;transition:opacity .3s ease,background .3s ease;pointer-events:none}.value-badge.changed[data-v-2afba9ec]{animation:value-pop-2afba9ec .5s ease-out}.value-badge.changed .highlight-bg[data-v-2afba9ec]{opacity:1;animation:highlight-fade-2afba9ec .5s ease-out forwards}.value-badge.up .value[data-v-2afba9ec]{color:var(--c-success)}.value-badge.up .delta[data-v-2afba9ec]{color:var(--c-success)}.value-badge.up .highlight-bg[data-v-2afba9ec]{background:rgba(111,215,176,.25)}.value-badge.up .delta-arrow[data-v-2afba9ec]::before{content:"â†‘"}.value-badge.down .value[data-v-2afba9ec]{color:var(--c-danger)}.value-badge.down .delta[data-v-2afba9ec]{color:var(--c-danger)}.value-badge.down .highlight-bg[data-v-2afba9ec]{background:rgba(244,123,123,.25)}.value-badge.down .delta-arrow[data-v-2afba9ec]::before{content:"â†“"}.value-badge.zero .delta[data-v-2afba9ec]{color:var(--c-text-muted);opacity:.5}.value-badge.zero .delta-arrow[data-v-2afba9ec]::before{content:""}.value-badge.zero .highlight-bg[data-v-2afba9ec]{background:rgba(147,167,189,.15)}.value-badge.abnormal .value[data-v-2afba9ec]{color:var(--c-warning)}.value-badge.abnormal .delta[data-v-2afba9ec]{color:var(--c-warning);border:var(--px) dashed var(--c-warning-dim);border-radius:2px;padding:0 calc(var(--px)*.5)}.value-badge.abnormal .delta-arrow[data-v-2afba9ec]::before{content:"!"}.value-badge.abnormal .highlight-bg[data-v-2afba9ec]{background:rgba(210,162,82,.25)}.value[data-v-2afba9ec]{position:relative;z-index:1;transition:color .3s ease}.delta[data-v-2afba9ec]{display:inline-flex;align-items:center;gap:calc(var(--px)*.5);font-size:.8em;position:relative;z-index:1;transition:color .3s ease,opacity .3s ease;min-width:2.5em}.delta-arrow[data-v-2afba9ec]{display:inline-block;width:.9em;text-align:center}.delta-arrow[data-v-2afba9ec]::before{content:""}.delta-num[data-v-2afba9ec]{font-variant-numeric:tabular-nums}@keyframes value-pop-2afba9ec{0%{transform:scale(1)}30%{transform:scale(1.08)}100%{transform:scale(1)}}@keyframes highlight-fade-2afba9ec{0%{opacity:1}100%{opacity:0}}
.modal-overlay{position:fixed;inset:0;background:rgba(0,0,0,.7);backdrop-filter:blur(4px);display:flex;align-items:center;justify-content:center;z-index:1000}.modal-content{background:var(--c-bg);border:var(--px) solid var(--c-border-solid);min-width:280px;max-width:90%;max-height:85%;overflow:hidden;display:flex;flex-direction:column}.modal-header{display:flex;align-items:center;justify-content:space-between;padding:calc(var(--px)*3) calc(var(--px)*4);background:var(--c-surface);border-bottom:var(--px) solid var(--c-border-solid)}.modal-title{font-size:15px;font-weight:bold;color:var(--c-text)}.modal-close{background:none;border:none;color:var(--c-text-muted);font-size:16px;cursor:pointer;padding:calc(var(--px)*2);transition:color .15s}.modal-close:hover{color:var(--c-danger)}.modal-body{padding:calc(var(--px)*4);overflow-y:auto;overflow-x:hidden;flex:1;font-size:14px}.modal-fade-enter-active,.modal-fade-leave-active{transition:opacity .25s ease}.modal-fade-enter-from,.modal-fade-leave-to{opacity:0}
.modifier-overlay[data-v-b0f4618a]{position:fixed;inset:0;z-index:9999;display:flex;align-items:center;justify-content:center;padding:calc(var(--px)*4)}.modifier-modal[data-v-b0f4618a]{position:relative;width:90%;max-width:800px;max-height:70vh;background:var(--c-surface);border:calc(var(--px)*2) solid var(--c-border-solid);box-shadow:0 8px 32px rgba(0,0,0,.6);display:flex;flex-direction:column;overflow:hidden}.modifier-fade-enter-active[data-v-b0f4618a],.modifier-fade-leave-active[data-v-b0f4618a]{transition:opacity .3s ease}.modifier-fade-enter-from[data-v-b0f4618a],.modifier-fade-leave-to[data-v-b0f4618a]{opacity:0}.modifier-fade-enter-active .modifier-modal[data-v-b0f4618a]{animation:modal-slide-in-b0f4618a .4s cubic-bezier(0.34,1.56,0.64,1)}.modifier-fade-leave-active .modifier-modal[data-v-b0f4618a]{animation:modal-slide-out-b0f4618a .3s ease-out}@keyframes modal-slide-in-b0f4618a{from{transform:scale(0.8) translateY(-30px);opacity:0}to{transform:scale(1) translateY(0);opacity:1}}@keyframes modal-slide-out-b0f4618a{from{transform:scale(1) translateY(0);opacity:1}to{transform:scale(0.9) translateY(20px);opacity:0}}.modifier-anim-container[data-v-b0f4618a]{width:100%;height:300px;position:relative;cursor:pointer}.modifier-header[data-v-b0f4618a]{display:flex;align-items:center;justify-content:space-between;padding:calc(var(--px)*3) calc(var(--px)*4);background:var(--c-bg);border-bottom:var(--px) solid var(--c-border-solid)}.header-title[data-v-b0f4618a]{display:flex;align-items:center;gap:calc(var(--px)*2)}.title-icon[data-v-b0f4618a]{font-size:18px;animation:icon-rotate-b0f4618a 3s linear infinite}.title-text[data-v-b0f4618a]{font-size:16px;font-weight:bold;color:var(--c-text)}.close-btn[data-v-b0f4618a]{width:calc(var(--px)*8);height:calc(var(--px)*8);display:flex;align-items:center;justify-content:center;background:rgba(0,0,0,0);border:var(--px) solid var(--c-border);color:var(--c-text-muted);font-size:16px;cursor:pointer;transition:all .2s ease}.close-btn[data-v-b0f4618a]:hover{background:var(--c-danger-tint);border-color:var(--c-danger);color:var(--c-danger);transform:rotate(90deg)}@keyframes icon-rotate-b0f4618a{from{transform:rotate(0deg)}to{transform:rotate(360deg)}}.modifier-content[data-v-b0f4618a]{flex:1;overflow-y:auto;padding:calc(var(--px)*4);background:var(--c-bg)}.resource-grid[data-v-b0f4618a]{display:grid;grid-template-columns:repeat(auto-fit,minmax(340px,1fr));gap:calc(var(--px)*4)}.resource-item[data-v-b0f4618a]{background:var(--c-surface);border:var(--px) solid var(--c-border-solid);padding:calc(var(--px)*3);display:flex;flex-direction:column;gap:calc(var(--px)*2);transition:all .3s ease}.resource-item[data-v-b0f4618a]:hover{border-color:var(--c-accent-dim);box-shadow:0 0 12px rgba(58,174,188,.2)}.resource-header[data-v-b0f4618a]{display:flex;align-items:center;gap:calc(var(--px)*2)}.resource-icon[data-v-b0f4618a]{font-size:16px}.resource-name[data-v-b0f4618a]{flex:1;font-size:13px;font-weight:bold;color:var(--c-text)}.resource-value[data-v-b0f4618a]{font-size:14px;font-weight:bold;font-family:"Consolas",monospace}.resource-controls[data-v-b0f4618a]{display:flex;gap:calc(var(--px)*2);align-items:center}.resource-slider[data-v-b0f4618a]{flex:1;height:calc(var(--px)*6);-webkit-appearance:none;appearance:none;background:var(--c-bg);border:var(--px) solid var(--c-border);outline:none;cursor:pointer}.resource-slider[data-v-b0f4618a]::-webkit-slider-thumb{-webkit-appearance:none;appearance:none;width:calc(var(--px)*4);height:calc(var(--px)*6);background:var(--slider-color,var(--c-accent));border:var(--px) solid var(--c-border-solid);cursor:pointer;-webkit-transition:all .2s ease;transition:all .2s ease}.resource-slider[data-v-b0f4618a]::-webkit-slider-thumb:hover{transform:scaleY(1.2);box-shadow:0 0 8px var(--slider-color,var(--c-accent))}.resource-slider[data-v-b0f4618a]::-moz-range-thumb{width:calc(var(--px)*4);height:calc(var(--px)*6);background:var(--slider-color,var(--c-accent));border:var(--px) solid var(--c-border-solid);cursor:pointer;-moz-transition:all .2s ease;transition:all .2s ease}.resource-slider[data-v-b0f4618a]::-moz-range-thumb:hover{transform:scaleY(1.2);box-shadow:0 0 8px var(--slider-color,var(--c-accent))}.resource-input[data-v-b0f4618a]{width:70px;padding:calc(var(--px)*1) calc(var(--px)*2);background:var(--c-bg);border:var(--px) solid var(--c-border);color:var(--c-text);font-size:12px;font-family:"Consolas",monospace;text-align:center;outline:none;transition:all .2s ease}.resource-input[data-v-b0f4618a]:focus{border-color:var(--c-accent);box-shadow:0 0 6px rgba(58,174,188,.3)}.resource-actions[data-v-b0f4618a]{display:flex;flex-wrap:wrap;gap:calc(var(--px)*1.5)}.action-btn[data-v-b0f4618a]{padding:calc(var(--px)*1.5) calc(var(--px)*2.5);background:var(--c-bg);border:var(--px) solid var(--c-border);color:var(--c-text-muted);font-size:11px;cursor:pointer;transition:all .15s ease}.action-btn[data-v-b0f4618a]:hover{border-color:var(--c-accent-dim);color:var(--c-accent);transform:translateY(-1px)}.action-btn[data-v-b0f4618a]:active{transform:translateY(0)}.action-btn.small[data-v-b0f4618a]{padding:calc(var(--px)*1) calc(var(--px)*2);font-size:10px}.action-btn.reset[data-v-b0f4618a]:hover{border-color:var(--c-warning-dim);color:var(--c-warning)}.action-btn.max[data-v-b0f4618a]:hover{border-color:var(--c-success-dim);color:var(--c-success)}.modifier-footer[data-v-b0f4618a]{display:flex;align-items:center;justify-content:space-between;padding:calc(var(--px)*3) calc(var(--px)*4);background:var(--c-bg);border-top:var(--px) solid var(--c-border-solid)}.footer-hint[data-v-b0f4618a]{font-size:11px;color:var(--c-text-dim)}.footer-actions[data-v-b0f4618a]{display:flex;gap:calc(var(--px)*2)}.footer-btn[data-v-b0f4618a]{padding:calc(var(--px)*2) calc(var(--px)*4);background:var(--c-surface);border:var(--px) solid var(--c-border);color:var(--c-text);font-size:12px;cursor:pointer;transition:all .2s ease}.footer-btn.cancel[data-v-b0f4618a]:hover{border-color:var(--c-text-dim);color:var(--c-text);background:var(--c-bg)}.footer-btn.confirm[data-v-b0f4618a]{border-color:var(--c-accent-dim);color:var(--c-accent)}.footer-btn.confirm[data-v-b0f4618a]:hover{border-color:var(--c-accent);background:var(--c-accent-tint);transform:translateY(-1px);box-shadow:0 2px 8px rgba(58,174,188,.3)}.footer-btn.confirm[data-v-b0f4618a]:active{transform:translateY(0)}[data-v-b0f4618a] .modifier-scene{position:absolute;inset:0;overflow:hidden;background:linear-gradient(180deg,#0a1420 0%,#14202e 50%,#1a2836 100%)}[data-v-b0f4618a] .modifier-bg{position:absolute;inset:0}[data-v-b0f4618a] .bg-gradient{position:absolute;inset:0;background:radial-gradient(circle at 50% 50%,rgba(58,174,188,0.15),transparent 70%)}[data-v-b0f4618a] .bg-grid{position:absolute;inset:0;background-image:linear-gradient(rgba(58,174,188,0.05) 1px,transparent 1px),linear-gradient(90deg,rgba(58,174,188,0.05) 1px,transparent 1px);background-size:30px 30px;opacity:.4}[data-v-b0f4618a] .flash-layer{position:absolute;inset:0;background:radial-gradient(circle,rgba(111,215,176,0.4),transparent 60%);opacity:0;pointer-events:none}[data-v-b0f4618a] .scanline{position:absolute;left:-10%;width:120%;height:40%;background:linear-gradient(180deg,transparent,rgba(120,200,255,0.25),transparent);opacity:0;filter:blur(2px);mix-blend-mode:screen;pointer-events:none}[data-v-b0f4618a] .particle-layer,[data-v-b0f4618a] .star-layer{position:absolute;inset:0;pointer-events:none}[data-v-b0f4618a] .burst-layer{position:absolute;inset:0;pointer-events:none}[data-v-b0f4618a] .modifier-particle{position:absolute;border-radius:50%}[data-v-b0f4618a] .modifier-star{position:absolute;color:rgba(111,215,176,.8);text-shadow:0 0 8px rgba(111,215,176,.6)}[data-v-b0f4618a] .burst-line{position:absolute;left:50%;top:50%;width:var(--len,200px);height:2px;background:linear-gradient(90deg,transparent,rgba(140,220,255,0.9),transparent);transform:translate(-50%,-50%) rotate(var(--rot,0deg)) scaleX(0);transform-origin:center;opacity:0;box-shadow:0 0 12px rgba(140,220,255,.5)}[data-v-b0f4618a] .shockwave{position:absolute;left:50%;top:50%;width:120px;height:120px;border-radius:50%;border:2px solid rgba(120,210,255,.6);transform:translate(-50%,-50%) scale(0.2);opacity:0;box-shadow:0 0 18px rgba(120,210,255,.35)}[data-v-b0f4618a] .energy-ring{position:absolute;left:50%;top:50%;transform:translate(-50%,-50%);border-radius:50%;opacity:0;pointer-events:none}[data-v-b0f4618a] .ring-outer{width:200px;height:200px;border:2px solid rgba(58,174,188,.4)}[data-v-b0f4618a] .ring-middle{width:150px;height:150px;border:2px solid rgba(111,215,176,.5)}[data-v-b0f4618a] .ring-inner{width:100px;height:100px;border:2px solid rgba(76,168,255,.6)}[data-v-b0f4618a] .center-core{position:absolute;left:50%;top:50%;transform:translate(-50%,-50%);opacity:0;scale:.5}[data-v-b0f4618a] .core-burst{position:absolute;left:50%;top:50%;transform:translate(-50%,-50%);width:80px;height:80px;border-radius:50%;background:radial-gradient(circle,rgba(111,215,176,0.6),transparent 70%);opacity:0}[data-v-b0f4618a] .core-glow{position:absolute;left:50%;top:50%;transform:translate(-50%,-50%);width:60px;height:60px;border-radius:50%;background:radial-gradient(circle,rgba(58,174,188,0.8),rgba(111,215,176,0.4) 50%,transparent 70%);opacity:0;filter:blur(4px)}[data-v-b0f4618a] .core-icon{position:absolute;left:50%;top:50%;transform:translate(-50%,-50%);font-size:32px;color:rgba(111,215,176,.9);text-shadow:0 0 12px rgba(111,215,176,.8)}[data-v-b0f4618a] .scene-ui{position:absolute;top:20%;left:50%;transform:translateX(-50%);text-align:center;opacity:0}[data-v-b0f4618a] .scene-title{font-size:20px;font-weight:bold;color:rgba(185,210,235,.9);letter-spacing:2px;margin-bottom:8px}[data-v-b0f4618a] .scene-status{font-size:13px;color:rgba(147,167,189,.7)}[data-v-b0f4618a] .dots{display:inline-block;width:20px;text-align:left}[data-v-b0f4618a] .scene-skip{position:absolute;bottom:12px;left:50%;transform:translateX(-50%);font-size:10px;color:rgba(147,167,189,.4);opacity:0}@media (max-width:768px){.modifier-overlay[data-v-b0f4618a]{padding:calc(var(--px)*2)}.modifier-modal[data-v-b0f4618a]{width:95%;max-width:100%;max-height:75vh}.modifier-header[data-v-b0f4618a]{padding:calc(var(--px)*2) calc(var(--px)*3)}.title-text[data-v-b0f4618a]{font-size:14px}.close-btn[data-v-b0f4618a]{width:calc(var(--px)*7);height:calc(var(--px)*7);font-size:14px}.modifier-content[data-v-b0f4618a]{padding:calc(var(--px)*2)}.resource-grid[data-v-b0f4618a]{grid-template-columns:1fr;gap:calc(var(--px)*3)}.resource-item[data-v-b0f4618a]{padding:calc(var(--px)*2)}.resource-actions[data-v-b0f4618a]{gap:calc(var(--px)*1)}.action-btn.small[data-v-b0f4618a]{padding:calc(var(--px)*.8) calc(var(--px)*1.5);font-size:9px}.modifier-footer[data-v-b0f4618a]{padding:calc(var(--px)*2) calc(var(--px)*3);flex-direction:column;gap:calc(var(--px)*2);align-items:stretch}.footer-hint[data-v-b0f4618a]{text-align:center;font-size:10px}.footer-actions[data-v-b0f4618a]{width:100%;justify-content:stretch}.footer-btn[data-v-b0f4618a]{flex:1;padding:calc(var(--px)*2) calc(var(--px)*3);font-size:11px}}
.top-bar-wrapper[data-v-1a020dde]{background:var(--c-surface);border-bottom:var(--px) solid var(--c-border-solid)}.resource-warning-banner[data-v-1a020dde]{display:flex;align-items:center;gap:calc(var(--px)*2);padding:calc(var(--px)*1.5) calc(var(--px)*3);background:linear-gradient(90deg,rgba(210,162,82,0.2),rgba(210,162,82,0.1));border-bottom:var(--px) solid var(--c-warning-dim);font-size:12px;overflow:hidden}.resource-warning-banner.critical[data-v-1a020dde]{background:linear-gradient(90deg,rgba(224,100,111,0.25),rgba(224,100,111,0.12));border-bottom-color:var(--c-danger)}.warning-icon[data-v-1a020dde]{font-size:14px;flex-shrink:0;animation:icon-bounce-1a020dde 1s ease-in-out infinite}.warning-marquee[data-v-1a020dde]{flex:1;overflow:hidden;-webkit-mask-image:linear-gradient(90deg,transparent,black 5%,black 95%,transparent);mask-image:linear-gradient(90deg,transparent,black 5%,black 95%,transparent)}.marquee-content[data-v-1a020dde]{display:inline-flex;white-space:nowrap;animation:marquee-scroll-1a020dde 15s linear infinite}.warning-text[data-v-1a020dde]{color:var(--c-warning);padding-right:calc(var(--px)*10)}.warning-text .critical-text[data-v-1a020dde]{color:var(--c-danger);font-weight:bold}.warning-text.duplicate[data-v-1a020dde]{color:var(--c-warning)}.resource-warning-banner.critical .warning-text[data-v-1a020dde]{color:var(--c-danger)}@keyframes marquee-scroll-1a020dde{0%{transform:translateX(0)}100%{transform:translateX(-50%)}}@keyframes icon-bounce-1a020dde{0%,100%{transform:translateY(0)}50%{transform:translateY(-2px)}}.resource-bar[data-v-1a020dde]{display:flex;align-items:center;gap:calc(var(--px)*4);padding:calc(var(--px)*2) calc(var(--px)*3);background:var(--c-bg)}.slide-down-enter-active[data-v-1a020dde],.slide-down-leave-active[data-v-1a020dde]{transition:all .3s ease}.slide-down-enter-from[data-v-1a020dde],.slide-down-leave-to[data-v-1a020dde]{opacity:0;transform:translateY(-10px)}.resource-content[data-v-1a020dde]{display:flex;align-items:center;gap:calc(var(--px)*4)}.pop-section[data-v-1a020dde]{display:flex;align-items:center;gap:calc(var(--px)*2)}.pop-badge[data-v-1a020dde]{display:flex;align-items:center;gap:calc(var(--px)*2);padding:calc(var(--px)*2) calc(var(--px)*3);background:var(--c-surface);border:var(--px) solid var(--c-border-solid)}.pop-icon[data-v-1a020dde]{font-size:14px}.pop-num[data-v-1a020dde]{font-size:14px;font-weight:bold;color:var(--c-text)}.pop-detail[data-v-1a020dde]{display:flex;gap:calc(var(--px)*2)}.pop-item[data-v-1a020dde]{display:flex;align-items:center;gap:calc(var(--px)*1);padding:calc(var(--px)*1) calc(var(--px)*2);background:var(--c-surface);border:var(--px) solid var(--c-border-solid);font-size:11px}.pop-item.female .pop-label[data-v-1a020dde]{color:hotpink}.pop-item.female .pop-val[data-v-1a020dde]{color:hotpink}.pop-item.warn[data-v-1a020dde]{border-color:var(--c-warning-dim)}.pop-item.warn .pop-val[data-v-1a020dde]{color:var(--c-warning)}.pop-label[data-v-1a020dde]{color:var(--c-text-muted);font-size:10px}.pop-val[data-v-1a020dde]{font-weight:bold;color:var(--c-text)}.resource-list[data-v-1a020dde]{display:flex;flex-wrap:wrap;gap:calc(var(--px)*3);flex:1}.res-item[data-v-1a020dde]{display:flex;align-items:center;gap:calc(var(--px)*1);padding:var(--px) calc(var(--px)*2);background:var(--c-surface);border:var(--px) solid var(--c-border-solid);font-size:12px;transition:all .3s ease}.res-item.warning[data-v-1a020dde]{border-left:calc(var(--px)*2) solid var(--c-warning-dim)}.res-item.warning .res-val[data-v-1a020dde]{color:var(--c-warning)}.res-item.success[data-v-1a020dde]{border-left:calc(var(--px)*2) solid var(--c-success-dim)}.res-item.success .res-val[data-v-1a020dde]{color:var(--c-success)}.res-item.accent[data-v-1a020dde]{border-left:calc(var(--px)*2) solid var(--c-accent-dim)}.res-item.accent .res-val[data-v-1a020dde]{color:var(--c-accent)}.res-item.danger[data-v-1a020dde]{border-left:calc(var(--px)*2) solid var(--c-danger-dim);background:rgba(224,100,111,.08);animation:danger-blink-1a020dde 2s ease-in-out infinite}.res-item.danger .res-val[data-v-1a020dde]{color:var(--c-danger)}.res-item.danger .res-icon[data-v-1a020dde]{animation:icon-pulse-1a020dde 2s ease-in-out infinite}.res-item.danger .res-label[data-v-1a020dde]{color:var(--c-warning)}.res-item.critical[data-v-1a020dde]{border:var(--px) solid var(--c-danger-dim);border-left:calc(var(--px)*2) solid var(--c-danger);background:rgba(224,100,111,.15);animation:critical-blink-1a020dde 1s ease-in-out infinite}.res-item.critical .res-val[data-v-1a020dde]{color:var(--c-danger);font-weight:bold}.res-item.critical .res-icon[data-v-1a020dde]{animation:icon-shake-1a020dde .5s ease-in-out infinite}.res-item.critical .res-label[data-v-1a020dde]{color:var(--c-danger)}@keyframes critical-blink-1a020dde{0%,100%{background:rgba(224,100,111,.15);border-color:var(--c-danger-dim)}50%{background:rgba(224,100,111,.25);border-color:var(--c-danger)}}@keyframes danger-blink-1a020dde{0%,100%{background:rgba(224,100,111,.08)}50%{background:rgba(224,100,111,.18)}}@keyframes icon-pulse-1a020dde{0%,100%{opacity:1}50%{opacity:.5}}@keyframes icon-shake-1a020dde{0%,100%{transform:translateX(0)}25%{transform:translateX(-1px)}75%{transform:translateX(1px)}}.res-icon[data-v-1a020dde]{font-size:11px}.res-label[data-v-1a020dde]{font-size:10px;color:var(--c-text-dim)}.res-val[data-v-1a020dde]{font-weight:bold;font-family:"Consolas",monospace}.checkin-btn[data-v-1a020dde]{display:flex;align-items:center;gap:calc(var(--px)*1.5);padding:calc(var(--px)*1.5) calc(var(--px)*3);background:var(--c-surface);border:var(--px) solid var(--c-accent-dim);color:var(--c-accent);font-size:11px;cursor:pointer;transition:all .2s ease;position:relative;overflow:hidden;flex-shrink:0}.checkin-btn[data-v-1a020dde]:not(.signed){animation:checkin-glow-1a020dde 2s ease-in-out infinite}.checkin-btn[data-v-1a020dde]:hover:not(.signed){background:var(--c-accent-tint);border-color:var(--c-accent);transform:scale(1.02)}.checkin-btn.signed[data-v-1a020dde]{color:var(--c-text-dim);border-color:var(--c-border-solid);cursor:default}.checkin-btn.animating[data-v-1a020dde]{animation:checkin-success-1a020dde .6s ease-out}.checkin-icon[data-v-1a020dde]{font-size:12px;transition:transform .3s ease}.checkin-btn:not(.signed):hover .checkin-icon[data-v-1a020dde]{transform:rotate(10deg) scale(1.1)}.checkin-text[data-v-1a020dde]{font-weight:bold}.checkin-streak[data-v-1a020dde]{padding:0 calc(var(--px)*1.5);background:var(--c-accent-tint);border-radius:2px;font-size:10px;color:var(--c-accent)}.modifier-btn[data-v-1a020dde]{display:flex;align-items:center;gap:calc(var(--px)*1.5);padding:calc(var(--px)*1.5) calc(var(--px)*3);background:var(--c-surface);border:var(--px) solid var(--c-border);color:var(--c-text-muted);font-size:11px;cursor:pointer;transition:all .2s ease;position:relative;overflow:hidden;flex-shrink:0}.modifier-btn[data-v-1a020dde]:hover{background:var(--c-surface);border-color:var(--c-accent-dim);color:var(--c-accent);transform:scale(1.02)}.modifier-btn[data-v-1a020dde]:active{transform:scale(0.98)}.modifier-icon[data-v-1a020dde]{font-size:12px;transition:transform .3s ease}.modifier-btn:hover .modifier-icon[data-v-1a020dde]{transform:rotate(90deg) scale(1.1);animation:icon-spin-1a020dde .6s ease-in-out}.modifier-text[data-v-1a020dde]{font-weight:bold}@keyframes icon-spin-1a020dde{0%{transform:rotate(0deg) scale(1)}50%{transform:rotate(180deg) scale(1.15)}100%{transform:rotate(90deg) scale(1.1)}}@media (max-width:768px){.resource-bar[data-v-1a020dde]{display:grid;grid-template-columns:1fr auto;grid-template-areas:"pop checkin" "list list" "modifier modifier";align-items:center;gap:calc(var(--px)*2)}.resource-content[data-v-1a020dde]{display:contents}.pop-section[data-v-1a020dde]{grid-area:pop;justify-content:flex-start;flex-direction:column;align-items:flex-start;gap:calc(var(--px)*1.5)}.pop-badge[data-v-1a020dde]{width:100%;justify-content:space-between}.pop-detail[data-v-1a020dde]{display:grid;grid-template-columns:repeat(3,1fr);gap:calc(var(--px)*1.5);width:100%}.pop-item[data-v-1a020dde]{justify-content:center}.resource-list[data-v-1a020dde]{grid-area:list;display:grid;grid-template-columns:repeat(2,minmax(0,1fr));gap:calc(var(--px)*2)}.res-item[data-v-1a020dde]{justify-content:space-between}.checkin-btn[data-v-1a020dde]{grid-area:checkin;margin-left:0;justify-self:end;align-self:start}.modifier-btn[data-v-1a020dde]{grid-area:modifier;width:100%;justify-content:center}}@keyframes checkin-glow-1a020dde{0%,100%{box-shadow:0 0 0 0 rgba(58,174,188,0)}50%{box-shadow:0 0 8px 2px rgba(58,174,188,.3)}}@keyframes checkin-success-1a020dde{0%{transform:scale(1)}30%{transform:scale(1.1);background:var(--c-success);border-color:var(--c-success)}100%{transform:scale(1)}}.checkin-modal[data-v-1a020dde]{min-width:240px;position:relative}.checkin-anim-container[data-v-1a020dde]{width:100%;height:180px;position:relative;cursor:pointer}.checkin-preview[data-v-1a020dde]{display:flex;align-items:center;gap:calc(var(--px)*4);padding:calc(var(--px)*3)}.preview-icon[data-v-1a020dde]{font-size:36px;animation:preview-bounce-1a020dde 1.5s ease-in-out infinite}.preview-info[data-v-1a020dde]{display:flex;flex-direction:column;gap:calc(var(--px)*2)}.preview-row[data-v-1a020dde]{display:flex;gap:calc(var(--px)*3);align-items:center}.preview-label[data-v-1a020dde]{font-size:12px;color:var(--c-text-muted);width:60px}.preview-value[data-v-1a020dde]{font-size:13px;color:var(--c-accent);font-weight:bold}.checkin-actions[data-v-1a020dde]{display:flex;gap:calc(var(--px)*3);justify-content:flex-end;margin-top:calc(var(--px)*3);padding-top:calc(var(--px)*3);border-top:var(--px) dashed var(--c-border)}.action-btn[data-v-1a020dde]{padding:calc(var(--px)*2) calc(var(--px)*4);border:var(--px) solid var(--c-border);background:rgba(0,0,0,0);color:var(--c-text-muted);font-size:12px;cursor:pointer;transition:all .15s}.action-btn[data-v-1a020dde]:hover{border-color:var(--c-text-dim);color:var(--c-text)}.action-btn.primary[data-v-1a020dde]{border-color:var(--c-accent-dim);color:var(--c-accent)}.action-btn.primary[data-v-1a020dde]:hover{background:var(--c-accent-tint);border-color:var(--c-accent)}.modifier-warning[data-v-1a020dde]{display:flex;flex-direction:column;gap:calc(var(--px)*3);min-width:240px}.warning-title[data-v-1a020dde]{font-size:14px;color:var(--c-warning);font-weight:bold}.warning-list[data-v-1a020dde]{margin:0;padding-left:18px;display:grid;gap:calc(var(--px)*2);color:var(--c-text);font-size:12px;line-height:1.6}.warning-actions[data-v-1a020dde]{display:flex;justify-content:flex-end;gap:calc(var(--px)*2)}@keyframes preview-bounce-1a020dde{0%,100%{transform:translateY(0) rotate(0deg)}50%{transform:translateY(-3px) rotate(5deg)}}[data-v-1a020dde] .checkin-scene{position:absolute;inset:0;overflow:hidden}[data-v-1a020dde] .checkin-bg{position:absolute;inset:0;background:linear-gradient(180deg,#0b1522 0%,#162536 60%,#1f3144 100%)}[data-v-1a020dde] .checkin-snow{position:absolute;inset:0;pointer-events:none}[data-v-1a020dde] .checkin-flake{position:absolute;width:3px;height:3px;background:rgba(170,210,245,.85);border-radius:50%}[data-v-1a020dde] .checkin-ring{position:absolute;left:50%;top:45%;transform:translate(-50%,-50%);width:100px;height:100px;border:2px solid rgba(120,190,255,.4);border-radius:50%;opacity:0}[data-v-1a020dde] .checkin-stamp{position:absolute;left:50%;top:45%;transform:translate(-50%,-50%) scale(0.8);padding:8px 16px;border:2px solid rgba(90,152,120,.8);background:rgba(90,152,120,.15);color:var(--c-success);font-size:16px;font-weight:bold;letter-spacing:3px;opacity:0}[data-v-1a020dde] .checkin-info{position:absolute;bottom:18%;left:50%;transform:translateX(-50%);text-align:center;color:rgba(185,210,235,.85);font-size:12px;opacity:0}[data-v-1a020dde] .checkin-skip{position:absolute;bottom:8px;left:50%;transform:translateX(-50%);font-size:10px;color:rgba(147,167,189,.4);opacity:0}
.tab-nav[data-v-1e76600e]{display:flex;gap:var(--px);background:var(--c-bg);border:var(--px) solid var(--c-border-solid);padding:var(--px)}.tab-btn[data-v-1e76600e]{flex:1;padding:calc(var(--px)*2) calc(var(--px)*3);border:var(--px) solid rgba(0,0,0,0);background:rgba(0,0,0,0);color:var(--c-text-muted);font-size:12px;font-weight:bold;cursor:pointer;transition:all .15s;letter-spacing:.5px}.tab-btn[data-v-1e76600e]:hover{background:var(--c-surface);color:var(--c-text)}.tab-btn.active[data-v-1e76600e]{background:var(--c-accent-tint);border-bottom:calc(var(--px)*2) solid var(--c-accent);color:var(--c-accent)}
.alert-banner[data-v-3fa06a3d]{display:flex;align-items:center;justify-content:center;gap:calc(var(--px)*3);padding:calc(var(--px)*2) calc(var(--px)*4);background:var(--c-surface);border-bottom:var(--px) solid var(--c-border-solid);overflow:hidden}.alert-banner.low[data-v-3fa06a3d]{background:rgba(100,180,100,.15);border-color:var(--c-success-dim)}.alert-banner.low .alert-icon[data-v-3fa06a3d],.alert-banner.low .alert-level[data-v-3fa06a3d]{color:var(--c-success)}.alert-banner.medium[data-v-3fa06a3d]{background:rgba(200,160,60,.15);border-color:var(--c-warning-dim)}.alert-banner.medium .alert-icon[data-v-3fa06a3d],.alert-banner.medium .alert-level[data-v-3fa06a3d]{color:var(--c-warning)}.alert-banner.high[data-v-3fa06a3d]{background:rgba(220,100,80,.15);border-color:var(--c-danger-dim)}.alert-banner.high .alert-icon[data-v-3fa06a3d],.alert-banner.high .alert-level[data-v-3fa06a3d]{color:var(--c-danger)}.alert-banner.high[data-v-3fa06a3d]{animation:pulse-high-3fa06a3d 2s ease-in-out infinite}.alert-banner.critical[data-v-3fa06a3d]{background:rgba(255,60,60,.2);border-color:var(--c-danger)}.alert-banner.critical .alert-icon[data-v-3fa06a3d],.alert-banner.critical .alert-level[data-v-3fa06a3d]{color:var(--c-danger)}.alert-banner.critical[data-v-3fa06a3d]{animation:pulse-critical-3fa06a3d 1s ease-in-out infinite}.alert-banner.status[data-v-3fa06a3d]{background:rgba(90,140,200,.12);border-bottom:var(--px) solid rgba(121,211,255,.35)}.alert-banner.status .alert-icon[data-v-3fa06a3d],.alert-banner.status .alert-level[data-v-3fa06a3d]{color:var(--c-accent)}.alert-icon[data-v-3fa06a3d]{font-size:14px;color:var(--c-text-muted)}.alert-content[data-v-3fa06a3d]{display:flex;align-items:center;gap:calc(var(--px)*2);font-size:12px}.alert-level[data-v-3fa06a3d]{font-weight:bold;color:var(--c-text-muted)}.alert-text[data-v-3fa06a3d]{color:var(--c-text)}@keyframes pulse-high-3fa06a3d{0%,100%{opacity:1}50%{opacity:.7}}@keyframes pulse-critical-3fa06a3d{0%,100%{opacity:1;background:rgba(255,60,60,.2)}50%{opacity:.85;background:rgba(255,60,60,.35)}}.slide-enter-active[data-v-3fa06a3d],.slide-leave-active[data-v-3fa06a3d]{transition:all .3s ease}.slide-enter-from[data-v-3fa06a3d],.slide-leave-to[data-v-3fa06a3d]{transform:translateY(-100%);opacity:0}
.shelter-overview[data-v-84bc4a38]{display:flex;flex-direction:column;gap:calc(var(--px)*3)}.overview-grid[data-v-84bc4a38]{display:grid;grid-template-columns:1fr 1fr;gap:calc(var(--px)*3)}@media (max-width:768px){.overview-grid[data-v-84bc4a38]{grid-template-columns:1fr}}.env-card .pixel-card-body[data-v-84bc4a38]{display:flex;flex-direction:column;gap:calc(var(--px)*3)}.env-main[data-v-84bc4a38]{display:flex;gap:calc(var(--px)*4)}@media (max-width:768px){.env-main[data-v-84bc4a38]{flex-direction:column;gap:calc(var(--px)*3)}}.temp-display[data-v-84bc4a38]{display:flex;flex-direction:column;align-items:center;padding:calc(var(--px)*2);background:var(--c-bg);border:var(--px) solid var(--c-border-solid);min-width:80px}@media (max-width:768px){.temp-display[data-v-84bc4a38]{width:100%;min-width:unset}}.temp-value[data-v-84bc4a38]{font-size:24px}.temp-feel[data-v-84bc4a38]{font-size:10px;color:var(--c-text-muted);margin-top:var(--px)}.env-details[data-v-84bc4a38]{flex:1;display:flex;flex-direction:column;gap:calc(var(--px)*1.5)}.env-row[data-v-84bc4a38]{display:flex;justify-content:space-between;font-size:11px}.env-label[data-v-84bc4a38]{color:var(--c-text-muted)}.env-value[data-v-84bc4a38]{color:var(--c-text)}.env-value.danger[data-v-84bc4a38]{color:var(--c-danger)}.env-footer[data-v-84bc4a38]{display:flex;justify-content:space-between;align-items:center;padding-top:calc(var(--px)*2);border-top:var(--px) solid var(--c-border)}.time-info[data-v-84bc4a38]{font-size:11px;color:var(--c-text-muted);font-family:"Consolas",monospace}.heating-stats[data-v-84bc4a38]{display:flex;flex-direction:column;gap:calc(var(--px)*2)}.stat-item[data-v-84bc4a38]{display:flex;align-items:center;gap:calc(var(--px)*2);font-size:11px}.stat-item.sub[data-v-84bc4a38]{margin-top:calc(var(--px)*-1);font-size:10px;opacity:.7}.stat-label[data-v-84bc4a38]{color:var(--c-text-muted);min-width:60px}.stat-value[data-v-84bc4a38]{color:var(--c-text);font-family:"Consolas",monospace}.stat-value.warning[data-v-84bc4a38]{color:var(--c-warning)}.stat-value.danger[data-v-84bc4a38]{color:var(--c-danger)}.resource-grid[data-v-84bc4a38]{display:grid;grid-template-columns:repeat(4,1fr);gap:calc(var(--px)*3)}.resource-item[data-v-84bc4a38]{display:flex;flex-direction:column;gap:var(--px);padding:calc(var(--px)*2);background:var(--c-bg);border:var(--px) solid var(--c-border-solid)}.resource-item.critical[data-v-84bc4a38]{border-color:var(--c-danger);animation:pulse-critical-84bc4a38 1.5s infinite}.resource-item.warning[data-v-84bc4a38]{border-left:calc(var(--px)*2) solid var(--c-warning-dim)}.resource-item.success[data-v-84bc4a38]{border-left:calc(var(--px)*2) solid var(--c-success-dim)}.resource-item.accent[data-v-84bc4a38]{border-left:calc(var(--px)*2) solid var(--c-accent-dim)}.resource-item.danger[data-v-84bc4a38]{border-left:calc(var(--px)*2) solid var(--c-danger-dim)}.res-header[data-v-84bc4a38]{display:flex;align-items:center;gap:calc(var(--px)*1)}.res-icon[data-v-84bc4a38]{font-size:11px}.res-name[data-v-84bc4a38]{font-size:10px;color:var(--c-text-muted)}.res-bar-wrap[data-v-84bc4a38]{margin:calc(var(--px)*1) 0}.res-value[data-v-84bc4a38]{font-size:12px;text-align:right}.pop-layout[data-v-84bc4a38]{display:flex;gap:calc(var(--px)*4);align-items:stretch}.pop-total[data-v-84bc4a38]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:calc(var(--px)*3);background:var(--c-bg);border:var(--px) solid var(--c-border-solid);min-width:80px}.pop-num[data-v-84bc4a38]{font-size:28px;color:var(--c-accent)}.pop-label[data-v-84bc4a38]{font-size:10px;color:var(--c-text-muted)}.pop-limit[data-v-84bc4a38]{font-size:10px;color:var(--c-text-dim)}.pop-details[data-v-84bc4a38]{flex:1;display:flex;flex-direction:column;gap:calc(var(--px)*2)}.pop-row[data-v-84bc4a38]{display:flex;align-items:center;gap:calc(var(--px)*2);padding:calc(var(--px)*1.5) calc(var(--px)*2);background:var(--c-bg);border:var(--px) solid var(--c-border-solid)}.pop-row.warning[data-v-84bc4a38]{border-color:var(--c-warning-dim)}.pop-icon[data-v-84bc4a38]{font-size:12px}.pop-icon.female[data-v-84bc4a38]{color:hotpink}.pop-name[data-v-84bc4a38]{font-size:11px;color:var(--c-text-muted);flex:1}.female[data-v-84bc4a38]{color:hotpink}@keyframes pulse-critical-84bc4a38{0%,100%{opacity:1}50%{opacity:.7}}
.facility-panel[data-v-72bc7369]{display:flex;flex-direction:column;gap:calc(var(--px)*2)}.tree-pager[data-v-72bc7369]{display:flex;align-items:center;justify-content:center;gap:calc(var(--px)*3)}.pager-text[data-v-72bc7369]{font-size:11px;color:var(--c-text-muted);letter-spacing:.5px}.tree-pager .pixel-btn[data-v-72bc7369]:disabled{opacity:.5;cursor:not-allowed}.facility-pages[data-v-72bc7369]{display:flex;flex-direction:column;gap:calc(var(--px)*2)}.page-slide-enter-active[data-v-72bc7369],.page-slide-leave-active[data-v-72bc7369]{transition:opacity .25s ease,transform .25s ease}.page-slide-enter-from[data-v-72bc7369],.page-slide-leave-to[data-v-72bc7369]{opacity:0;transform:translateX(calc(var(--px) * 6))}.pixel-card-header[data-v-72bc7369]{display:flex;align-items:center;justify-content:space-between;gap:calc(var(--px)*2)}.fac-filter[data-v-72bc7369]{margin-left:auto;display:inline-flex;gap:calc(var(--px)*2)}.filter-btn[data-v-72bc7369]{padding:calc(var(--px)*1) calc(var(--px)*2.5);font-size:10px;color:var(--c-text-muted);background:rgba(10,16,24,.4);border:var(--px) solid rgba(121,211,255,.25);cursor:pointer;transition:all .15s}.filter-btn[data-v-72bc7369]:hover{color:var(--c-text);border-color:rgba(121,211,255,.5)}.filter-btn.active[data-v-72bc7369]{color:var(--c-text);border-color:var(--c-accent);background:rgba(121,211,255,.18)}.filter-btn.warning[data-v-72bc7369]{border-color:rgba(255,188,110,.35)}.filter-btn.warning.active[data-v-72bc7369]{border-color:var(--c-warning);color:var(--c-warning);background:rgba(255,188,110,.12)}.pixel-card-body[data-v-72bc7369]{overflow:hidden;max-height:300px;overflow-y:auto;will-change:scroll-position;transform:translateZ(0)}@media (min-width:900px){.pixel-card-body[data-v-72bc7369]{max-height:none;overflow-y:visible}}.facility-grid[data-v-72bc7369]{display:grid;grid-template-columns:repeat(2,minmax(0,1fr));gap:calc(var(--px)*3);padding-bottom:calc(var(--px)*8)}.facility-item[data-v-72bc7369]{padding:calc(var(--px)*2);cursor:pointer;transition:transform .15s,box-shadow .15s,border-color .15s;display:flex;flex-direction:column;border-color:var(--c-border);align-items:center;text-align:center;box-shadow:inset 0 0 0 calc(var(--px)) rgba(220,235,245,.08);min-height:150px}.facility-item[data-v-72bc7369]:hover{transform:translateY(-2px);box-shadow:inset 0 0 0 calc(var(--px)) rgba(220,235,245,.16),0 4px 12px rgba(0,0,0,.4);border-color:var(--c-border-hover)}.facility-item.success[data-v-72bc7369]{border-color:var(--c-border)}.facility-item.success[data-v-72bc7369]:hover{border-color:var(--c-success-dim)}.facility-item.warning[data-v-72bc7369]{border-color:var(--c-border)}.facility-item.warning[data-v-72bc7369]:hover{border-color:var(--c-warning-dim)}.facility-item.danger[data-v-72bc7369]{border-color:var(--c-border)}.facility-item.danger[data-v-72bc7369]:hover{border-color:var(--c-danger-dim)}.fac-header[data-v-72bc7369]{display:flex;flex-direction:column;align-items:center;margin-bottom:calc(var(--px)*2);gap:calc(var(--px)*2)}.fac-name[data-v-72bc7369]{font-size:12px;font-weight:bold;color:var(--c-text)}.fac-bars[data-v-72bc7369]{display:flex;flex-direction:column;gap:calc(var(--px)*1);margin-bottom:calc(var(--px)*1);width:100%}.bar-row[data-v-72bc7369]{display:flex;flex-direction:column;align-items:center;gap:calc(var(--px)*2);justify-content:center}.bar-label[data-v-72bc7369]{font-size:10px;color:var(--c-text-muted);width:auto}.bar-row .pixel-bar[data-v-72bc7369]{flex:0 0 auto;width:70%;height:10px}.fac-status[data-v-72bc7369]{font-size:10px;align-self:center}.facility-item .pixel-bar .bar-fill[data-v-72bc7369]{transition:filter .2s ease}.facility-item:hover .pixel-bar .bar-fill[data-v-72bc7369]{filter:brightness(1.1)}@media (min-width:900px){.facility-grid[data-v-72bc7369]{grid-template-columns:repeat(3,minmax(0,1fr))}.facility-item[data-v-72bc7369]{padding:calc(var(--px)*1.5);min-height:130px}.bar-row .pixel-bar[data-v-72bc7369]{width:64%}}.locked-card[data-v-72bc7369]{opacity:1;background:linear-gradient(135deg,rgba(30,40,55,0.9) 0%,rgba(20,28,40,0.95) 100%);border-color:rgba(100,140,180,.4);box-shadow:inset 0 0 20px rgba(80,120,160,.1)}.locked-card .pixel-card-header[data-v-72bc7369]{color:rgba(140,180,220,.9);border-bottom-color:rgba(80,120,160,.3)}.locked-card .pixel-card-body[data-v-72bc7369]{min-height:260px}.locked-grid[data-v-72bc7369]{display:flex;flex-wrap:wrap;gap:calc(var(--px)*3);padding:calc(var(--px)*2)}.locked-item[data-v-72bc7369]{font-size:13px;color:rgba(160,190,220,.85);padding:calc(var(--px)*2) calc(var(--px)*4);background:rgba(40,60,85,.4);border:var(--px) solid rgba(80,120,160,.4);border-radius:2px;cursor:pointer;transition:all .2s;position:relative;overflow:hidden}.locked-item[data-v-72bc7369]::before{content:"ğŸ”’";margin-right:calc(var(--px)*2);font-size:10px;opacity:.6}.locked-item[data-v-72bc7369]:hover{border-color:rgba(100,160,220,.7);background:rgba(50,80,110,.5);color:rgba(200,220,240,.95);transform:translateY(-1px);box-shadow:0 2px 8px rgba(80,140,200,.2)}.facility-item[data-v-72bc7369],.locked-item[data-v-72bc7369]{content-visibility:auto;contain:content;contain-intrinsic-size:160px 120px}.locked-info[data-v-72bc7369]{display:flex;flex-direction:column;align-items:center;gap:calc(var(--px)*2);padding:calc(var(--px)*4)}.locked-icon[data-v-72bc7369]{font-size:24px}.locked-text[data-v-72bc7369]{font-size:13px;color:var(--c-text-muted)}.facility-detail[data-v-72bc7369]{display:flex;flex-direction:column;gap:calc(var(--px)*3);min-width:240px}.detail-row[data-v-72bc7369]{display:flex;align-items:center;gap:calc(var(--px)*3)}.detail-row.wrap[data-v-72bc7369]{align-items:flex-start}.detail-label[data-v-72bc7369]{font-size:13px;color:var(--c-text-muted);width:52px}.detail-value[data-v-72bc7369]{font-size:14px;color:var(--c-text)}.detail-value.danger[data-v-72bc7369]{color:var(--c-danger)}.detail-desc[data-v-72bc7369]{font-size:12px;color:var(--c-text);line-height:1.4}.level-list[data-v-72bc7369]{display:flex;flex-direction:column;gap:calc(var(--px)*2);flex:1}.level-item[data-v-72bc7369]{display:flex;align-items:flex-start;gap:calc(var(--px)*2);font-size:12px;color:var(--c-text)}.level-tag[data-v-72bc7369]{font-size:10px;color:var(--c-text-muted);border:var(--px) solid var(--c-border-solid);padding:0 calc(var(--px)*2);line-height:1.6;min-width:34px;text-align:center}.level-item.active .level-tag[data-v-72bc7369]{color:var(--c-accent);border-color:var(--c-accent-dim)}.level-text[data-v-72bc7369]{line-height:1.4}.detail-num[data-v-72bc7369]{font-size:13px;color:var(--c-accent);width:40px;text-align:right}.action-btns[data-v-72bc7369]{display:flex;gap:calc(var(--px)*3);margin-top:calc(var(--px)*3);flex-wrap:wrap}.action-btn[data-v-72bc7369]{padding:calc(var(--px)*3) calc(var(--px)*4);background:rgba(0,0,0,0);border:var(--px) solid var(--c-accent-dim);color:var(--c-accent);font-size:13px;cursor:pointer;transition:all .15s}.action-btn[data-v-72bc7369]:hover{background:var(--c-accent-tint);border-color:var(--c-accent)}.action-btn.warning[data-v-72bc7369]{border-color:var(--c-warning-dim);color:var(--c-warning)}.action-btn.warning[data-v-72bc7369]:hover{background:rgba(210,162,82,.1);border-color:var(--c-warning)}.action-btn.danger[data-v-72bc7369]{border-color:var(--c-danger-dim);color:var(--c-danger)}.action-btn.danger[data-v-72bc7369]:hover{background:rgba(224,100,111,.1);border-color:var(--c-danger)}.action-btn.success[data-v-72bc7369]{border-color:var(--c-success-dim);color:var(--c-success)}.action-btn.success[data-v-72bc7369]:hover{background:rgba(90,152,120,.1);border-color:var(--c-success)}.action-btn.disabled[data-v-72bc7369]{opacity:.5;cursor:not-allowed}.action-btn.disabled[data-v-72bc7369]:hover{background:rgba(0,0,0,0)}.cost-hint[data-v-72bc7369]{font-size:10px;opacity:.7;margin-left:4px}.upgrade-overlay[data-v-72bc7369],.build-overlay[data-v-72bc7369],.repair-overlay[data-v-72bc7369],.stop-overlay[data-v-72bc7369],.start-overlay[data-v-72bc7369]{display:none;position:absolute;inset:0;background:rgba(15,22,30,.96);z-index:10;cursor:pointer}.stop-overlay[data-v-72bc7369]{pointer-events:none;display:none}.start-overlay[data-v-72bc7369]{pointer-events:none;display:none}.stop-panel[data-v-72bc7369]{position:absolute;left:50%;top:50%;transform:translate(-50%,-50%);text-align:center;padding:calc(var(--px)*4) calc(var(--px)*6);background:linear-gradient(135deg,rgba(20,28,40,0.9),rgba(12,18,28,0.95));border:var(--px) solid rgba(120,160,200,.35);box-shadow:0 0 18px rgba(80,120,160,.4)}.stop-icon[data-v-72bc7369]{font-size:26px;color:rgba(180,210,240,.9);margin-bottom:calc(var(--px)*2)}.stop-title[data-v-72bc7369]{font-size:14px;color:rgba(210,230,250,.95);letter-spacing:2px;margin-bottom:calc(var(--px)*2)}.stop-status[data-v-72bc7369]{font-size:11px;color:rgba(140,170,200,.8)}.stop-scan[data-v-72bc7369]{position:absolute;top:20%;left:0;width:100%;height:2px;background:linear-gradient(90deg,transparent 0%,rgba(120,200,255,0.8) 50%,transparent 100%);box-shadow:0 0 8px rgba(120,200,255,.6);opacity:0}.stop-grid[data-v-72bc7369]{position:absolute;inset:0;background-image:linear-gradient(rgba(90,140,190,0.06) 1px,transparent 1px),linear-gradient(90deg,rgba(90,140,190,0.06) 1px,transparent 1px);background-size:24px 24px;opacity:.2}.stop-pulse[data-v-72bc7369]{position:absolute;left:50%;top:50%;width:160px;height:160px;transform:translate(-50%,-50%);border-radius:50%;border:1px solid rgba(120,200,255,.6);box-shadow:0 0 18px rgba(120,200,255,.4);opacity:0}.stop-flicker[data-v-72bc7369]{position:absolute;width:100%;height:40px;left:0;background:linear-gradient(90deg,transparent 0%,rgba(150,220,255,0.18) 50%,transparent 100%);opacity:0}.stop-flicker.f1[data-v-72bc7369]{top:34%}.stop-flicker.f2[data-v-72bc7369]{top:58%}.stop-sparks[data-v-72bc7369]{position:absolute;inset:0;pointer-events:none}.stop-sparks .spark[data-v-72bc7369]{position:absolute;width:4px;height:4px;background:rgba(160,230,255,.9);box-shadow:0 0 8px rgba(160,230,255,.8);border-radius:50%;opacity:0}.stop-noise[data-v-72bc7369]{position:absolute;inset:0;background-image:url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="80" height="80" viewBox="0 0 80 80"><filter id="n"><feTurbulence type="fractalNoise" baseFrequency="0.8" numOctaves="2" seed="3"/></filter><rect width="80" height="80" filter="url(%23n)" opacity="0.2"/></svg>');mix-blend-mode:screen;opacity:0;pointer-events:none}.stop-flash[data-v-72bc7369]{position:absolute;inset:0;background:rgba(210,235,255,.7);opacity:0;pointer-events:none}.start-panel[data-v-72bc7369]{position:absolute;left:50%;top:50%;transform:translate(-50%,-50%);text-align:center;padding:calc(var(--px)*4) calc(var(--px)*6);background:linear-gradient(135deg,rgba(20,40,28,0.9),rgba(12,24,16,0.95));border:var(--px) solid rgba(120,200,160,.35);box-shadow:0 0 18px rgba(90,170,130,.4)}.start-icon[data-v-72bc7369]{font-size:26px;color:rgba(190,240,210,.9);margin-bottom:calc(var(--px)*2)}.start-title[data-v-72bc7369]{font-size:14px;color:rgba(210,250,230,.95);letter-spacing:2px;margin-bottom:calc(var(--px)*2)}.start-status[data-v-72bc7369]{font-size:11px;color:rgba(150,200,180,.8)}.start-grid[data-v-72bc7369]{position:absolute;inset:0;background-image:linear-gradient(rgba(90,160,120,0.06) 1px,transparent 1px),linear-gradient(90deg,rgba(90,160,120,0.06) 1px,transparent 1px);background-size:24px 24px;opacity:.2}.start-pulse[data-v-72bc7369]{position:absolute;left:50%;top:50%;width:160px;height:160px;transform:translate(-50%,-50%);border-radius:50%;border:1px solid rgba(120,220,160,.6);box-shadow:0 0 18px rgba(120,220,160,.4);opacity:0}.start-scan[data-v-72bc7369]{position:absolute;top:20%;left:0;width:100%;height:2px;background:linear-gradient(90deg,transparent 0%,rgba(120,220,160,0.85) 50%,transparent 100%);box-shadow:0 0 8px rgba(120,220,160,.6);opacity:0}.start-ray[data-v-72bc7369]{position:absolute;left:50%;top:18%;width:3px;height:120px;background:linear-gradient(180deg,rgba(120,220,160,0) 0%,rgba(120,220,160,0.5) 50%,rgba(120,220,160,0) 100%);transform-origin:top center;opacity:0}.start-ray.r1[data-v-72bc7369]{transform:translateX(-50%) rotate(-10deg)}.start-ray.r2[data-v-72bc7369]{transform:translateX(-50%) rotate(0deg)}.start-ray.r3[data-v-72bc7369]{transform:translateX(-50%) rotate(10deg)}.start-noise[data-v-72bc7369]{position:absolute;inset:0;background-image:url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="80" height="80" viewBox="0 0 80 80"><filter id="n"><feTurbulence type="fractalNoise" baseFrequency="0.7" numOctaves="2" seed="7"/></filter><rect width="80" height="80" filter="url(%23n)" opacity="0.2"/></svg>');mix-blend-mode:screen;opacity:0;pointer-events:none}.start-flash[data-v-72bc7369]{position:absolute;inset:0;background:rgba(200,255,230,.65);opacity:0;pointer-events:none}[data-v-72bc7369] .build-scene{position:relative;width:100%;height:200px;overflow:hidden}[data-v-72bc7369] .build-sky{position:absolute;inset:0;background:linear-gradient(180deg,#1a2a3a 0%,#2a3a4a 100%)}[data-v-72bc7369] .build-snow-layer{position:absolute;inset:0;pointer-events:none}[data-v-72bc7369] .snow-particle{position:absolute;width:3px;height:3px;background:rgba(200,220,240,.8);border-radius:50%}[data-v-72bc7369] .build-ground{position:absolute;bottom:0;left:0;right:0;height:40px;background:linear-gradient(180deg,#3a4a5a 0%,#2a3a4a 100%)}[data-v-72bc7369] .build-blueprint{position:absolute;inset:10px 16px 50px 16px;border:1px solid rgba(80,130,170,.35);box-shadow:inset 0 0 20px rgba(30,60,90,.4);pointer-events:none}[data-v-72bc7369] .blueprint-grid{position:absolute;inset:0;background:repeating-linear-gradient(0deg,rgba(80,140,180,0.2) 0,rgba(80,140,180,0.2) 1px,transparent 1px,transparent 12px),repeating-linear-gradient(90deg,rgba(80,140,180,0.15) 0,rgba(80,140,180,0.15) 1px,transparent 1px,transparent 12px)}[data-v-72bc7369] .blueprint-glow{position:absolute;inset:0;background:radial-gradient(circle at 50% 50%,rgba(80,150,200,0.25) 0%,transparent 60%)}[data-v-72bc7369] .crane{position:absolute;left:10%;top:8%;width:80px;height:140px}[data-v-72bc7369] .crane-tower{position:absolute;left:8px;bottom:0;width:10px;height:120px;background:rgba(100,130,150,.7);box-shadow:0 0 6px rgba(80,120,160,.4)}[data-v-72bc7369] .crane-arm{position:absolute;left:8px;top:20px;width:60px;height:6px;background:rgba(120,150,170,.8);transform-origin:0% 50%}[data-v-72bc7369] .crane-hook{position:absolute;left:58px;top:24px;width:2px;height:24px;background:rgba(130,160,180,.8);box-shadow:0 0 4px rgba(100,140,170,.6)}[data-v-72bc7369] .scaffold-frame{position:absolute;left:50%;bottom:40px;transform:translateX(-50%);width:80px;height:100px}[data-v-72bc7369] .scaffold-pole{position:absolute;width:4px;height:100%;background:rgba(120,140,160,.6)}[data-v-72bc7369] .scaffold-pole.left{left:0}[data-v-72bc7369] .scaffold-pole.right{right:0}[data-v-72bc7369] .scaffold-beam{position:absolute;left:0;right:0;height:3px;background:rgba(120,140,160,.5)}[data-v-72bc7369] .scaffold-beam.top{top:10px}[data-v-72bc7369] .scaffold-beam.mid{top:50%}[data-v-72bc7369] .building-outline{position:absolute;left:50%;bottom:40px;transform:translateX(-50%);width:60px;height:80px;background:rgba(60,90,120,.3);border:2px solid rgba(100,140,180,.5)}[data-v-72bc7369] .build-blocks{position:absolute;left:50%;bottom:42px;transform:translateX(-50%);width:70px;height:90px;pointer-events:none}[data-v-72bc7369] .build-block{position:absolute;width:18px;height:14px;background:rgba(120,150,170,.7);border:1px solid rgba(140,180,200,.7);box-shadow:inset 0 0 6px rgba(80,110,130,.6)}[data-v-72bc7369] .build-block.block-1{left:6px;bottom:0}[data-v-72bc7369] .build-block.block-2{left:26px;bottom:18px}[data-v-72bc7369] .build-block.block-3{left:46px;bottom:36px}[data-v-72bc7369] .build-sweep{position:absolute;left:50%;bottom:60px;width:60px;height:2px;transform:translateX(-50%);background:linear-gradient(90deg,transparent 0%,rgba(140,200,230,0.8) 50%,transparent 100%);box-shadow:0 0 8px rgba(140,200,230,.8)}[data-v-72bc7369] .worker{position:absolute;bottom:45px;width:16px;height:24px}[data-v-72bc7369] .worker.worker-1{left:30%}[data-v-72bc7369] .worker.worker-2{right:30%}[data-v-72bc7369] .worker-body{position:absolute;bottom:0;width:100%;height:16px;background:rgba(80,100,130,.8);border-radius:2px}[data-v-72bc7369] .worker-head{position:absolute;bottom:16px;left:50%;transform:translateX(-50%);width:8px;height:8px;background:rgba(180,160,140,.9);border-radius:50%}[data-v-72bc7369] .worker-arm{position:absolute;bottom:10px;width:10px;height:3px;background:rgba(80,100,130,.8);transform-origin:left center}[data-v-72bc7369] .weld-sparks{position:absolute;left:50%;bottom:80px;transform:translateX(-50%)}[data-v-72bc7369] .weld-spark{position:absolute;width:4px;height:4px;background:orange;border-radius:50%;box-shadow:0 0 6px orange}[data-v-72bc7369] .weld-glow{position:absolute;left:50%;bottom:75px;transform:translateX(-50%);width:20px;height:20px;background:radial-gradient(circle,rgba(255,165,0,0.6) 0%,transparent 70%);border-radius:50%}[data-v-72bc7369] .build-header{position:absolute;top:10%;left:50%;transform:translateX(-50%);display:flex;align-items:center;gap:8px;opacity:0}[data-v-72bc7369] .build-icon{font-size:18px}[data-v-72bc7369] .build-name{font-size:14px;color:rgba(180,200,220,.9);font-weight:bold}[data-v-72bc7369] .build-footer{position:absolute;bottom:8%;left:50%;transform:translateX(-50%);text-align:center;opacity:0}[data-v-72bc7369] .build-progress-bar{width:120px;height:6px;background:rgba(40,55,70,.6);border:1px solid rgba(80,110,130,.4);margin-bottom:6px}[data-v-72bc7369] .build-progress-fill{height:100%;background:linear-gradient(90deg,rgba(90,160,120,0.7),rgba(120,200,150,0.9))}[data-v-72bc7369] .build-status{font-size:11px;color:rgba(160,180,200,.8)}[data-v-72bc7369] .upgrade-scene{position:relative;width:100%;height:200px;overflow:hidden}[data-v-72bc7369] .upgrade-bg{position:absolute;inset:0;background:radial-gradient(ellipse at center,#1c242c 0%,#0b1116 100%)}[data-v-72bc7369] .upgrade-workshop{position:absolute;left:50%;top:50%;transform:translate(-50%,-50%);width:150px;height:120px}[data-v-72bc7369] .workshop-frame{position:absolute;inset:0;border:2px solid rgba(90,120,150,.6);background:linear-gradient(135deg,rgba(30,40,50,0.8),rgba(20,30,40,0.9));box-shadow:inset 0 0 14px rgba(10,15,20,.8)}[data-v-72bc7369] .gear-set{position:absolute;left:20px;top:22px;width:70px;height:70px}[data-v-72bc7369] .gear{position:absolute;border-radius:50%;border:2px solid rgba(140,180,210,.7);box-shadow:0 0 8px rgba(100,140,170,.6);background:radial-gradient(circle,rgba(60,80,100,0.8) 0%,rgba(20,30,40,0.9) 60%)}[data-v-72bc7369] .gear-lg{width:48px;height:48px;left:0;top:10px}[data-v-72bc7369] .gear-sm{width:32px;height:32px;right:0;top:0}[data-v-72bc7369] .piston{position:absolute;right:18px;top:16px;width:36px;height:60px}[data-v-72bc7369] .piston-head{position:absolute;top:0;left:6px;width:24px;height:14px;background:rgba(140,170,190,.8);border-radius:2px}[data-v-72bc7369] .piston-rod{position:absolute;top:12px;left:16px;width:4px;height:40px;background:rgba(110,140,170,.7)}[data-v-72bc7369] .belt{position:absolute;left:18px;bottom:14px;width:110px;height:10px;border:1px solid rgba(80,110,140,.6);background:repeating-linear-gradient(90deg,rgba(80,110,140,0.5) 0,rgba(80,110,140,0.5) 8px,rgba(40,60,80,0.8) 8px,rgba(40,60,80,0.8) 16px)}[data-v-72bc7369] .gauge{position:absolute;right:12px;bottom:10px;width:34px;height:34px}[data-v-72bc7369] .gauge-face{position:absolute;inset:0;border-radius:50%;border:2px solid rgba(120,150,180,.7);background:radial-gradient(circle,rgba(30,40,50,0.9) 0%,rgb(20,30,40) 60%)}[data-v-72bc7369] .gauge-needle{position:absolute;left:6px;top:16px;width:14px;height:2px;background:rgba(200,140,80,.9);border-radius:2px}[data-v-72bc7369] .bolt{position:absolute;width:6px;height:6px;background:rgba(150,170,190,.7);border-radius:50%;box-shadow:0 0 4px rgba(90,120,150,.6)}[data-v-72bc7369] .bolt.b1{left:6px;top:6px}[data-v-72bc7369] .bolt.b2{right:6px;top:6px}[data-v-72bc7369] .bolt.b3{left:6px;bottom:6px}[data-v-72bc7369] .bolt.b4{right:6px;bottom:6px}[data-v-72bc7369] .level-display{position:absolute;left:50%;top:50%;transform:translate(-50%,-50%);display:flex;align-items:center;gap:8px;z-index:5}[data-v-72bc7369] .level-from,[data-v-72bc7369] .level-to{font-size:16px;font-weight:bold;color:rgba(140,180,220,.9)}[data-v-72bc7369] .level-arrow{font-size:14px;color:rgba(100,160,200,.7)}[data-v-72bc7369] .upgrade-header{position:absolute;top:10%;left:50%;transform:translateX(-50%);display:flex;align-items:center;gap:8px;opacity:0}[data-v-72bc7369] .upgrade-icon{font-size:18px}[data-v-72bc7369] .upgrade-name{font-size:14px;color:rgba(140,180,220,.9);font-weight:bold}[data-v-72bc7369] .upgrade-footer{position:absolute;bottom:8%;left:50%;transform:translateX(-50%);text-align:center;opacity:0}[data-v-72bc7369] .upgrade-progress-bar{width:120px;height:6px;background:rgba(40,55,70,.6);border:1px solid rgba(80,110,130,.4);margin-bottom:6px}[data-v-72bc7369] .upgrade-progress-fill{height:100%;background:linear-gradient(90deg,rgba(80,140,200,0.7),rgba(100,180,255,0.9))}[data-v-72bc7369] .upgrade-status{font-size:11px;color:rgba(140,170,200,.8)}[data-v-72bc7369] .repair-scene{position:relative;width:100%;height:200px;overflow:hidden}[data-v-72bc7369] .repair-bg{position:absolute;inset:0;background:radial-gradient(ellipse at center,#182632 0%,#0d1821 100%)}[data-v-72bc7369] .repair-grid{position:absolute;inset:0;pointer-events:none}[data-v-72bc7369] .repair-line{position:absolute;left:0;right:0;height:1px;background:rgba(80,140,200,.15)}[data-v-72bc7369] .repair-line:nth-child(odd){width:1px;height:auto;top:0;bottom:0}[data-v-72bc7369] .repair-icon{position:absolute;left:50%;top:45%;transform:translate(-50%,-50%);font-size:28px;color:rgba(180,210,240,.9)}[data-v-72bc7369] .repair-panel{position:absolute;left:50%;top:56%;transform:translate(-50%,-50%);width:130px;height:70px}[data-v-72bc7369] .panel-plate{position:absolute;inset:0;background:linear-gradient(135deg,rgba(70,90,110,0.7),rgba(40,55,70,0.8));border:1px solid rgba(90,120,150,.5);box-shadow:inset 0 0 12px rgba(20,30,40,.6)}[data-v-72bc7369] .panel-crack{position:absolute;left:15%;top:50%;width:70%;height:2px;background:rgba(160,120,120,.7);transform:rotate(-8deg);box-shadow:0 0 6px rgba(160,120,120,.6)}[data-v-72bc7369] .panel-patch{position:absolute;width:28px;height:16px;background:rgba(110,140,160,.8);border:1px solid rgba(140,180,210,.6);box-shadow:inset 0 0 6px rgba(80,110,130,.5)}[data-v-72bc7369] .panel-patch.patch-1{left:20%;top:28%}[data-v-72bc7369] .panel-patch.patch-2{right:18%;top:52%}[data-v-72bc7369] .bolt{position:absolute;width:6px;height:6px;background:rgba(180,200,220,.7);border-radius:50%;box-shadow:0 0 4px rgba(120,160,200,.5)}[data-v-72bc7369] .bolt-1{left:6px;top:6px}[data-v-72bc7369] .bolt-2{right:6px;top:6px}[data-v-72bc7369] .bolt-3{left:6px;bottom:6px}[data-v-72bc7369] .bolt-4{right:6px;bottom:6px}[data-v-72bc7369] .repair-tool{position:absolute;left:50%;top:42%;width:50px;height:50px;transform:translate(-50%,-50%)}[data-v-72bc7369] .tool-handle{position:absolute;left:20px;top:10px;width:6px;height:34px;background:rgba(130,150,170,.8);border-radius:2px}[data-v-72bc7369] .tool-head{position:absolute;left:14px;top:4px;width:18px;height:8px;border-radius:2px;background:rgba(170,190,210,.9);box-shadow:0 0 6px rgba(120,170,220,.4)}[data-v-72bc7369] .repair-sparks{position:absolute;left:50%;top:50%;transform:translate(-50%,-50%)}[data-v-72bc7369] .repair-spark{position:absolute;width:4px;height:4px;background:#f6c45d;border-radius:50%;box-shadow:0 0 6px rgba(246,196,93,.9)}[data-v-72bc7369] .repair-dust{position:absolute;left:50%;top:52%;transform:translate(-50%,-50%)}[data-v-72bc7369] .dust{position:absolute;width:6px;height:6px;background:rgba(190,200,210,.6);border-radius:50%;filter:blur(1px)}[data-v-72bc7369] .repair-header{position:absolute;top:10%;left:50%;transform:translateX(-50%);display:flex;align-items:center;gap:8px;opacity:0}[data-v-72bc7369] .repair-title{font-size:14px;color:rgba(170,200,230,.9);font-weight:bold}[data-v-72bc7369] .repair-footer{position:absolute;bottom:8%;left:50%;transform:translateX(-50%);text-align:center;opacity:0}[data-v-72bc7369] .repair-progress-bar{width:120px;height:6px;background:rgba(40,55,70,.6);border:1px solid rgba(80,110,130,.4);margin-bottom:6px}[data-v-72bc7369] .repair-progress-fill{height:100%;background:linear-gradient(90deg,rgba(120,180,220,0.7),rgba(140,220,180,0.9))}[data-v-72bc7369] .repair-status{font-size:11px;color:rgba(150,180,210,.8)}
.tech-tree[data-v-14042412]{display:flex;flex-direction:column;gap:calc(var(--px)*2);--tt-ink:#D0D5DC;--tt-muted:#8A9098;--tt-surface:#050608;--tt-card:#0a0d11;--tt-card-strong:#0f1318;--tt-border:rgba(120,130,145,0.25);--tt-ice:#5A98B0;--tt-ice-bright:#7AB8D0;--tt-glow:rgba(90,152,176,0.25);--tt-ember:#C07048;--tt-green:#508878;--tt-crimson:#B85550;--tt-violet:#7878A8;--tt-crack:rgba(140,160,180,0.15);overflow-x:hidden}.tree-pager[data-v-14042412]{display:flex;align-items:center;justify-content:center;gap:calc(var(--px)*3)}.pager-text[data-v-14042412]{font-size:11px;color:var(--tt-muted);letter-spacing:.5px}.tree-pager .pixel-btn[data-v-14042412]:disabled{opacity:.5;cursor:not-allowed}.branches-container[data-v-14042412]{display:grid;grid-template-rows:repeat(2,minmax(190px,1fr));gap:calc(var(--px)*2);flex:1;min-height:0;overflow-x:hidden}.branch-card[data-v-14042412]{height:100%}.page-slide-enter-active[data-v-14042412],.page-slide-leave-active[data-v-14042412]{transition:opacity .25s ease,transform .25s ease}.page-slide-enter-from[data-v-14042412],.page-slide-leave-to[data-v-14042412]{opacity:0;transform:translateX(calc(var(--px) * 6))}.branch-card[data-v-14042412]{margin-bottom:0;position:relative;display:flex;flex-direction:column;overflow:hidden}.branch-card[data-v-14042412]::before{content:"";position:absolute;inset:0;background:linear-gradient(128deg,transparent 0 48%,var(--tt-crack) 50%,transparent 52%),linear-gradient(18deg,transparent 0 56%,rgba(140,160,180,0.12) 58%,transparent 60%),linear-gradient(205deg,transparent 0 63%,rgba(150,170,190,0.08) 65%,transparent 67%),linear-gradient(260deg,transparent 0 42%,rgba(130,150,170,0.08) 44%,transparent 46%);opacity:.4;mix-blend-mode:screen;pointer-events:none}.branch-card[data-v-14042412]>*{position:relative;z-index:1}.tech-tree .pixel-card[data-v-14042412]{background:linear-gradient(180deg,var(--tt-card) 0%,var(--tt-surface) 100%);border-color:var(--tt-border)}.tech-tree .pixel-card-header[data-v-14042412]{background:var(--tt-card-strong);color:var(--tt-ink);border-bottom-color:var(--tt-border)}.tech-tree .pixel-card-header .header-icon[data-v-14042412]{background:var(--tt-ice);box-shadow:0 0 calc(var(--px)*5) var(--tt-glow)}.branch-header[data-v-14042412]{justify-content:space-between}.branch-header.warning[data-v-14042412]{background:linear-gradient(180deg,rgba(184,136,80,0.3) 0%,rgba(138,104,64,0.2) 100%);color:#d8d0c0}.branch-header.danger[data-v-14042412]{background:linear-gradient(180deg,rgba(184,85,80,0.28) 0%,rgba(138,64,64,0.18) 100%);color:#d8c8c8}.branch-header.success[data-v-14042412]{background:linear-gradient(180deg,rgba(80,136,120,0.28) 0%,rgba(58,104,88,0.18) 100%);color:#c8d8d0}.branch-header.purple[data-v-14042412]{background:linear-gradient(180deg,rgba(120,120,168,0.3) 0%,rgba(88,88,136,0.2) 100%);color:#d0d5dc}.branch-header.frost[data-v-14042412]{background:linear-gradient(180deg,rgba(90,152,176,0.35) 0%,rgba(58,104,128,0.2) 100%);color:#d0e0ec}.branch-title[data-v-14042412]{display:flex;flex-direction:column;gap:2px}.branch-name[data-v-14042412]{line-height:1.1}.branch-meta[data-v-14042412]{font-size:10px;color:var(--tt-muted);letter-spacing:0;text-transform:none}.tech-tree .pixel-tag[data-v-14042412]{background:rgba(15,27,42,.8);border-color:rgba(138,176,206,.45);color:var(--tt-ink)}.tech-tree .pixel-tag.success[data-v-14042412]{background:linear-gradient(180deg,rgba(111,215,176,0.8) 0%,rgba(95,190,155,0.8) 100%);border-color:rgba(111,215,176,.7);color:#0b131c}.pixel-card-body[data-v-14042412]{overflow:hidden;flex:1}.branch-layout[data-v-14042412]{display:flex;align-items:stretch;gap:calc(var(--px)*4);position:relative;--node-gap:calc(var(--px)*8)}.branch-spine[data-v-14042412]{width:calc(var(--px)*2);background:linear-gradient(180deg,rgba(121,211,255,0.6) 0%,rgba(121,211,255,0.08) 100%);box-shadow:0 0 calc(var(--px)*4) var(--tt-glow);overflow:hidden;position:absolute;left:50%;top:0;bottom:0;transform:translateX(-50%)}.branch-spine[data-v-14042412]::after{content:"";position:absolute;inset:0;background:linear-gradient(180deg,transparent 0%,rgba(226,246,255,0.55) 50%,transparent 100%);opacity:.6;animation:spine-flow-14042412 3.2s ease-in-out infinite}.branch-spine.warning[data-v-14042412]{background:linear-gradient(180deg,rgba(255,184,107,0.6) 0%,rgba(255,184,107,0.08) 100%)}.branch-spine.danger[data-v-14042412]{background:linear-gradient(180deg,rgba(244,123,123,0.6) 0%,rgba(244,123,123,0.08) 100%)}.branch-spine.success[data-v-14042412]{background:linear-gradient(180deg,rgba(111,215,176,0.6) 0%,rgba(111,215,176,0.08) 100%)}.branch-spine.purple[data-v-14042412]{background:linear-gradient(180deg,rgba(164,169,255,0.6) 0%,rgba(164,169,255,0.08) 100%)}.branch-spine.frost[data-v-14042412]{background:linear-gradient(180deg,rgba(121,211,255,0.8) 0%,rgba(121,211,255,0.12) 100%)}.tech-nodes[data-v-14042412]{display:grid;grid-template-columns:repeat(2,minmax(110px,1fr));-moz-column-gap:var(--node-gap);column-gap:var(--node-gap);row-gap:calc(var(--px)*3);padding-bottom:calc(var(--px)*2);align-content:flex-start;width:100%;z-index:1}.tech-node[data-v-14042412]{display:flex;flex-direction:column;align-items:center;gap:calc(var(--px)*2);padding:calc(var(--px)*3) calc(var(--px)*4);background:linear-gradient(160deg,rgba(7,12,18,0.9) 0%,rgba(17,29,43,0.9) 100%);border:var(--px) solid var(--tt-border);cursor:pointer;transition:transform .2s,box-shadow .2s,border-color .2s,background .2s;position:relative;min-width:110px;isolation:isolate;text-align:center}.tech-node[data-v-14042412]:hover{transform:translateY(calc(var(--px) * -1));box-shadow:0 6px 14px rgba(0,0,0,.45);border-color:rgba(150,200,235,.6)}.tech-node.unlocked[data-v-14042412]{border-color:rgba(121,211,255,.65)}.tech-node.unlocked .node-name[data-v-14042412]{color:var(--tt-ice-bright)}.tech-node.unlocked.success[data-v-14042412]{border-color:rgba(111,215,176,.7)}.tech-node.unlocked.warning[data-v-14042412]{border-color:rgba(255,184,107,.7)}.tech-node.unlocked.danger[data-v-14042412]{border-color:rgba(244,123,123,.7)}.tech-node.unlocked.purple[data-v-14042412]{border-color:rgba(164,169,255,.7)}.tech-node.in-progress[data-v-14042412]{box-shadow:inset 0 0 0 1px rgba(121,211,255,.25)}.tech-node.locked[data-v-14042412]{opacity:.45;filter:saturate(0.4);cursor:not-allowed}.tech-node.locked[data-v-14042412]:hover{transform:none;box-shadow:none;border-color:var(--tt-border)}.tech-node.locked .node-name[data-v-14042412]{color:var(--tt-muted)}.tech-node:hover .node-link[data-v-14042412]{opacity:.9;filter:brightness(1.2)}.tech-node:hover .node-indicator[data-v-14042412]{box-shadow:0 0 10px var(--tt-glow)}.node-link[data-v-14042412]{position:absolute;top:50%;width:calc(var(--node-gap)/2);height:1px;background:linear-gradient(90deg,transparent 0%,rgba(121,211,255,0.6) 100%);opacity:.4}.tech-node:nth-child(odd) .node-link[data-v-14042412]{left:100%;right:auto}.tech-node:nth-child(even) .node-link[data-v-14042412]{right:100%;left:auto;transform:scaleX(-1)}.tech-node.unlocked .node-link[data-v-14042412]{opacity:.9;background:linear-gradient(90deg,transparent 0%,rgba(182,236,255,0.9) 60%,rgba(182,236,255,0.2) 100%);animation:link-flow-14042412 2.2s linear infinite}.tech-node.in-progress .node-link[data-v-14042412]{opacity:.7;animation:link-pulse-14042412 1.6s ease-in-out infinite}.node-core[data-v-14042412]{display:flex;flex-direction:column;align-items:center;gap:var(--px)}.node-lock[data-v-14042412]{font-size:10px;opacity:.6}.node-indicator[data-v-14042412]{width:calc(var(--px)*4);height:calc(var(--px)*4);background:rgba(140,170,200,.5);box-shadow:inset 0 0 0 1px rgba(180,210,235,.2)}.node-indicator.active[data-v-14042412]{background:var(--tt-ice);box-shadow:0 0 8px var(--tt-glow);animation:node-pulse-14042412 1.8s ease-in-out infinite}.node-name[data-v-14042412]{font-size:10px;color:var(--tt-muted);letter-spacing:.5px;text-align:center}.node-progress[data-v-14042412]{width:68px}.pixel-bar.sm[data-v-14042412]{height:calc(var(--px)*3)}.tech-tree .pixel-bar[data-v-14042412]{border-color:rgba(120,160,190,.45);background:rgba(5,8,12,.6)}.tech-tree .pixel-bar .bar-fill[data-v-14042412]{background:linear-gradient(90deg,rgba(121,211,255,0.2) 0%,var(--tt-ice) 45%,var(--tt-ice-bright) 100%)}@keyframes node-pulse-14042412{0%,100%{box-shadow:0 0 6px var(--tt-glow)}50%{box-shadow:0 0 12px rgba(121,211,255,.55)}}@keyframes link-flow-14042412{0%{opacity:.4;filter:brightness(0.8)}50%{opacity:1;filter:brightness(1.3)}100%{opacity:.4;filter:brightness(0.8)}}@keyframes link-pulse-14042412{0%,100%{opacity:.4}50%{opacity:.9}}@keyframes spine-flow-14042412{0%{transform:translateY(-60%);opacity:0}30%{opacity:.7}60%{opacity:.3}100%{transform:translateY(60%);opacity:0}}.tech-detail[data-v-14042412]{display:flex;flex-direction:column;gap:calc(var(--px)*3);min-width:220px;position:relative}.detail-row[data-v-14042412]{display:flex;align-items:center;gap:calc(var(--px)*3)}.detail-label[data-v-14042412]{font-size:13px;color:var(--tt-muted);width:48px}.detail-value[data-v-14042412]{font-size:14px;color:var(--tt-ink)}.detail-num[data-v-14042412]{font-size:13px;color:var(--tt-ice);width:40px;text-align:right}.action-btn[data-v-14042412]{margin-top:calc(var(--px)*3);padding:calc(var(--px)*3) calc(var(--px)*4);background:rgba(74,140,190,.6);border:var(--px) solid rgba(121,211,255,.6);color:var(--tt-ink);font-size:13px;cursor:pointer;transition:all .2s}.action-btn[data-v-14042412]:hover{background:rgba(121,211,255,.85);color:#0b131c;box-shadow:0 0 10px var(--tt-glow)}.action-btn.success[data-v-14042412]{background:rgba(95,190,155,.7);border-color:rgba(111,215,176,.7)}.action-btn.success[data-v-14042412]:hover{background:rgba(111,215,176,.95)}.action-btn.disabled[data-v-14042412]{opacity:.5;cursor:not-allowed}.action-btn.disabled[data-v-14042412]:hover{background:rgba(74,140,190,.6);box-shadow:none}.action-btn.disabled.success[data-v-14042412]:hover{background:rgba(95,190,155,.7)}.action-btns[data-v-14042412]{display:flex;gap:calc(var(--px)*3);flex-wrap:wrap}.cost-hint[data-v-14042412]{font-size:10px;opacity:.7;margin-left:4px}.locked-info[data-v-14042412]{display:flex;flex-direction:column;align-items:center;gap:calc(var(--px)*2);padding:calc(var(--px)*4)}.locked-icon[data-v-14042412]{font-size:24px}.locked-text[data-v-14042412]{font-size:12px;color:var(--tt-muted)}.tech-anim-container[data-v-14042412]{width:100%;min-height:200px;position:relative;overflow:hidden;border-radius:4px}[data-v-14042412] .tech-scene{position:absolute;inset:0;background:#050810;cursor:pointer;overflow:hidden}[data-v-14042412] .lab-bg{position:absolute;inset:0;background:linear-gradient(180deg,#0a1018 0%,#0d1520 50%,#101828 100%)}[data-v-14042412] .circuit-pattern{position:absolute;inset:0;background-image:linear-gradient(90deg,rgba(58,174,188,0.03) 1px,transparent 1px),linear-gradient(rgba(58,174,188,0.03) 1px,transparent 1px);background-size:20px 20px}[data-v-14042412] .grid-overlay{position:absolute;inset:0;background:radial-gradient(circle at 30% 70%,rgba(58,174,188,0.08) 0%,transparent 40%),radial-gradient(circle at 70% 30%,rgba(90,152,176,0.06) 0%,transparent 35%)}[data-v-14042412] .lab-glow{position:absolute;inset:0;background:radial-gradient(circle at 50% 45%,rgba(80,110,140,0.22) 0%,transparent 55%);opacity:.6}[data-v-14042412] .mech-gearbox{position:absolute;right:12%;top:18%;width:70px;height:70px}[data-v-14042412] .mech-gearbox .gear{position:absolute;border-radius:50%;border:2px solid rgba(130,160,190,.7);background:radial-gradient(circle,rgba(50,70,90,0.9) 0%,rgba(20,30,40,0.9) 60%);box-shadow:0 0 6px rgba(90,120,150,.6)}[data-v-14042412] .mech-gearbox .g1{width:36px;height:36px;left:0;top:18px}[data-v-14042412] .mech-gearbox .g2{width:28px;height:28px;right:0;top:4px}[data-v-14042412] .mech-gearbox .g3{width:20px;height:20px;right:6px;bottom:2px}[data-v-14042412] .mech-piston{position:absolute;right:18%;bottom:18%;width:26px;height:40px}[data-v-14042412] .mech-piston .piston-head{position:absolute;top:0;left:4px;width:18px;height:10px;background:rgba(140,170,190,.85);border-radius:2px}[data-v-14042412] .mech-piston .piston-rod{position:absolute;top:8px;left:12px;width:2px;height:28px;background:rgba(110,140,170,.7)}[data-v-14042412] .console{position:absolute;left:10%;bottom:18%;width:70px;height:52px;opacity:0}[data-v-14042412] .console-screen{position:relative;width:100%;height:30px;background:rgba(58,174,188,.08);border:1px solid rgba(58,174,188,.35);overflow:hidden}[data-v-14042412] .scan{position:absolute;left:0;top:0;width:100%;height:2px;background:rgba(90,180,200,.6)}[data-v-14042412] .trace{position:absolute;left:4px;bottom:6px;width:40px;height:2px;background:rgba(90,180,200,.6);box-shadow:0 0 6px rgba(90,180,200,.6)}[data-v-14042412] .console-keys{display:grid;grid-template-columns:repeat(4,1fr);gap:3px;margin-top:4px}[data-v-14042412] .key{height:6px;background:rgba(90,120,150,.6)}[data-v-14042412] .chip-board{position:absolute;left:50%;top:52%;transform:translate(-50%,-50%);width:90px;height:60px}[data-v-14042412] .chip{position:absolute;left:50%;top:50%;width:20px;height:20px;transform:translate(-50%,-50%);background:rgba(90,130,160,.85);border:1px solid rgba(120,170,200,.7);box-shadow:0 0 8px rgba(90,150,190,.5)}[data-v-14042412] .chip-lines{position:absolute;inset:0}[data-v-14042412] .chip-lines .line{position:absolute;height:2px;background:rgba(90,150,190,.5)}[data-v-14042412] .chip-lines .l1{left:0;top:18px;width:28px}[data-v-14042412] .chip-lines .l2{right:0;top:28px;width:28px}[data-v-14042412] .chip-lines .l3{left:10px;bottom:12px;width:24px}[data-v-14042412] .chip-lines .l4{right:12px;bottom:20px;width:22px}[data-v-14042412] .data-particles{position:absolute;inset:0;pointer-events:none}[data-v-14042412] .data-particle{position:absolute;background:radial-gradient(circle,rgba(58,174,188,0.9) 0%,rgba(90,152,176,0.4) 100%);border-radius:50%;opacity:.6}[data-v-14042412] .terminal{position:absolute;left:15%;bottom:20%;opacity:0}[data-v-14042412] .terminal-frame{width:60px;height:50px;background:#1a2535;border:2px solid #2a3a50;border-radius:3px;padding:4px}[data-v-14042412] .terminal-screen{width:100%;height:32px;background:rgba(58,174,188,.1);border:1px solid rgba(58,174,188,.3);position:relative;overflow:hidden}[data-v-14042412] .screen-scanline{position:absolute;left:0;top:0;width:100%;height:2px;background:rgba(58,174,188,.4)}[data-v-14042412] .screen-text{position:absolute;inset:0;display:flex;align-items:center;justify-content:center;font-size:6px;color:#3aaebc;letter-spacing:.5px}[data-v-14042412] .terminal-lights{display:flex;gap:4px;margin-top:4px;justify-content:center}[data-v-14042412] .light{width:6px;height:6px;background:#2a3a50;border-radius:50%;opacity:.3}[data-v-14042412] .researcher{position:absolute;left:8%;bottom:18%;opacity:0}[data-v-14042412] .res-body{width:14px;height:20px;background:#3a4a5a;border-radius:3px 3px 1px 1px;position:relative}[data-v-14042412] .res-head{position:absolute;top:-10px;left:50%;transform:translateX(-50%);width:10px;height:10px;background:#4a5a6a;border-radius:50%}[data-v-14042412] .res-arm{position:absolute;top:4px;right:-8px;width:10px;height:4px;background:#3a4a5a;border-radius:2px;transform-origin:left center}[data-v-14042412] .vault{position:absolute;left:50%;top:50%;transform:translate(-50%,-50%);width:90px;height:90px}[data-v-14042412] .vault-door{position:absolute;inset:8px;border:2px solid rgba(90,130,160,.6);background:linear-gradient(135deg,rgba(30,45,60,0.9),rgba(20,30,40,0.9))}[data-v-14042412] .vault-lock{position:absolute;left:50%;top:50%;width:22px;height:22px;transform:translate(-50%,-50%);border-radius:50%;background:radial-gradient(circle,rgba(90,200,210,0.9) 0%,rgba(58,174,188,0.3) 70%,transparent 75%)}[data-v-14042412] .vault-glow{position:absolute;inset:0;background:radial-gradient(circle,rgba(90,200,210,0.3) 0%,transparent 60%);opacity:0}[data-v-14042412] .unlock-clamps{position:absolute;left:50%;top:50%;transform:translate(-50%,-50%);width:110px;height:110px}[data-v-14042412] .unlock-clamps .clamp{position:absolute;width:16px;height:6px;background:rgba(120,150,170,.8);box-shadow:0 0 4px rgba(90,120,150,.6)}[data-v-14042412] .unlock-clamps .c1{left:-6px;top:50%;transform:translateY(-50%)}[data-v-14042412] .unlock-clamps .c2{right:-6px;top:50%;transform:translateY(-50%)}[data-v-14042412] .unlock-beams{position:absolute;left:50%;top:50%;transform:translate(-50%,-50%)}[data-v-14042412] .screen-flash{position:absolute;inset:0;background:rgba(200,235,255,.25);opacity:0;pointer-events:none}[data-v-14042412] .wormhole{position:absolute;left:50%;top:50%;transform:translate(-50%,-50%);width:120px;height:120px;pointer-events:none}[data-v-14042412] .wormhole-core{position:absolute;left:50%;top:50%;width:18px;height:18px;transform:translate(-50%,-50%);background:radial-gradient(circle,rgba(160,230,255,0.9) 0%,rgba(80,160,200,0.3) 70%,transparent 75%);border-radius:50%}[data-v-14042412] .wormhole-ring{position:absolute;left:50%;top:50%;transform:translate(-50%,-50%);border:1px solid rgba(120,200,230,.5);border-radius:50%;opacity:.6}[data-v-14042412] .wormhole-ring.wr1{width:42px;height:42px;border-style:dashed}[data-v-14042412] .wormhole-ring.wr2{width:70px;height:70px}[data-v-14042412] .wormhole-ring.wr3{width:100px;height:100px;border-style:dotted}[data-v-14042412] .unlock-beams .beam{position:absolute;width:4px;height:44px;background:linear-gradient(180deg,rgba(58,174,188,0) 0%,rgba(58,174,188,0.6) 50%,rgba(58,174,188,0) 100%);transform-origin:center bottom}[data-v-14042412] .unlock-beams .b1{transform:translate(-50%,-50%) rotate(0deg)}[data-v-14042412] .unlock-beams .b2{transform:translate(-50%,-50%) rotate(60deg)}[data-v-14042412] .unlock-beams .b3{transform:translate(-50%,-50%) rotate(120deg)}[data-v-14042412] .unlock-burst{position:absolute;left:50%;top:50%;width:60px;height:60px;transform:translate(-50%,-50%);background:radial-gradient(circle,rgba(90,200,210,0.5) 0%,transparent 70%);opacity:0;pointer-events:none}[data-v-14042412] .unlock-flare{position:absolute;left:50%;top:50%;width:90px;height:90px;transform:translate(-50%,-50%);background:radial-gradient(circle,rgba(120,220,230,0.4) 0%,transparent 70%);opacity:0;pointer-events:none}[data-v-14042412] .unlock-shock{position:absolute;left:50%;top:50%;width:120px;height:120px;transform:translate(-50%,-50%);border:1px solid rgba(120,220,230,.4);border-radius:50%;opacity:0;pointer-events:none}[data-v-14042412] .unlock-sparks{position:absolute;left:50%;top:50%;transform:translate(-50%,-50%);pointer-events:none}[data-v-14042412] .unlock-spark{position:absolute;width:4px;height:4px;background:rgba(140,230,240,.9);border-radius:50%;box-shadow:0 0 8px rgba(140,230,240,.8)}[data-v-14042412] .unlock-shards{position:absolute;left:50%;top:50%;transform:translate(-50%,-50%);pointer-events:none}[data-v-14042412] .shard{position:absolute;width:4px;height:4px;background:rgba(90,200,210,.9);border-radius:1px;box-shadow:0 0 6px rgba(90,200,210,.6)}[data-v-14042412] .tech-header{position:absolute;top:10%;left:50%;transform:translateX(-50%);display:flex;align-items:center;gap:8px;opacity:0}[data-v-14042412] .tech-ui{position:absolute;inset:0;display:flex;flex-direction:column;justify-content:space-between;align-items:center;padding:12% 0;opacity:0;pointer-events:none}[data-v-14042412] .tech-ui .tech-title{display:flex;align-items:center;gap:8px}[data-v-14042412] .tech-ui .progress-bar{margin-bottom:8px}[data-v-14042412] .tech-footer{position:absolute;bottom:12%;left:50%;transform:translateX(-50%);text-align:center;opacity:0}[data-v-14042412] .tech-icon{font-size:16px}[data-v-14042412] .tech-name{font-size:14px;font-weight:bold;color:#e2ecf7;letter-spacing:1px}[data-v-14042412] .progress-bar{width:140px;height:10px;background:rgba(5,8,12,.8);border:1px solid rgba(58,174,188,.3);position:relative;margin-bottom:10px}[data-v-14042412] .progress-fill{height:100%;background:linear-gradient(90deg,rgba(58,174,188,0.4) 0%,#3aaebc 100%);transition:width .3s}[data-v-14042412] .progress-text{position:absolute;right:6px;top:50%;transform:translateY(-50%);font-size:10px;color:#3aaebc}[data-v-14042412] .tech-status{font-size:11px;color:#93a7bd;letter-spacing:1px}[data-v-14042412] .scene-skip{position:absolute;bottom:8px;left:50%;transform:translateX(-50%);font-size:10px;color:rgba(147,167,189,.4);opacity:0}
.survivor-grid[data-v-257fbce6]{display:grid;gap:calc(var(--px)*2.5);grid-template-columns:repeat(2,minmax(0,1fr))}.survivor-item[data-v-257fbce6]{padding:calc(var(--px)*2);cursor:pointer;transition:transform .15s,box-shadow .15s;display:grid;gap:calc(var(--px)*2);position:relative;outline:var(--px) solid var(--rarity-color,transparent);outline-offset:-1px}.survivor-item[data-v-257fbce6]:hover{transform:translateY(-1px);box-shadow:0 3px 6px rgba(0,0,0,.3)}.survivor-item[data-v-257fbce6]::before{content:"";position:absolute;left:calc(var(--px)*2);right:calc(var(--px)*2);top:calc(var(--px)*1.5);height:calc(var(--px)*1.5);background:rgba(121,211,255,.35)}.survivor-item.male[data-v-257fbce6]::before{background:rgba(121,211,255,.45)}.survivor-item.female[data-v-257fbce6]::before{background:rgba(220,120,170,.45)}.survivor-item.rarity-n[data-v-257fbce6]{--rarity-color:rgba(130,140,150,0.6)}.survivor-item.rarity-r[data-v-257fbce6]{--rarity-color:rgba(120,200,140,0.7)}.survivor-item.rarity-sr[data-v-257fbce6]{--rarity-color:rgba(121,211,255,0.75)}.survivor-item.rarity-ssr[data-v-257fbce6]{--rarity-color:rgba(255,200,100,0.8)}.survivor-item.rarity-ur[data-v-257fbce6]{--rarity-color:rgba(255,120,120,0.85)}.surv-core[data-v-257fbce6]{display:grid;grid-template-columns:1fr auto;align-items:start;gap:calc(var(--px)*2)}.surv-identity[data-v-257fbce6]{display:flex;flex-direction:column;gap:calc(var(--px)*1)}.name-line[data-v-257fbce6]{display:flex;align-items:center;gap:calc(var(--px)*2)}.surv-name[data-v-257fbce6]{font-size:13px;font-weight:bold;color:var(--c-text)}.surv-meta[data-v-257fbce6]{display:flex;flex-wrap:wrap;gap:calc(var(--px)*1.5)}.meta-chip[data-v-257fbce6]{font-size:10px;color:var(--c-text);background:rgba(10,20,30,.35);border:var(--px) solid rgba(121,211,255,.25);padding:0 calc(var(--px)*2)}.meta-chip.dim[data-v-257fbce6]{color:var(--c-text-muted);border-color:rgba(121,211,255,.15)}.pixel-tag.mini[data-v-257fbce6]{padding:calc(var(--px)*.5) calc(var(--px)*1.5);font-size:10px}.pixel-tag.mini.male[data-v-257fbce6]{background:var(--c-accent-dim)}.pixel-tag.mini.female[data-v-257fbce6]{background:#8b4570}.task-chip[data-v-257fbce6]{font-size:10px;color:var(--c-text);padding:calc(var(--px)*.5) calc(var(--px)*2);background:rgba(90,152,176,.25);border:var(--px) solid rgba(90,152,176,.4);transform:translateY(2px)}.status-chips[data-v-257fbce6]{display:inline-flex;align-items:center;gap:calc(var(--px)*1.5)}.rarity-chip[data-v-257fbce6]{font-size:10px;color:var(--c-text);padding:calc(var(--px)*.5) calc(var(--px)*1.5);border:var(--px) solid rgba(120,130,140,.5);background:rgba(10,20,30,.45);letter-spacing:.5px;transform:translateY(2px)}.rarity-chip.r[data-v-257fbce6]{border-color:rgba(120,200,140,.7);color:#7bdc96}.rarity-chip.sr[data-v-257fbce6]{border-color:rgba(121,211,255,.8);color:#79d3ff}.rarity-chip.ssr[data-v-257fbce6]{border-color:rgba(255,200,100,.85);color:#ffcf88}.rarity-chip.ur[data-v-257fbce6]{border-color:rgba(255,120,120,.9);color:#ff8a8a}.surv-body[data-v-257fbce6]{display:grid;grid-template-columns:1fr 1fr;gap:calc(var(--px)*3);align-items:center}.stat-stack[data-v-257fbce6]{display:flex;flex-direction:column;gap:calc(var(--px)*2)}.stat-track[data-v-257fbce6]{display:grid;grid-template-columns:32px 1fr 32px;align-items:center;gap:calc(var(--px)*1.5);font-size:10px;color:var(--c-text-muted)}.track-label[data-v-257fbce6]{text-align:left}.track-bar[data-v-257fbce6]{position:relative;height:8px;background:rgba(10,16,24,.5);border:var(--px) solid rgba(121,211,255,.15);overflow:hidden}.track-fill[data-v-257fbce6]{height:100%;transition:width .3s ease}.track-fill.success[data-v-257fbce6]{background:linear-gradient(90deg,rgba(111,215,176,0.3),#6fd7b0)}.track-fill.warning[data-v-257fbce6]{background:linear-gradient(90deg,rgba(255,188,110,0.3),#ffbc6e)}.track-fill.danger[data-v-257fbce6]{background:linear-gradient(90deg,rgba(244,123,123,0.35),#f47b7b)}.track-value[data-v-257fbce6]{text-align:right;font-weight:bold;font-size:10px}.surv-aside[data-v-257fbce6]{display:flex;flex-direction:column;gap:calc(var(--px)*2);align-items:flex-start}.skill-title[data-v-257fbce6]{font-size:10px;color:var(--c-text-muted);letter-spacing:1px}.skill-list[data-v-257fbce6]{display:flex;flex-direction:column;gap:calc(var(--px)*1)}.skill-chip[data-v-257fbce6]{font-size:10px;padding:calc(var(--px)*.5) calc(var(--px)*2);border:var(--px) solid rgba(121,211,255,.25);background:rgba(10,20,30,.35)}.relation-chip[data-v-257fbce6]{font-size:10px;padding:calc(var(--px)*.5) calc(var(--px)*2);border:var(--px) solid rgba(220,120,170,.35)}.relation-chip.high[data-v-257fbce6]{color:#6fd7b0}.relation-chip.mid[data-v-257fbce6]{color:#79d3ff}.relation-chip.low[data-v-257fbce6]{color:#f47b7b}.loyalty-chip[data-v-257fbce6]{font-size:10px;padding:calc(var(--px)*.5) calc(var(--px)*2);border:var(--px) solid rgba(121,211,255,.35)}.loyalty-chip.high[data-v-257fbce6]{color:#6fd7b0;border-color:rgba(111,215,176,.4)}.loyalty-chip.mid[data-v-257fbce6]{color:#79d3ff;border-color:rgba(121,211,255,.4)}.loyalty-chip.low[data-v-257fbce6]{color:#f47b7b;border-color:rgba(244,123,123,.4)}.survivor-pager[data-v-257fbce6]{display:flex;align-items:center;justify-content:flex-end;gap:calc(var(--px)*2);padding-top:calc(var(--px)*2)}.pager-btn[data-v-257fbce6]{width:26px;height:26px;background:rgba(10,20,30,.5);border:var(--px) solid rgba(121,211,255,.35);color:var(--c-text);cursor:pointer;transition:all .2s}.pager-btn[data-v-257fbce6]:hover:not(:disabled){background:rgba(121,211,255,.2)}.pager-btn[data-v-257fbce6]:disabled{opacity:.4;cursor:not-allowed}.pager-status[data-v-257fbce6]{font-size:10px;color:var(--c-text-muted);letter-spacing:1px}.stat-mini[data-v-257fbce6]{display:flex;align-items:center;gap:calc(var(--px)*1);font-size:10px;color:var(--c-text-muted)}.stat-mini .stat-icon[data-v-257fbce6]{font-size:9px}.stat-mini .success[data-v-257fbce6]{color:var(--c-success)}.stat-mini .warning[data-v-257fbce6]{color:var(--c-warning)}.stat-mini .danger[data-v-257fbce6]{color:var(--c-danger)}.survivor-detail[data-v-257fbce6]{display:flex;flex-direction:column;gap:calc(var(--px)*2);min-width:180px}.detail-row[data-v-257fbce6]{display:flex;align-items:center;gap:calc(var(--px)*2)}.detail-label[data-v-257fbce6]{font-size:11px;color:var(--c-text-muted);width:48px}.detail-value[data-v-257fbce6]{font-size:12px;color:var(--c-text)}.detail-value.success[data-v-257fbce6]{color:var(--c-success)}.detail-value.warning[data-v-257fbce6]{color:var(--c-warning)}.detail-value.danger[data-v-257fbce6]{color:var(--c-danger)}.skill-section[data-v-257fbce6]{margin-top:calc(var(--px)*2);padding-top:calc(var(--px)*2);border-top:var(--px) solid var(--c-border)}.section-title[data-v-257fbce6]{font-size:11px;color:var(--c-accent);margin-bottom:calc(var(--px)*2)}.skill-grid[data-v-257fbce6]{display:grid;grid-template-columns:repeat(2,1fr);gap:calc(var(--px)*2)}.skill-item[data-v-257fbce6]{display:flex;justify-content:space-between;font-size:10px}.skill-name[data-v-257fbce6]{color:var(--c-text-muted)}.skill-val[data-v-257fbce6]{color:var(--c-accent)}.relation-section[data-v-257fbce6]{margin-top:calc(var(--px)*2);padding-top:calc(var(--px)*2);border-top:var(--px) solid var(--c-border)}.relation-bars[data-v-257fbce6]{display:flex;flex-direction:column;gap:calc(var(--px)*2)}.bar-row[data-v-257fbce6]{display:flex;align-items:center;gap:calc(var(--px)*2)}.bar-label[data-v-257fbce6]{font-size:10px;color:var(--c-text-muted);width:32px}.bar-val[data-v-257fbce6]{font-size:10px;color:var(--c-accent);width:28px;text-align:right}.pixel-bar .bar-fill.high[data-v-257fbce6]{background:linear-gradient(90deg,rgba(111,215,176,0.4) 0%,#6fd7b0 100%)}.pixel-bar .bar-fill.mid[data-v-257fbce6]{background:linear-gradient(90deg,rgba(121,211,255,0.4) 0%,#79d3ff 100%)}.pixel-bar .bar-fill.low[data-v-257fbce6]{background:linear-gradient(90deg,rgba(244,123,123,0.4) 0%,#f47b7b 100%)}.interact-section[data-v-257fbce6]{margin-top:calc(var(--px)*2);padding-top:calc(var(--px)*2);border-top:var(--px) solid var(--c-border)}@media (max-width:720px){.survivor-item[data-v-257fbce6]{transform:none}.surv-body[data-v-257fbce6]{grid-template-columns:1fr}.surv-aside[data-v-257fbce6]{align-items:stretch}.skill-list[data-v-257fbce6]{flex-direction:row;flex-wrap:wrap}.survivor-grid[data-v-257fbce6]{grid-template-columns:1fr}}.input-area[data-v-257fbce6]{margin-bottom:calc(var(--px)*2)}.interact-input[data-v-257fbce6]{width:100%;padding:calc(var(--px)*2);background:rgba(5,8,12,.6);border:var(--px) solid var(--c-border);color:var(--c-text);font-size:11px;resize:none}.interact-input[data-v-257fbce6]:focus{outline:none;border-color:var(--c-accent)}.interact-input[data-v-257fbce6]::placeholder{color:var(--c-text-muted)}.interact-btns[data-v-257fbce6]{display:flex;gap:calc(var(--px)*2)}.action-btn[data-v-257fbce6]{flex:1;padding:calc(var(--px)*2) calc(var(--px)*3);background:rgba(74,140,190,.6);border:var(--px) solid rgba(121,211,255,.6);color:var(--c-text);font-size:11px;cursor:pointer;transition:all .2s}.action-btn[data-v-257fbce6]:hover{background:rgba(121,211,255,.85);color:#0b131c}.action-btn.intimate[data-v-257fbce6]{background:rgba(180,80,130,.6);border-color:rgba(220,120,170,.6)}.action-btn.intimate[data-v-257fbce6]:hover{background:rgba(220,120,170,.85)}.action-btn.disabled[data-v-257fbce6]{opacity:.5;cursor:not-allowed}.action-btn.disabled[data-v-257fbce6]:hover{background:rgba(74,140,190,.6);color:var(--c-text)}.action-btn.disabled.intimate[data-v-257fbce6]:hover{background:rgba(180,80,130,.6)}.interact-anim-container[data-v-257fbce6]{width:100%;min-height:180px;position:relative;overflow:hidden;border-radius:4px}[data-v-257fbce6] .interact-scene{position:absolute;inset:0;cursor:pointer;overflow:hidden}[data-v-257fbce6] .interact-bg{position:absolute;inset:0}[data-v-257fbce6] .interact-grid{position:absolute;inset:0;background-image:linear-gradient(90deg,rgba(100,180,200,0.03) 1px,transparent 1px),linear-gradient(rgba(100,180,200,0.03) 1px,transparent 1px);background-size:16px 16px}[data-v-257fbce6] .interact-wave{position:absolute;left:50%;top:50%;transform:translate(-50%,-50%);width:50px;height:50px;border:1px solid rgba(100,180,200,.3);border-radius:50%;opacity:0}[data-v-257fbce6] .interact-scene[data-type="è‰²è‰²"] .interact-wave{border-color:rgba(200,100,150,.3)}[data-v-257fbce6] .interact-particles{position:absolute;inset:0;pointer-events:none}[data-v-257fbce6] .interact-particle{position:absolute;background:radial-gradient(circle,rgba(100,180,200,0.8) 0%,rgba(80,160,180,0.4) 100%);border-radius:50%;opacity:.6}[data-v-257fbce6] .interact-scene[data-type="è‰²è‰²"] .interact-particle{background:radial-gradient(circle,rgba(200,100,150,0.8) 0%,rgba(180,80,130,0.4) 100%)}[data-v-257fbce6] .interact-character{position:absolute;left:50%;top:45%;transform:translate(-50%,-50%);opacity:0}[data-v-257fbce6] .char-silhouette{width:40px;height:60px;background:linear-gradient(180deg,#3a4a5a 0%,#2a3a4a 100%);border-radius:20px 20px 8px 8px;position:relative}[data-v-257fbce6] .char-silhouette::before{content:"";position:absolute;top:-20px;left:50%;transform:translateX(-50%);width:28px;height:28px;background:#4a5a6a;border-radius:50%}[data-v-257fbce6] .char-glow{position:absolute;inset:-20px;background:radial-gradient(circle,rgba(100,180,200,0.3) 0%,transparent 70%);border-radius:50%}[data-v-257fbce6] .interact-scene[data-type="è‰²è‰²"] .char-glow{background:radial-gradient(circle,rgba(200,100,150,0.3) 0%,transparent 70%)}[data-v-257fbce6] .interact-ui{position:absolute;inset:0;display:flex;flex-direction:column;justify-content:space-between;align-items:center;padding:10% 8%;opacity:0;pointer-events:none}[data-v-257fbce6] .interact-header{display:flex;align-items:center;gap:8px;opacity:0}[data-v-257fbce6] .interact-icon{font-size:16px}[data-v-257fbce6] .interact-name{font-size:14px;font-weight:bold;color:#e2ecf7;letter-spacing:1px}[data-v-257fbce6] .interact-type-badge{padding:4px 12px;background:rgba(100,180,200,.3);border:1px solid rgba(100,180,200,.5);font-size:11px;color:#b0d8e8;letter-spacing:1px;opacity:0}[data-v-257fbce6] .interact-scene[data-type="è‰²è‰²"] .interact-type-badge{background:rgba(200,100,150,.3);border-color:rgba(200,100,150,.5);color:#e8b0c8}[data-v-257fbce6] .interact-content{max-width:90%;padding:8px 12px;background:rgba(5,8,12,.7);border:1px solid rgba(100,180,200,.3);opacity:0}[data-v-257fbce6] .interact-scene[data-type="è‰²è‰²"] .interact-content{border-color:rgba(200,100,150,.3)}[data-v-257fbce6] .content-text{font-size:11px;color:#93a7bd;line-height:1.4;text-align:center}[data-v-257fbce6] .interact-status{font-size:11px;color:#93a7bd;letter-spacing:1px;opacity:0}[data-v-257fbce6] .scene-skip{position:absolute;bottom:6px;left:50%;transform:translateX(-50%);font-size:9px;color:rgba(147,167,189,.4);opacity:0}
.map-panel[data-v-bb9df514]{display:flex;flex-direction:column;gap:calc(var(--px)*2)}.pixel-card-body[data-v-bb9df514]{overflow:hidden;max-height:280px;overflow-y:auto;will-change:scroll-position;transform:translateZ(0)}.expedition-card[data-v-bb9df514]{margin-bottom:0}.exp-info[data-v-bb9df514]{display:flex;align-items:center;gap:calc(var(--px)*3)}.exp-members[data-v-bb9df514]{font-size:13px;color:var(--c-text-muted)}.exp-meta[data-v-bb9df514]{margin-top:calc(var(--px)*2);display:flex;flex-direction:column;gap:calc(var(--px)*1.5)}.exp-line[data-v-bb9df514]{display:flex;align-items:center;gap:calc(var(--px)*2)}.exp-label[data-v-bb9df514]{font-size:10px;color:var(--c-text-dim);width:48px}.exp-value[data-v-bb9df514]{font-size:11px;color:var(--c-text)}.area-grid[data-v-bb9df514]{display:grid;grid-template-columns:repeat(2,minmax(0,1fr));gap:calc(var(--px)*3);padding-bottom:calc(var(--px)*8)}.area-item[data-v-bb9df514]{padding:calc(var(--px)*2);cursor:pointer;transition:transform .15s,box-shadow .15s,border-color .15s;border:calc(var(--px)*2) solid var(--c-border);background:var(--c-surface);display:flex;flex-direction:column;align-items:center;text-align:center;min-height:150px}.area-item[data-v-bb9df514]:hover{transform:translateY(-2px);box-shadow:0 4px 12px rgba(0,0,0,.4);border-color:var(--c-border-hover)}.area-item.cleared[data-v-bb9df514]{border-color:var(--c-success-dim)}.area-item.cleared[data-v-bb9df514]:hover{border-color:var(--c-success)}.area-item.locked[data-v-bb9df514]{opacity:.5;filter:saturate(0.4);border-style:dashed;cursor:not-allowed}.area-item.locked[data-v-bb9df514]:hover{transform:none;box-shadow:none}.area-item.locked .area-name[data-v-bb9df514]{color:var(--c-text-muted)}.lock-icon[data-v-bb9df514]{font-size:12px}.locked-hint[data-v-bb9df514]{font-size:10px;color:var(--c-text-dim);font-style:italic}.area-header[data-v-bb9df514]{display:flex;flex-direction:column;align-items:center;margin-bottom:calc(var(--px)*2);gap:calc(var(--px)*2)}.area-name[data-v-bb9df514]{font-size:12px;font-weight:bold;color:var(--c-text)}.area-type[data-v-bb9df514]{font-size:10px;color:var(--c-text-muted);margin-bottom:calc(var(--px)*2);text-align:center}.area-threat[data-v-bb9df514]{margin-bottom:calc(var(--px)*2)}.threat-icon[data-v-bb9df514]{margin-right:4px;font-size:11px}.area-item .pixel-bar[data-v-bb9df514]{width:100%;height:10px}.locked-hint[data-v-bb9df514]{text-align:center}.area-item .pixel-bar .bar-fill[data-v-bb9df514]{animation:map-bar-flow-bb9df514 2.4s ease-in-out infinite}@keyframes map-bar-flow-bb9df514{0%,100%{filter:brightness(0.9)}50%{filter:brightness(1.2)}}@media (min-width:900px){.area-grid[data-v-bb9df514]{grid-template-columns:repeat(3,minmax(0,1fr))}.area-item[data-v-bb9df514]{padding:calc(var(--px)*1.5);min-height:130px}}.pixel-tag.sm[data-v-bb9df514]{font-size:10px;padding:0 calc(var(--px)*2)}.area-detail[data-v-bb9df514]{display:flex;flex-direction:column;gap:calc(var(--px)*3);min-width:220px}.detail-row[data-v-bb9df514]{display:flex;align-items:center;gap:calc(var(--px)*3)}.detail-label[data-v-bb9df514]{font-size:13px;color:var(--c-text-muted);width:48px}.detail-value[data-v-bb9df514]{font-size:14px;color:var(--c-text)}.detail-num[data-v-bb9df514]{font-size:13px;color:var(--c-accent);width:40px;text-align:right}.detail-note[data-v-bb9df514]{font-size:11px;color:var(--c-text-dim);line-height:1.4;padding-left:52px}.team-input[data-v-bb9df514]{display:flex;flex-direction:column;gap:calc(var(--px)*2);padding-left:52px}.team-row[data-v-bb9df514]{display:flex;align-items:center;gap:calc(var(--px)*2)}.team-label[data-v-bb9df514]{font-size:12px;color:var(--c-text-muted);width:60px;flex:none}.team-input-field[data-v-bb9df514]{flex:1;min-width:0;padding:calc(var(--px)*2) calc(var(--px)*3);background:rgba(10,18,26,.6);border:calc(var(--px)) solid var(--c-border);color:var(--c-text);font-size:12px}.team-input-field[data-v-bb9df514]:focus{outline:none;border-color:var(--c-accent);box-shadow:0 0 0 1px rgba(120,180,220,.35)}.team-toggle[data-v-bb9df514]{display:inline-flex;align-items:center;gap:calc(var(--px)*2);font-size:11px;color:var(--c-text-dim)}.team-quick[data-v-bb9df514]{display:flex;flex-direction:column;gap:calc(var(--px)*1.5)}.team-quick-title[data-v-bb9df514]{font-size:10px;color:var(--c-text-muted);letter-spacing:1px}.team-quick-list[data-v-bb9df514]{display:flex;flex-wrap:wrap;gap:calc(var(--px)*2)}.team-chip[data-v-bb9df514]{display:inline-flex;align-items:center;gap:calc(var(--px)*1.5);padding:calc(var(--px)*1) calc(var(--px)*2.5);font-size:10px;color:var(--c-text);background:rgba(10,18,26,.6);border:var(--px) solid rgba(121,211,255,.25);cursor:pointer;transition:all .15s}.team-chip[data-v-bb9df514]:hover{border-color:rgba(121,211,255,.5);background:rgba(18,28,38,.75)}.team-chip.active[data-v-bb9df514]{border-color:var(--c-accent);background:rgba(121,211,255,.2);color:var(--c-accent)}.chip-task[data-v-bb9df514]{font-size:9px;color:var(--c-text-dim)}.action-btn[data-v-bb9df514]{margin-top:calc(var(--px)*3);padding:calc(var(--px)*3) calc(var(--px)*4);background:rgba(0,0,0,0);border:var(--px) solid var(--c-accent-dim);color:var(--c-accent);font-size:13px;cursor:pointer;transition:all .15s}.action-btn[data-v-bb9df514]:hover{background:var(--c-accent-tint);border-color:var(--c-accent)}.action-btn.disabled[data-v-bb9df514]{opacity:.5;cursor:not-allowed}.action-btn.disabled[data-v-bb9df514]:hover{background:rgba(0,0,0,0)}.action-btn.scavenge[data-v-bb9df514]{border-color:var(--c-success-dim);color:var(--c-success)}.action-btn.scavenge[data-v-bb9df514]:hover{background:rgba(var(--c-success-rgb,100,200,150),0.1);border-color:var(--c-success)}.action-btn.quick[data-v-bb9df514]{border-color:rgba(255,200,100,.5);color:#ffcf88}.action-btn.quick[data-v-bb9df514]:hover{background:rgba(255,200,100,.12);border-color:rgba(255,200,100,.8)}.cost-hint[data-v-bb9df514]{font-size:10px;opacity:.7;margin-left:4px}.locked-info[data-v-bb9df514]{display:flex;flex-direction:column;align-items:center;gap:calc(var(--px)*2);padding:calc(var(--px)*4)}.locked-icon[data-v-bb9df514]{font-size:24px}.locked-text[data-v-bb9df514]{font-size:13px;color:var(--c-text-muted)}.locked-hint-modal[data-v-bb9df514]{font-size:11px;color:var(--c-text-dim)}.explore-container[data-v-bb9df514]{width:100%;min-height:180px;position:relative;overflow:hidden;border-radius:4px}[data-v-bb9df514] .explore-scene{position:absolute;inset:0;background:#0a0e14;cursor:pointer;overflow:hidden}[data-v-bb9df514] .explore-scene.lite{background:#0a0f16}[data-v-bb9df514] .scene-bg{position:absolute;inset:0}[data-v-bb9df514] .scene-bg.snow-bg{background:radial-gradient(120% 80% at 20% 10%,rgba(230,245,255,0.18),transparent 60%),radial-gradient(120% 80% at 80% 20%,rgba(200,220,240,0.16),transparent 55%),linear-gradient(180deg,#0b121b 0%,#111a26 55%,#1a2634 100%)}[data-v-bb9df514] .explore-scene.warning .scene-bg.snow-bg{background:radial-gradient(120% 80% at 25% 10%,rgba(210,230,245,0.18),transparent 60%),radial-gradient(120% 80% at 75% 25%,rgba(190,205,220,0.18),transparent 55%),linear-gradient(180deg,#121b24 0%,#1a2632 55%,#233040 100%)}[data-v-bb9df514] .explore-scene.danger .scene-bg.snow-bg{background:radial-gradient(120% 80% at 25% 10%,rgba(220,210,215,0.18),transparent 60%),radial-gradient(120% 80% at 75% 25%,rgba(200,180,185,0.18),transparent 55%),linear-gradient(180deg,#1a1316 0%,#221a1f 55%,#2c2226 100%)}[data-v-bb9df514] .snow-haze{position:absolute;inset:-10% -10% 10% -10%;background:radial-gradient(ellipse at top,rgba(200,220,240,0.12) 0%,transparent 65%);opacity:.7;pointer-events:none}[data-v-bb9df514] .snow-sheet{position:absolute;inset:-24% -12% -32% -12%;pointer-events:none;opacity:.6;background-image:radial-gradient(1px 1px at 10% 20%,rgba(255,255,255,0.9) 0,rgba(255,255,255,0) 2px),radial-gradient(1px 1px at 40% 80%,rgba(240,250,255,0.85) 0,rgba(255,255,255,0) 2px),radial-gradient(1px 1px at 70% 30%,rgba(230,245,255,0.8) 0,rgba(255,255,255,0) 2px),radial-gradient(1px 1px at 85% 60%,rgba(255,255,255,0.7) 0,rgba(255,255,255,0) 2px),radial-gradient(1px 1px at 25% 55%,rgba(240,250,255,0.8) 0,rgba(255,255,255,0) 2px);background-size:80px 80px;background-position:0 0;animation:snow-drift-bb9df514 4.4s linear infinite;will-change:transform}[data-v-bb9df514] .snow-sheet.s2{opacity:.35;background-size:120px 120px;animation-duration:6.2s}[data-v-bb9df514] .snow-field{position:absolute;left:-15%;right:-15%;bottom:-6%;height:40%;background:linear-gradient(180deg,rgba(255,255,255,0) 0%,rgba(210,225,240,0.18) 55%,rgba(190,205,220,0.25) 100%),radial-gradient(80% 40% at 20% 10%,rgba(255,255,255,0.08),transparent 65%),radial-gradient(80% 40% at 80% 20%,rgba(255,255,255,0.06),transparent 65%);opacity:.8;pointer-events:none;animation:snow-field-drift-bb9df514 6.2s linear infinite;will-change:transform}[data-v-bb9df514] .aurora-layer{position:absolute;inset:0;pointer-events:none;mix-blend-mode:screen}[data-v-bb9df514] .aurora-band{position:absolute;left:-10%;width:120%;height:60px;filter:blur(6px);opacity:.4}[data-v-bb9df514] .aurora-band.a1{top:12%;background:linear-gradient(90deg,transparent 0%,rgba(90,180,200,0.3) 40%,rgba(140,220,200,0.35) 60%,transparent 100%)}[data-v-bb9df514] .aurora-band.a2{top:24%;background:linear-gradient(90deg,transparent 0%,rgba(110,170,220,0.25) 35%,rgba(140,200,240,0.3) 65%,transparent 100%)}[data-v-bb9df514] .fog-layer{position:absolute;inset:0;pointer-events:none}[data-v-bb9df514] .fog{position:absolute;width:140px;height:50px;background:radial-gradient(ellipse at center,rgba(160,190,210,0.2) 0%,transparent 70%);filter:blur(6px)}[data-v-bb9df514] .fog.f1{left:10%;top:40%}[data-v-bb9df514] .fog.f2{right:5%;top:55%}[data-v-bb9df514] .ground{position:absolute;left:-20px;right:-20px;bottom:0;background:linear-gradient(180deg,transparent 0%,rgba(200,220,240,0.1) 100%)}[data-v-bb9df514] .ground-far{height:40%;opacity:.3}[data-v-bb9df514] .ground-mid{height:30%;opacity:.5}[data-v-bb9df514] .ground-near{height:20%;opacity:.7;background:linear-gradient(180deg,transparent 0%,rgba(180,200,220,0.15) 100%)}[data-v-bb9df514] .snow-layer{position:absolute;inset:0;pointer-events:none}[data-v-bb9df514] .exp-snow{position:absolute;background:radial-gradient(circle,rgba(255,255,255,0.9) 0%,rgba(200,220,240,0.4) 100%);border-radius:50%;filter:blur(0.5px)}[data-v-bb9df514] .wind-layer{position:absolute;inset:0;pointer-events:none}[data-v-bb9df514] .wind-line{position:absolute;height:1px;background:linear-gradient(90deg,transparent 0%,rgba(200,220,240,0.4) 50%,transparent 100%);transform-origin:left center}[data-v-bb9df514] .w1{top:25%;left:0;width:45%}[data-v-bb9df514] .w2{top:45%;left:10%;width:55%}[data-v-bb9df514] .w3{top:65%;left:5%;width:40%}[data-v-bb9df514] .light-beam{position:absolute;left:50%;top:10%;width:120px;height:180px;background:radial-gradient(ellipse at top,rgba(255,240,200,0.12) 0%,transparent 70%);transform-origin:top center;opacity:0;pointer-events:none}[data-v-bb9df514] .explore-scene.warning .light-beam{background:radial-gradient(ellipse at top,rgba(220,200,160,0.18) 0%,transparent 70%)}[data-v-bb9df514] .explore-scene.danger .light-beam{background:radial-gradient(ellipse at top,rgba(220,160,160,0.2) 0%,transparent 70%)}[data-v-bb9df514] .explorer-sprite{position:absolute;bottom:0;left:0;width:24px;height:36px}[data-v-bb9df514] .explorer-track{position:absolute;left:-24px;bottom:18%;width:24px;height:36px}[data-v-bb9df514] .explore-scene.lite .explorer-track{animation:explore-walk-bb9df514 9.6s linear forwards;animation-delay:.5s;will-change:transform}[data-v-bb9df514] .explore-scene.lite .explorer-sprite{position:absolute;left:0;bottom:0;animation:explore-bob-bb9df514 .6s ease-in-out infinite;will-change:transform}[data-v-bb9df514] .sprite-body{position:absolute;bottom:12px;left:50%;transform:translateX(-50%);width:12px;height:16px;background:#3a4a5a;border-radius:3px 3px 1px 1px}[data-v-bb9df514] .sprite-body::before{content:"";position:absolute;top:-8px;left:50%;transform:translateX(-50%);width:9px;height:9px;background:#4a5a6a;border-radius:50%}[data-v-bb9df514] .sprite-pack{position:absolute;bottom:14px;left:50%;transform:translateX(-50%) translateX(6px);width:7px;height:10px;background:#2a3a4a;border-radius:1px}[data-v-bb9df514] .sprite-legs{position:absolute;bottom:0;left:50%;transform:translateX(-50%);width:12px;height:12px}[data-v-bb9df514] .sleg{position:absolute;bottom:0;width:4px;height:11px;background:#2a3a4a;border-radius:1px;transform-origin:top center}[data-v-bb9df514] .sleg-l{left:1px}[data-v-bb9df514] .sleg-r{right:1px}[data-v-bb9df514] .explore-scene.lite .sleg-l{animation:leg-swing-bb9df514 .3s ease-in-out infinite}[data-v-bb9df514] .explore-scene.lite .sleg-r{animation:leg-swing-bb9df514 .3s ease-in-out infinite;animation-delay:.15s}[data-v-bb9df514] .scene-ui{position:absolute;top:12%;left:50%;transform:translateX(-50%);text-align:center;opacity:0}[data-v-bb9df514] .compass{position:absolute;right:12px;bottom:12px;width:36px;height:36px;opacity:0}[data-v-bb9df514] .compass-ring{position:absolute;inset:0;border-radius:50%;border:1px solid rgba(120,170,210,.6);box-shadow:0 0 6px rgba(80,120,160,.4)}[data-v-bb9df514] .compass-needle{position:absolute;left:50%;top:50%;width:12px;height:2px;background:rgba(200,120,90,.8);transform:translate(-50%,-50%);transform-origin:20% 50%;border-radius:2px}[data-v-bb9df514] .compass-pulse{position:absolute;left:50%;top:50%;width:8px;height:8px;transform:translate(-50%,-50%);border:1px solid rgba(120,170,210,.6);border-radius:50%;opacity:.7}[data-v-bb9df514] .scene-title{display:flex;align-items:center;justify-content:center;gap:8px;margin-bottom:8px}[data-v-bb9df514] .title-icon{font-size:18px;filter:drop-shadow(0 0 4px rgba(100,150,200,0.5))}[data-v-bb9df514] .title-name{font-size:15px;font-weight:bold;color:#e2ecf7;text-shadow:0 1px 4px rgba(0,0,0,.5);letter-spacing:1px}[data-v-bb9df514] .scene-status{font-size:12px;color:#93a7bd;letter-spacing:2px}[data-v-bb9df514] .scene-skip{position:absolute;bottom:8px;left:50%;transform:translateX(-50%);font-size:10px;color:rgba(147,167,189,.4);opacity:0}@keyframes snow-drift-bb9df514{from{transform:translate3d(0,-4%,0)}to{transform:translate3d(-6%,10%,0)}}@keyframes snow-field-drift-bb9df514{from{transform:translate3d(0,0,0)}to{transform:translate3d(-2.5%,0,0)}}@keyframes explore-walk-bb9df514{from{transform:translate3d(0,0,0)}to{transform:translate3d(105vw,0,0)}}@keyframes explore-bob-bb9df514{0%,100%{transform:translate3d(0,0,0)}50%{transform:translate3d(0,-2px,0)}}@keyframes leg-swing-bb9df514{0%,100%{transform:rotate(18deg)}50%{transform:rotate(-18deg)}}@media (prefers-reduced-motion:reduce){[data-v-bb9df514] .explore-scene.lite .explorer-sprite,[data-v-bb9df514] .snow-sheet,[data-v-bb9df514] .snow-field{animation:none !important}}
.weapon-workbench[data-v-54eea983]{display:flex;flex-direction:column;gap:calc(var(--px)*2);overflow:visible}.module-card[data-v-54eea983]{padding:calc(var(--px)*3);border-color:var(--c-border);background:rgba(12,18,26,.8);display:flex;flex-direction:column;gap:calc(var(--px)*3)}.module-title[data-v-54eea983]{display:flex;align-items:center;justify-content:space-between;gap:calc(var(--px)*2)}.module-name[data-v-54eea983]{font-size:13px;color:var(--c-text);font-weight:bold}.module-desc[data-v-54eea983]{font-size:12px;color:var(--c-text-muted);line-height:1.5}.module-req[data-v-54eea983]{font-size:12px;color:rgba(150,180,210,.9)}.module-hint[data-v-54eea983]{font-size:11px;color:rgba(190,130,90,.9)}.module-hint.ready[data-v-54eea983]{color:rgba(120,200,160,.9)}.pixel-card-header[data-v-54eea983]{display:flex;align-items:center;justify-content:space-between;gap:calc(var(--px)*2)}.header-left[data-v-54eea983]{display:flex;align-items:center;gap:calc(var(--px)*2)}.header-tabs[data-v-54eea983]{display:flex;gap:calc(var(--px)*2)}.header-tabs .pixel-btn.active[data-v-54eea983]{background:rgba(120,190,230,.85);color:#08131b;box-shadow:0 0 10px rgba(120,190,230,.45)}.pixel-card-body[data-v-54eea983]{overflow:visible}.forge-anim-overlay[data-v-54eea983]{position:fixed;inset:0;display:none;z-index:240;pointer-events:none}.forge-anim-overlay.active[data-v-54eea983]{pointer-events:auto}.workbench-levels[data-v-54eea983]{margin-top:calc(var(--px)*2);display:flex;flex-direction:column;gap:calc(var(--px)*2);overflow:visible}.workbench-content[data-v-54eea983]{position:relative}.workbench-content.locked .craft-btn[data-v-54eea983],.workbench-content.locked .pixel-btn[data-v-54eea983]{pointer-events:none}.workbench-content.locked .level-lock[data-v-54eea983]{display:none}.panel-lock[data-v-54eea983]{position:absolute;inset:0;background:rgba(10,14,20,.5);backdrop-filter:blur(8px);border:1px solid rgba(120,160,190,.35);display:flex;flex-direction:column;align-items:center;justify-content:center;gap:calc(var(--px)*2);color:rgba(200,220,240,.9);z-index:2;text-align:center}.panel-lock .lock-title[data-v-54eea983]{font-size:13px;font-weight:600}.panel-lock .lock-desc[data-v-54eea983]{font-size:11px;color:rgba(170,200,220,.85)}.rule-title[data-v-54eea983]{font-size:12px;color:rgba(160,210,240,.95);font-weight:600}.level-card[data-v-54eea983]{border:1px solid rgba(120,160,190,.3);border-radius:8px;padding:calc(var(--px)*2) calc(var(--px)*3);background:rgba(8,12,18,.6);display:flex;flex-direction:column;gap:calc(var(--px)*2);border-color:color-mix(in srgb,var(--level-color) 80%,rgba(120,160,190,0.3));position:relative;overflow:hidden}.level-head[data-v-54eea983]{display:flex;align-items:center;justify-content:space-between;gap:calc(var(--px)*2);font-size:12px;color:var(--level-color)}.level-name[data-v-54eea983]{color:var(--c-text);font-weight:bold}.level-tech[data-v-54eea983]{color:rgba(140,190,220,.9);font-size:11px}.level-items[data-v-54eea983]{display:grid;grid-template-columns:repeat(2,minmax(0,1fr));gap:calc(var(--px)*2)}.item-card[data-v-54eea983]{border:1px solid rgba(120,160,190,.25);border-radius:6px;padding:calc(var(--px)*2);background:rgba(12,18,26,.7);display:flex;flex-direction:column;gap:calc(var(--px)*2);position:relative;overflow:hidden}.item-top[data-v-54eea983]{display:flex;align-items:center;gap:calc(var(--px)*1.5)}.item-icon[data-v-54eea983]{width:16px;height:16px;display:inline-flex;align-items:center;justify-content:center;color:color-mix(in srgb,var(--level-color) 80%,#cfe5f5)}.item-icon svg[data-v-54eea983]{width:16px;height:16px}.item-title[data-v-54eea983]{font-size:11px;color:rgba(210,230,245,.95)}.item-note[data-v-54eea983]{font-size:10px;color:rgba(140,190,220,.9);line-height:1.4}.item-meta[data-v-54eea983]{display:flex;align-items:center;justify-content:space-between;gap:calc(var(--px)*2)}.item-cost[data-v-54eea983]{font-size:10px;color:rgba(160,200,230,.9)}.craft-btn[data-v-54eea983]{font-size:10px}.craft-btn.shake[data-v-54eea983]{animation:btn-shake-54eea983 .35s ease}.craft-fx[data-v-54eea983]{position:absolute;inset:0;pointer-events:none;opacity:0}.item-card.crafting .craft-fx[data-v-54eea983]{opacity:1;animation:fx-fade-54eea983 .75s ease}.fx-ring[data-v-54eea983]{position:absolute;left:50%;top:50%;width:16px;height:16px;border:1px solid color-mix(in srgb,var(--level-color) 80%,#cfe5f5);border-radius:50%;transform:translate(-50%,-50%) scale(0.4);box-shadow:0 0 12px color-mix(in srgb,var(--level-color) 60%,transparent);animation:fx-ring-54eea983 .75s ease}.fx-burst[data-v-54eea983]{position:absolute;left:50%;top:50%;width:40px;height:40px;background:radial-gradient(circle,color-mix(in srgb,var(--level-color) 40%,transparent) 0%,transparent 70%);transform:translate(-50%,-50%);opacity:0;animation:fx-burst-54eea983 .75s ease}.fx-spark[data-v-54eea983]{position:absolute;width:4px;height:4px;background:color-mix(in srgb,var(--level-color) 80%,#fff);box-shadow:0 0 6px color-mix(in srgb,var(--level-color) 70%,transparent);border-radius:1px;opacity:0}.fx-spark.s1[data-v-54eea983]{left:18%;top:30%;animation:fx-spark-1-54eea983 .75s ease}.fx-spark.s2[data-v-54eea983]{right:20%;top:40%;animation:fx-spark-2-54eea983 .75s ease}.fx-spark.s3[data-v-54eea983]{left:45%;bottom:18%;animation:fx-spark-3-54eea983 .75s ease}@keyframes fx-ring-54eea983{0%{transform:translate(-50%,-50%) scale(0.3);opacity:0}50%{opacity:1}100%{transform:translate(-50%,-50%) scale(2.1);opacity:0}}@keyframes fx-burst-54eea983{0%{opacity:0;transform:translate(-50%,-50%) scale(0.6)}30%{opacity:.8}100%{opacity:0;transform:translate(-50%,-50%) scale(1.6)}}@keyframes fx-spark-1-54eea983{0%{opacity:0;transform:translate(0,0) scale(0.8)}40%{opacity:1}100%{opacity:0;transform:translate(-10px,-8px) scale(0.4)}}@keyframes fx-spark-2-54eea983{0%{opacity:0;transform:translate(0,0) scale(0.8)}40%{opacity:1}100%{opacity:0;transform:translate(10px,-10px) scale(0.4)}}@keyframes fx-spark-3-54eea983{0%{opacity:0;transform:translate(0,0) scale(0.8)}40%{opacity:1}100%{opacity:0;transform:translate(0,12px) scale(0.4)}}@keyframes fx-fade-54eea983{0%{opacity:0}30%{opacity:1}100%{opacity:0}}.level-lock[data-v-54eea983]{position:absolute;inset:0;background:rgba(6,10,16,.45);backdrop-filter:blur(6px);display:flex;flex-direction:column;align-items:center;justify-content:center;gap:calc(var(--px)*2);z-index:1;text-align:center;pointer-events:none}.level-lock.research-lock[data-v-54eea983]{background:rgba(6,10,16,.25);pointer-events:auto}.level-lock .lock-title[data-v-54eea983]{font-size:12px;color:rgba(220,230,240,.95)}.level-lock .lock-desc[data-v-54eea983]{font-size:11px;color:rgba(170,190,210,.85)}.workbench-pager[data-v-54eea983]{display:flex;align-items:center;justify-content:center;gap:calc(var(--px)*3);margin-top:calc(var(--px)*2)}.pager-text[data-v-54eea983]{font-size:11px;color:rgba(170,200,220,.85)}.workbench-pager .pixel-btn[data-v-54eea983]:disabled{opacity:.5;cursor:not-allowed}.levels-page[data-v-54eea983]{display:grid;gap:calc(var(--px)*2)}[data-v-54eea983] .forge-scene{position:absolute;inset:0;display:flex;align-items:center;justify-content:center;color:#dfe9f4;overflow:hidden}[data-v-54eea983] .forge-bg{position:absolute;inset:0;background:radial-gradient(circle at 50% 30%,rgba(90,140,180,0.3),transparent 55%),linear-gradient(180deg,#05080d 0%,#0a121a 50%,#0b141d 100%)}[data-v-54eea983] .forge-grid{position:absolute;inset:0;background-image:linear-gradient(90deg,rgba(90,150,190,0.04) 1px,transparent 1px),linear-gradient(rgba(90,150,190,0.04) 1px,transparent 1px);background-size:22px 22px;opacity:.5}[data-v-54eea983] .gear-field{position:absolute;inset:0;pointer-events:none}[data-v-54eea983] .gear-field .field-gear{position:absolute;border-radius:50%;border:1px solid rgba(90,140,180,.35);background:radial-gradient(circle,rgba(10,16,24,0.95) 0 38%,transparent 39%),repeating-conic-gradient(rgba(140,200,230,0.8) 0deg 12deg,rgba(20,30,45,0.15) 12deg 24deg),radial-gradient(circle,rgba(20,30,45,0.85) 0%,rgba(8,12,18,0.95) 70%);box-shadow:0 0 14px rgba(70,130,180,.45);opacity:.45}[data-v-54eea983] .gear-field .field-gear::after{content:"";position:absolute;inset:20%;border-radius:50%;border:1px solid rgba(120,170,210,.5);background:radial-gradient(circle,rgba(20,30,45,0.7) 0%,rgba(8,12,18,0.9) 70%)}[data-v-54eea983] .forge-scene[data-mode="research"] .gear-field{display:none}[data-v-54eea983] .forge-vignette{position:absolute;inset:0;background:radial-gradient(circle at center,transparent 40%,rgba(0,0,0,0.65) 85%)}[data-v-54eea983] .forge-flash{position:absolute;inset:0;background:radial-gradient(circle,rgba(200,230,255,0.7),transparent 60%);opacity:0}[data-v-54eea983] .forge-particle{position:absolute;border-radius:50%;opacity:0}[data-v-54eea983] .forge-ring{position:absolute;border:1px solid rgba(120,200,240,.6);border-radius:50%;opacity:0}[data-v-54eea983] .forge-ring.outer{width:260px;height:260px}[data-v-54eea983] .forge-ring.inner{width:160px;height:160px}[data-v-54eea983] .forge-core{position:relative;width:120px;height:120px;opacity:0}[data-v-54eea983] .forge-machinery{position:absolute;right:12%;top:22%;width:140px;height:140px;opacity:0}[data-v-54eea983] .forge-machinery .gear{position:absolute;border-radius:50%;border:2px solid rgba(140,190,220,.7);background:radial-gradient(circle,rgba(30,45,60,0.95) 0%,rgba(10,18,26,0.95) 60%);box-shadow:0 0 10px rgba(90,140,180,.6)}[data-v-54eea983] .forge-machinery .g1{width:48px;height:48px;left:0;top:30px}[data-v-54eea983] .forge-machinery .g2{width:36px;height:36px;right:10px;top:12px}[data-v-54eea983] .forge-machinery .g3{width:28px;height:28px;right:18px;bottom:10px}[data-v-54eea983] .forge-machinery .piston{position:absolute;left:10px;bottom:10px;width:26px;height:42px}[data-v-54eea983] .forge-machinery .piston-head{position:absolute;top:0;left:4px;width:18px;height:10px;background:rgba(130,170,200,.9);border-radius:2px}[data-v-54eea983] .forge-machinery .piston-rod{position:absolute;top:8px;left:12px;width:2px;height:28px;background:rgba(110,150,180,.7)}[data-v-54eea983] .forge-machinery .hammer{position:absolute;right:0;top:40px;width:40px;height:40px}[data-v-54eea983] .forge-machinery .hammer-arm{position:absolute;left:6px;top:6px;width:24px;height:4px;background:rgba(120,160,190,.8);border-radius:2px}[data-v-54eea983] .forge-machinery .hammer-head{position:absolute;right:0;top:2px;width:12px;height:12px;background:rgba(150,190,220,.9);border-radius:2px;box-shadow:0 0 6px rgba(120,180,210,.5)}[data-v-54eea983] .forge-machinery .steam{position:absolute;left:20px;bottom:0;width:40px;height:40px;pointer-events:none}[data-v-54eea983] .forge-machinery .steam-puff{position:absolute;width:12px;height:12px;border-radius:50%;background:radial-gradient(circle,rgba(180,220,255,0.6),transparent 70%);opacity:0}[data-v-54eea983] .forge-machinery .steam-puff.p1{left:0;bottom:4px}[data-v-54eea983] .forge-machinery .steam-puff.p2{left:12px;bottom:8px}[data-v-54eea983] .forge-machinery .steam-puff.p3{left:22px;bottom:2px}[data-v-54eea983] .forge-sparks{position:absolute;left:50%;top:60%;transform:translate(-50%,-50%);pointer-events:none}[data-v-54eea983] .forge-sparks .spark{position:absolute;width:4px;height:4px;background:rgba(180,220,255,.9);box-shadow:0 0 8px rgba(140,210,255,.8);border-radius:1px}[data-v-54eea983] .forge-sparks .s1{left:-10px;top:0}[data-v-54eea983] .forge-sparks .s2{left:8px;top:-6px}[data-v-54eea983] .forge-sparks .s3{left:14px;top:8px}[data-v-54eea983] .forge-sparks .s4{left:-4px;top:10px}[data-v-54eea983] .forge-scene[data-mode="craft"] .forge-ring{border-color:rgba(140,200,220,.8)}[data-v-54eea983] .forge-scene[data-mode="research"] .forge-machinery{display:none}[data-v-54eea983] .core-glow{position:absolute;inset:0;background:radial-gradient(circle,rgba(120,220,255,0.45),transparent 70%);opacity:.8}[data-v-54eea983] .core-burst{position:absolute;inset:-20px;border-radius:50%;border:1px solid rgba(140,220,255,.7);opacity:0}[data-v-54eea983] .core-icon{position:absolute;inset:0;display:flex;align-items:center;justify-content:center;font-size:28px;color:#bfe8ff;text-shadow:0 0 12px rgba(120,200,240,.8)}[data-v-54eea983] .forge-ui{position:absolute;bottom:12%;text-align:center;opacity:0}[data-v-54eea983] .forge-title{font-size:16px;letter-spacing:2px}[data-v-54eea983] .forge-subtitle{font-size:12px;color:rgba(190,220,245,.9);margin-top:6px}[data-v-54eea983] .forge-status{margin-top:10px;font-size:11px;color:rgba(140,190,220,.85)}[data-v-54eea983] .forge-skip{position:absolute;bottom:8px;left:50%;transform:translateX(-50%);font-size:10px;color:rgba(140,170,200,.5);opacity:0}.research-center[data-v-54eea983]{display:flex;flex-direction:column;gap:calc(var(--px)*1);align-items:center;justify-content:center;padding:calc(var(--px)*3) calc(var(--px)*4);background:rgba(30,50,70,.8);border:1px solid rgba(120,180,210,.6);color:rgba(220,240,255,.95);font-size:12px;box-shadow:0 0 12px rgba(120,190,230,.35)}.research-center[data-v-54eea983]:disabled{opacity:.5;cursor:not-allowed}.center-hint[data-v-54eea983]{font-size:10px;color:rgba(170,210,235,.85)}@keyframes btn-shake-54eea983{0%{transform:translate(0,0)}20%{transform:translate(-1px,1px)}40%{transform:translate(1px,-1px)}60%{transform:translate(-1px,-1px)}80%{transform:translate(1px,1px)}100%{transform:translate(0,0)}}@media (max-width:520px){.level-items[data-v-54eea983]{grid-template-columns:minmax(0,1fr)}}.page-slide-enter-active[data-v-54eea983],.page-slide-leave-active[data-v-54eea983]{transition:opacity .25s ease,transform .25s ease}.page-slide-enter-from[data-v-54eea983],.page-slide-leave-to[data-v-54eea983]{opacity:0;transform:translateX(calc(var(--px) * 6))}
.recruit-panel[data-v-4cf8abd8]{display:flex;flex-direction:column;gap:calc(var(--px)*3);position:relative}.recruit-anim-overlay[data-v-4cf8abd8]{display:none;position:fixed;inset:0;z-index:100;cursor:pointer;background:rgba(10,15,25,.98)}[data-v-4cf8abd8] .recruit-scene{position:absolute;inset:0;overflow:hidden;opacity:0}[data-v-4cf8abd8] .recruit-bg{position:absolute;inset:0}[data-v-4cf8abd8] .bg-gradient{position:absolute;inset:0;background:radial-gradient(ellipse at 50% 50%,rgba(30,50,80,0.95) 0%,rgba(15,22,35,0.98) 70%)}[data-v-4cf8abd8] .bg-grid{position:absolute;inset:0;background-image:linear-gradient(rgba(80,140,200,0.08) 1px,transparent 1px),linear-gradient(90deg,rgba(80,140,200,0.08) 1px,transparent 1px);background-size:30px 30px;animation:grid-pulse-4cf8abd8 3s ease-in-out infinite}[data-v-4cf8abd8] .bg-vignette{position:absolute;inset:0;background:radial-gradient(ellipse at 50% 50%,transparent 30%,rgba(0,0,0,0.6) 100%)}[data-v-4cf8abd8] .flash-layer{position:absolute;inset:0;background:radial-gradient(circle at 50% 50%,rgba(255,255,255,0.9) 0%,rgba(180,220,255,0.6) 40%,transparent 70%);opacity:0;pointer-events:none}[data-v-4cf8abd8] .particle-layer{position:absolute;inset:0;pointer-events:none}[data-v-4cf8abd8] .recruit-particle{position:absolute;border-radius:50%}[data-v-4cf8abd8] .energy-ring{position:absolute;top:50%;left:50%;border-radius:50%;border:2px solid;opacity:0;transform:translate(-50%,-50%) scale(0.5)}[data-v-4cf8abd8] .ring-outer{width:180px;height:180px;border-color:rgba(100,180,255,.4);box-shadow:0 0 20px rgba(100,180,255,.2),inset 0 0 20px rgba(100,180,255,.1)}[data-v-4cf8abd8] .ring-inner{width:120px;height:120px;border-color:rgba(200,160,100,.5);box-shadow:0 0 15px rgba(200,160,100,.25),inset 0 0 15px rgba(200,160,100,.15)}[data-v-4cf8abd8] .card-container{position:absolute;top:50%;left:50%;width:0;height:0;perspective:800px}[data-v-4cf8abd8] .recruit-card-slot{position:absolute;width:52px;height:72px;transform-style:preserve-3d;left:50%;top:50%;margin-left:-26px;margin-top:-36px}[data-v-4cf8abd8] .recruit-scene[data-mode="single"] .recruit-card-slot{width:80px;height:110px;margin-left:-40px;margin-top:-55px}[data-v-4cf8abd8] .card-wrapper{width:100%;height:100%;position:relative;transform-style:preserve-3d}[data-v-4cf8abd8] .card-face{position:absolute;inset:0;backface-visibility:hidden;border-radius:4px;display:flex;align-items:center;justify-content:center}[data-v-4cf8abd8] .card-back{background:linear-gradient(135deg,rgba(60,80,120,0.9) 0%,rgba(30,45,70,0.95) 100%);border:1px solid rgba(100,140,200,.4);transform:rotateY(180deg)}[data-v-4cf8abd8] .card-pattern{width:60%;height:60%;border:1px solid rgba(120,160,220,.3);border-radius:2px}[data-v-4cf8abd8] .card-front{background:linear-gradient(135deg,rgba(40,60,90,0.9) 0%,rgba(25,35,55,0.95) 100%);border:1px solid rgba(100,160,220,.5)}[data-v-4cf8abd8] .card-rank{font-size:14px;color:rgba(180,210,255,.8);font-weight:bold;text-shadow:0 0 8px rgba(120,180,255,.5)}[data-v-4cf8abd8] .center-core{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%) scale(0.5);opacity:0;width:60px;height:60px}[data-v-4cf8abd8] .core-burst{position:absolute;inset:-100%;background:radial-gradient(circle,rgba(255,220,150,0.8) 0%,rgba(255,180,100,0.4) 30%,transparent 60%);opacity:0}[data-v-4cf8abd8] .core-glow{position:absolute;inset:-50%;background:radial-gradient(circle,rgba(255,200,120,0.5) 0%,transparent 70%);opacity:0}[data-v-4cf8abd8] .core-icon{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);font-size:32px;color:rgba(255,220,150,.95);text-shadow:0 0 20px rgba(255,180,100,.8)}[data-v-4cf8abd8] .scene-ui{position:absolute;top:10%;left:50%;transform:translateX(-50%);text-align:center;opacity:0}[data-v-4cf8abd8] .scene-title{font-size:18px;color:rgba(200,220,255,.95);font-weight:bold;letter-spacing:4px;text-shadow:0 0 15px rgba(100,160,255,.5);margin-bottom:8px}[data-v-4cf8abd8] .scene-status{font-size:13px;color:rgba(160,190,220,.85)}[data-v-4cf8abd8] .scene-skip{position:absolute;bottom:8%;left:50%;transform:translateX(-50%);font-size:11px;color:rgba(140,160,180,.6);opacity:0}[data-v-4cf8abd8] .star-layer{position:absolute;inset:0;pointer-events:none}[data-v-4cf8abd8] .recruit-star{position:absolute;color:rgba(255,220,150,.9);text-shadow:0 0 8px rgba(255,200,100,.7),0 0 16px rgba(255,180,80,.4);filter:drop-shadow(0 0 4px rgba(255,200,100,0.5))}@keyframes grid-pulse-4cf8abd8{0%,100%{opacity:.6}50%{opacity:1}}.recruit-hero[data-v-4cf8abd8]{display:flex;align-items:center;gap:calc(var(--px)*3);padding:calc(var(--px)*3);background:linear-gradient(135deg,rgba(40,60,90,0.4) 0%,rgba(30,45,70,0.3) 100%);border:var(--px) solid var(--c-border);border-radius:calc(var(--px)*2)}.hero-icon[data-v-4cf8abd8]{font-size:28px;filter:drop-shadow(0 0 8px rgba(100,160,220,0.4))}.hero-content[data-v-4cf8abd8]{flex:1}.hero-title[data-v-4cf8abd8]{font-size:14px;font-weight:bold;color:var(--c-text);margin-bottom:var(--px)}.hero-desc[data-v-4cf8abd8]{font-size:11px;color:var(--c-text-muted)}.recruit-main[data-v-4cf8abd8]{display:flex;flex-direction:column;align-items:center;gap:calc(var(--px)*4);padding:calc(var(--px)*4)}.recruit-costs[data-v-4cf8abd8]{display:flex;flex-direction:column;align-items:center;gap:calc(var(--px)*2);padding:calc(var(--px)*2.5) calc(var(--px)*3);background:rgba(10,16,24,.45);border:var(--px) solid rgba(120,170,210,.25);width:100%;max-width:320px}.cost-title[data-v-4cf8abd8]{font-size:11px;color:var(--c-text-muted);letter-spacing:2px}.cost-grid[data-v-4cf8abd8]{display:grid;gap:calc(var(--px)*1.5);width:100%}.cost-row[data-v-4cf8abd8]{display:flex;align-items:center;gap:calc(var(--px)*2);justify-content:space-between}.cost-text[data-v-4cf8abd8]{font-size:10px;color:var(--c-text)}.cost-rate[data-v-4cf8abd8]{font-size:10px;color:var(--c-text-dim);min-width:28px;text-align:right}.recruit-actions[data-v-4cf8abd8]{display:flex;flex-wrap:wrap;gap:calc(var(--px)*3);justify-content:center}.rarity-rates[data-v-4cf8abd8]{display:flex;justify-content:center;gap:calc(var(--px)*2);flex-wrap:wrap}.rate-item[data-v-4cf8abd8]{display:flex;flex-direction:column;align-items:center;gap:var(--px)}.rate-tag[data-v-4cf8abd8]{font-size:10px;padding:var(--px) calc(var(--px)*2);border:var(--px) solid;border-radius:var(--px);font-weight:bold}.rate-tag.rarity-n[data-v-4cf8abd8]{color:#9fb2c4;border-color:rgba(140,160,180,.4)}.rate-tag.rarity-r[data-v-4cf8abd8]{color:#7fd4d8;border-color:rgba(90,170,180,.6)}.rate-tag.rarity-sr[data-v-4cf8abd8]{color:#8ab6ff;border-color:rgba(120,160,230,.7)}.rate-tag.rarity-ssr[data-v-4cf8abd8]{color:#e6c07a;border-color:rgba(200,160,90,.7)}.rate-tag.rarity-ur[data-v-4cf8abd8]{color:#f28f7a;border-color:rgba(210,90,70,.75)}.rate-val[data-v-4cf8abd8]{font-size:9px;color:var(--c-text-dim)}.recruit-btn[data-v-4cf8abd8]{display:flex;align-items:center;justify-content:center;gap:calc(var(--px)*2);padding:calc(var(--px)*3) calc(var(--px)*6);background:linear-gradient(135deg,rgba(90,152,120,0.2) 0%,rgba(70,130,100,0.15) 100%);border:calc(var(--px)*2) solid var(--c-success-dim);color:var(--c-success);font-size:14px;font-weight:bold;cursor:pointer;transition:all .2s}.recruit-btn[data-v-4cf8abd8]:hover:not(.disabled){background:rgba(90,152,120,.3);border-color:var(--c-success);transform:translateY(-2px);box-shadow:0 4px 12px rgba(90,152,120,.3)}.recruit-btn[data-v-4cf8abd8]:active:not(.disabled){transform:translateY(0)}.recruit-btn.disabled[data-v-4cf8abd8]{opacity:.5;cursor:not-allowed;filter:grayscale(0.5)}.recruit-btn.minor[data-v-4cf8abd8]{border-color:rgba(120,180,220,.5);color:var(--c-accent);background:linear-gradient(135deg,rgba(70,100,130,0.2) 0%,rgba(50,80,110,0.15) 100%)}.recruit-btn.minor[data-v-4cf8abd8]:hover:not(.disabled){border-color:var(--c-accent);background:rgba(90,150,200,.25);box-shadow:0 4px 12px rgba(90,150,200,.25)}.btn-icon[data-v-4cf8abd8]{font-size:18px}.btn-text[data-v-4cf8abd8]{letter-spacing:2px}.btn-cost[data-v-4cf8abd8]{font-size:10px;color:var(--c-text-dim)}.recruit-tip[data-v-4cf8abd8]{font-size:10px;color:var(--c-text-dim);text-align:center}.recruit-tip.warn[data-v-4cf8abd8]{font-size:12px;color:var(--c-warning);letter-spacing:1px}.recruit-modal[data-v-4cf8abd8]{display:flex;flex-direction:column;gap:calc(var(--px)*4);width:100%;max-width:400px;padding:calc(var(--px)*3)}.roll-grid[data-v-4cf8abd8]{display:grid;grid-template-columns:repeat(5,minmax(0,1fr));gap:calc(var(--px)*2)}.roll-grid.single[data-v-4cf8abd8]{grid-template-columns:repeat(1,minmax(0,1fr))}@media (max-width:400px){.recruit-modal[data-v-4cf8abd8]{max-width:100%;padding:calc(var(--px)*2)}.roll-grid[data-v-4cf8abd8]{grid-template-columns:repeat(5,1fr);gap:calc(var(--px)*1)}.roll-card[data-v-4cf8abd8]{padding:calc(var(--px)*2) calc(var(--px)*1);min-height:48px}.roll-name[data-v-4cf8abd8]{font-size:10px}.roll-meta[data-v-4cf8abd8]{font-size:9px}}.roll-card[data-v-4cf8abd8]{padding:calc(var(--px)*3) calc(var(--px)*2);min-height:56px;text-align:center;cursor:pointer;border-color:var(--c-border);opacity:0;transform:translateY(6px);position:relative;overflow:hidden}.roll-card.reveal[data-v-4cf8abd8]{animation:roll-reveal-4cf8abd8 .45s ease-out forwards}.roll-card.active[data-v-4cf8abd8]{outline:2px solid var(--c-accent);outline-offset:2px;box-shadow:0 0 12px rgba(121,211,255,.35)}.roll-card.rarity-n[data-v-4cf8abd8]{border-color:rgba(130,150,170,.5)}.roll-card.rarity-r[data-v-4cf8abd8]{border-color:rgba(80,160,170,.7);box-shadow:inset 0 0 10px rgba(80,160,170,.2)}.roll-card.rarity-sr[data-v-4cf8abd8]{border-color:rgba(90,140,220,.8);box-shadow:inset 0 0 12px rgba(90,140,220,.25)}.roll-card.rarity-ssr[data-v-4cf8abd8]{border-color:rgba(200,160,90,.9);box-shadow:inset 0 0 14px rgba(200,160,90,.3)}.roll-card.rarity-ur[data-v-4cf8abd8]{border-color:rgba(210,90,70,.9);box-shadow:inset 0 0 16px rgba(210,90,70,.35)}.roll-card.rarity-ssr[data-v-4cf8abd8]::after,.roll-card.rarity-ur[data-v-4cf8abd8]::after{content:"";position:absolute;inset:-40% -60%;background:linear-gradient(120deg,transparent 0%,rgba(255,240,200,0.18) 45%,transparent 70%);transform:translateX(-30%) rotate(6deg);animation:rarity-sheen-4cf8abd8 1.8s ease-in-out infinite;pointer-events:none}.roll-name[data-v-4cf8abd8]{font-size:12px;font-weight:bold}.roll-meta[data-v-4cf8abd8]{margin-top:var(--px);display:flex;justify-content:center;gap:calc(var(--px)*2);font-size:10px;color:var(--c-text-muted)}.roll-select[data-v-4cf8abd8]{margin-top:calc(var(--px));font-size:9px;color:var(--c-text-dim)}.pixel-tag.rarity-n[data-v-4cf8abd8]{color:#9fb2c4;border-color:rgba(140,160,180,.4)}.pixel-tag.rarity-r[data-v-4cf8abd8]{color:#7fd4d8;border-color:rgba(90,170,180,.6)}.pixel-tag.rarity-sr[data-v-4cf8abd8]{color:#8ab6ff;border-color:rgba(120,160,230,.7)}.pixel-tag.rarity-ssr[data-v-4cf8abd8]{color:#e6c07a;border-color:rgba(200,160,90,.7)}.pixel-tag.rarity-ur[data-v-4cf8abd8]{color:#f28f7a;border-color:rgba(210,90,70,.75)}.rolling-state[data-v-4cf8abd8]{display:flex;flex-direction:column;align-items:center;gap:calc(var(--px)*2);padding:calc(var(--px)*4);position:relative}.rolling-text[data-v-4cf8abd8]{font-size:12px;color:var(--c-text-muted)}.rolling-glow[data-v-4cf8abd8]{position:absolute;inset:0;background:radial-gradient(circle at 20% 30%,rgba(120,200,255,0.18),transparent 45%),radial-gradient(circle at 80% 60%,rgba(180,140,90,0.16),transparent 40%);opacity:.7;animation:rolling-glow-4cf8abd8 2.2s ease-in-out infinite;pointer-events:none}.rolling-grid[data-v-4cf8abd8]{display:grid;grid-template-columns:repeat(5,1fr);gap:calc(var(--px)*2);width:100%;z-index:1}.rolling-grid.single[data-v-4cf8abd8]{grid-template-columns:repeat(1,minmax(0,1fr))}.rolling-card[data-v-4cf8abd8]{height:28px;border:var(--px) solid var(--c-border);background:linear-gradient(90deg,rgba(30,40,52,0.4) 0%,rgba(60,80,100,0.6) 50%,rgba(30,40,52,0.4) 100%);background-size:200% 100%;animation:rolling-shimmer-4cf8abd8 1.1s ease-in-out infinite;display:flex;align-items:center;justify-content:center}.rolling-rank[data-v-4cf8abd8]{font-size:10px;color:rgba(180,200,220,.6);letter-spacing:1px}.rolling-bar[data-v-4cf8abd8]{width:120px;height:8px}.rolling-fill[data-v-4cf8abd8]{width:100%;animation:rolling-flow-4cf8abd8 1.2s ease-in-out infinite}.pick-hint[data-v-4cf8abd8]{font-size:11px;color:var(--c-text-muted);text-align:center}.cost-preview[data-v-4cf8abd8]{display:grid;gap:var(--px);font-size:10px;color:var(--c-text-muted);text-align:center}.action-btn[data-v-4cf8abd8]{padding:calc(var(--px)*2) calc(var(--px)*4);border:var(--px) solid var(--c-accent-dim);background:rgba(0,0,0,0);color:var(--c-accent);font-size:12px;cursor:pointer;transition:all .15s}.action-btn[data-v-4cf8abd8]:hover{background:var(--c-accent-tint);border-color:var(--c-accent)}.action-btn.success[data-v-4cf8abd8]{border-color:var(--c-success-dim);color:var(--c-success)}.action-btn.success[data-v-4cf8abd8]:hover{background:rgba(90,152,120,.1);border-color:var(--c-success)}.action-btn.danger[data-v-4cf8abd8]{border-color:var(--c-danger-dim);color:var(--c-danger)}.action-btn.danger[data-v-4cf8abd8]:hover{background:rgba(220,100,80,.12);border-color:var(--c-danger)}.action-btn.disabled[data-v-4cf8abd8]{opacity:.5;cursor:not-allowed}.action-btn.disabled[data-v-4cf8abd8]:hover{background:rgba(0,0,0,0)}.cost-hint[data-v-4cf8abd8]{font-size:10px;opacity:.7;margin-left:4px}.confirm-body[data-v-4cf8abd8]{display:flex;flex-direction:column;gap:calc(var(--px)*4);min-width:220px}.confirm-text[data-v-4cf8abd8]{font-size:12px;color:var(--c-text);text-align:center}.confirm-actions[data-v-4cf8abd8]{display:flex;justify-content:center;gap:calc(var(--px)*3)}@keyframes rolling-flow-4cf8abd8{0%{transform:translateX(-40%)}50%{transform:translateX(0%)}100%{transform:translateX(40%)}}@keyframes roll-reveal-4cf8abd8{0%{opacity:0;transform:translateY(8px) scale(0.96)}70%{opacity:1;transform:translateY(-2px) scale(1.02)}100%{opacity:1;transform:translateY(0) scale(1)}}@keyframes rolling-shimmer-4cf8abd8{0%{background-position:0% 50%}100%{background-position:100% 50%}}@keyframes rolling-glow-4cf8abd8{0%,100%{opacity:.5}50%{opacity:.9}}.rolling-ring[data-v-4cf8abd8]{position:absolute;width:140px;height:140px;border:1px solid rgba(120,200,255,.2);border-radius:50%;animation:rolling-ring-4cf8abd8 2.4s ease-in-out infinite;pointer-events:none}@keyframes rolling-ring-4cf8abd8{0%{transform:scale(0.7);opacity:0}40%{opacity:.6}100%{transform:scale(1.15);opacity:0}}@keyframes rarity-sheen-4cf8abd8{0%{transform:translateX(-60%) rotate(6deg);opacity:0}40%{opacity:.6}100%{transform:translateX(60%) rotate(6deg);opacity:0}}
.snow-layer[data-v-294122be]{position:absolute;inset:0;overflow:hidden;pointer-events:none;z-index:50;will-change:transform;transform:translateZ(0);contain:strict}.flake[data-v-294122be]{position:absolute;top:-4px;background:rgba(210,235,255,.9);opacity:.7;box-shadow:0 0 6px rgba(170,220,255,.45);animation:snow-fall-294122be linear infinite;will-change:transform,opacity;transform:translateZ(0);border-radius:50%}@keyframes snow-fall-294122be{0%{transform:translate3d(0,-4px,0);opacity:0}45%{transform:translate3d(calc(var(--drift,0px) * 0.55),190px,0)}10%{opacity:.6}90%{opacity:.4}100%{transform:translate3d(var(--drift,0px),400px,0);opacity:0}}
.app{position:relative;width:100%;overflow:hidden}.app.critical .frost-edge{background:var(--c-danger);opacity:.6}.app.danger .frost-edge{background:var(--c-warning);opacity:.4}.atmo{position:absolute;inset:0;z-index:0;pointer-events:none;overflow:hidden;will-change:transform;transform:translateZ(0);contain:strict}.atmo-layer{position:absolute;inset:-20%;opacity:.6;mix-blend-mode:screen;will-change:transform;transform:translateZ(0)}.atmo-layer.aurora{background:radial-gradient(60% 40% at 20% 20%,rgba(76,168,255,0.35),transparent 60%),radial-gradient(50% 60% at 70% 30%,rgba(111,215,176,0.25),transparent 70%),radial-gradient(40% 50% at 40% 80%,rgba(168,210,255,0.22),transparent 65%);filter:blur(8px) saturate(1.2);animation:aurora-drift 18s ease-in-out infinite}.atmo-layer.fog{background:radial-gradient(80% 60% at 10% 50%,rgba(8,18,28,0.45),transparent 70%),radial-gradient(70% 50% at 85% 60%,rgba(10,22,32,0.5),transparent 75%),linear-gradient(180deg,rgba(6,10,16,0.1),rgba(6,10,16,0.4));filter:blur(12px);animation:fog-drift 24s ease-in-out infinite}.atmo-layer.grain{background:repeating-linear-gradient(0deg,rgba(255,255,255,0.035) 0px,rgba(255,255,255,0.035) 1px,rgba(0,0,0,0) 2px,rgba(0,0,0,0) 4px),repeating-linear-gradient(90deg,rgba(255,255,255,0.02) 0px,rgba(255,255,255,0.02) 1px,rgba(0,0,0,0) 2px,rgba(0,0,0,0) 3px);opacity:.2;mix-blend-mode:soft-light;animation:grain-flicker 8s steps(2,end) infinite}.app>*:not(.atmo):not(.snow-layer){position:relative;z-index:1}@keyframes aurora-drift{0%{transform:translate3d(-2%,-1%,0) rotate(0.6deg)}50%{transform:translate3d(2%,1.5%,0) rotate(-0.6deg)}100%{transform:translate3d(-2%,-1%,0) rotate(0.6deg)}}@keyframes fog-drift{0%{transform:translate3d(1%,2%,0) scale(1.02)}50%{transform:translate3d(-2%,-1%,0) scale(1.05)}100%{transform:translate3d(1%,2%,0) scale(1.02)}}@keyframes grain-flicker{0%,100%{opacity:.18}50%{opacity:.26}}.frost-edge{position:absolute;left:0;right:0;height:var(--px);background:var(--c-accent-dim);opacity:.3;pointer-events:none;z-index:10}.frost-edge.top{top:0}.frost-edge.bottom{bottom:0}.main-content{padding:calc(var(--px)*3)}.panel-container{margin-top:calc(var(--px)*3);max-height:420px;overflow-y:auto;will-change:scroll-position;transform:translateZ(0);contain:content}.panel-container.no-scroll{max-height:none;overflow:visible;contain:layout}

/*# sourceMappingURL=main.css.map*/</style></head><body><div id="app"></div></body>
